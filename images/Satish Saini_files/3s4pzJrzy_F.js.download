if (self.CavalryLogger) { CavalryLogger.start_js(["2L1f\/"]); }

__d("legacy:dom",["DOM"],(function(a,b,c,d,e,f){a.DOM=b("DOM")}),3);
__d("FacebookSettingsPageTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:FacebookSettingsPageLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:FacebookSettingsPageLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:FacebookSettingsPageLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEntryPoint=function(a){this.$1.entry_point=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setProduct=function(a){this.$1.product=a;return this};c.setProductElement=function(a){this.$1.product_element=a;return this};c.setReferrerClient=function(a){this.$1.referrer_client=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={entry_point:!0,event:!0,product:!0,product_element:!0,referrer_client:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("NotifUserSettingActionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:NotifUserSettingActionLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:NotifUserSettingActionLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:NotifUserSettingActionLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setControllerClass=function(a){this.$1.controller_class=a;return this};c.setCurState=function(a){this.$1.cur_state=a;return this};c.setDeviceID=function(a){this.$1.device_id=a;return this};c.setEntityID=function(a){this.$1.entity_id=a;return this};c.setEventType=function(a){this.$1.event_type=a;return this};c.setMedium=function(a){this.$1.medium=a;return this};c.setNotifType=function(a){this.$1.notif_type=a;return this};c.setOsVersion=function(a){this.$1.os_version=a;return this};c.setPrevState=function(a){this.$1.prev_state=a;return this};c.setRecipID=function(a){this.$1.recip_id=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWantLess=function(a){this.$1.want_less=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={app_id:!0,app_version:!0,controller_class:!0,cur_state:!0,device_id:!0,entity_id:!0,event_type:!0,medium:!0,notif_type:!0,os_version:!0,prev_state:!0,recip_id:!0,source:!0,time:!0,want_less:!0,weight:!0};e.exports=a}),null);
__d("FlexibleScrollableArea",["DataStore","DOM","DOMDimensions","Event","Parent","Run","Style","Vector","throttle"],(function(a,b,c,d,e,f){var g=30,h=100;a=function(){"use strict";function a(a,c,d,e,f){this._element=a,this._tight=c,this._measureFrom=d,this._minHeight=e,this._margin=f,b("DataStore").set(this._element,"FlexibleScrollableArea",this),b("Run").onLeave(this.cleanup.bind(this)),this._listener=b("Event").listen(window,"resize",b("throttle")(this.poke,h,this)),this.poke()}var c=a.prototype;c.poke=function(){var a=b("DOM").find(this._element,".uiScrollableAreaBody");a=b("Vector").getElementDimensions(a).y+b("DOMDimensions").measureElementBox(a,"height",!0,!0,!0);if(this._tight){var c=this.getMaxHeight();a<c+g&&(c+=g);a=Math.max(Math.min(a,c),this._minHeight)}else a=Math.max(this.getMaxHeight(),this._minHeight);b("Style").set(this._element,"height",a+"px")};c.getMaxHeight=function(){if(this._measureFrom==="bottom"){var a=b("Vector").getViewportDimensions().y,c=b("Vector").getElementPosition(this._element,"viewport").y;a=a-c;return a-this._margin}c=b("Vector").getElementPosition(this._element,"viewport").y+b("Vector").getElementDimensions(this._element).y;return c-this._margin};c.cleanup=function(){this._listener&&this._listener.remove()};a.getInstance=function(a){a=b("Parent").byClass(a,"flexibleScrollableArea");return a?b("DataStore").get(a,"FlexibleScrollableArea"):null};return a}();e.exports=a}),null);
__d("FutureSideNavItem",["Arbiter","CSS","DOM","Parent","$","createArrayFromMixed","getElementText"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,c){this.id=a.id;this.up=c;this.endpoint=a.endpoint;this.type=a.type;this.node=a.node||b("$")(a.id);this.paths=a.path?b("createArrayFromMixed")(a.path):[];this.keys=a.key?b("createArrayFromMixed")(a.key):[];c=this._findKeys(this.keys);this.numericKey=c.numeric||this.keys[0];this.textKey=c.text||this.keys[0];this._pathPattern=this._buildRegex(this.paths);this._keyPattern=this._buildRegex(this.keys);this.hideLoading();this.hideSelected()}var c=a.prototype;c.equals=function(a){return a&&a.id===this.id};c.getLinkNode=function(){return b("DOM").scry(this.node,"a.item")[0]||b("DOM").scry(this.node,"a.subitem")[0]};c.matchPath=function(a){return this._matchInput(this._pathPattern,a)};c.matchKey=function(a){return this._matchInput(this._keyPattern,a)};c._matchInput=function(a,b){a=a&&a.exec(b);return a&&a.slice(1)};c.getTop=function(){return this.isTop()?this:this.up.getTop()};c.isTop=function(a){return!this.up};c.setCount=function(a,b){return this._updateCount(a,!0)};c.incrementCount=function(a,b){return this._updateCount(a,!1)};c._updateCount=function(a,c,d){var e=b("DOM").scry(this.node,"span.count")[0],f=e&&b("DOM").scry(e,"span.countValue")[0];if(f){c=c?0:parseInt(b("getElementText")(f),10);c=Math.max(0,c+a);a=this.isTop()?"hidden":"hiddenSubitem";b("DOM").setContent(f,c);d&&b("CSS").conditionClass(this.node,a,!c);b("CSS").conditionClass(e,"hidden_elem",!c);if(this.isTop()){f=b("DOM").scry(this.node,"div.linkWrap")[0];f&&(b("CSS").conditionClass(f,"noCount",!c),b("CSS").conditionClass(f,"hasCount",c))}}b("Arbiter").inform("NavigationMessage.COUNT_UPDATE_DONE")};c.showLoading=function(){b("CSS").addClass(this.node,"loading")};c.hideLoading=function(){b("CSS").removeClass(this.node,"loading")};c.showSelected=function(){b("CSS").addClass(this.node,"selectedItem"),b("CSS").hasClass(this.node,"hider")&&b("CSS").addClass(this._getExpanderParent(),"expandedMode")};c.hideSelected=function(){b("CSS").removeClass(this.node,"selectedItem")};c.showChildren=function(){b("CSS").addClass(this.node,"open")};c.hideChildren=function(){b("CSS").removeClass(this.node,"open")};c._getExpanderParent=function(){return b("Parent").byClass(this.node,"expandableSideNav")};c._buildRegex=function(a){if(a.length){a=a.map(function(a){if(typeof a==="string")return a.replace(/([^a-z0-9_])/gi,"\\$1");else if(a&&a.regex)return a.regex});return new RegExp("^(?:"+a.join("|")+")$")}};c._findKeys=function(a){var b=/^(app|group|fl)_/,c={};for(var d=0;d<a.length;d++){var e=b.test(a[d]);e&&!c.numeric?c.numeric=a[d]:!e&&!c.text&&(c.text=a[d]);if(c.numeric&&c.text)break}return c};return a}();e.exports=a}),null);
__d("FutureSideNavSection",["Bootloader","DOMQuery","$"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.id=a.id,this.node=this.node||b("$")(a.id),this.editEndpoint=a.editEndpoint}var c=a.prototype;c.equals=function(a){return a&&a.id===this.id};c.getEditorAsync=function(a){b("Bootloader").loadModules(["SortableSideNav"],function(c){c=new c(b("DOMQuery").find(this.node,"ul.uiSideNav"),this.editEndpoint);a(c)}.bind(this),"FutureSideNavSection")};return a}();e.exports=a}),null);
__d("FutureSideNav",["Arbiter","ChannelConstants","CSS","DOM","DOMDimensions","Event","FutureSideNavItem","FutureSideNavSection","Locale","NavigationMessage","PageTransitions","Parent","Run","SelectorDeprecated","URI","Vector","$","createArrayFromMixed","debounce"],(function(a,b,c,d,e,f){var g;a=function(){"use strict";function a(b,c,d){a.instance&&a.instance.uninstall();a.instance=this;if(typeof b==="undefined")return;this.init(b,c,d)}var c=a.prototype;c.init=function(a,c,d){this.root=a,this.items={},this.sections={},this.editor=null,this.editing=!1,this.selected=null,this.loading=null,this.keyParam="sk",this.defaultKey=c,this.uri=(g||(g=b("URI"))).getRequestURI(),this.ajaxPipe=d,this.ajaxPipeEndpoints={},this.sidecol=!0,this._installed=!0,this._handlePageTransitions=!0,b("PageTransitions").registerHandler(function(a){return this._handlePageTransitions&&this.handlePageTransition(a)}.bind(this)),this._eventHandlers=[],this._sectionEventHandlers={},this._arbiterSubscriptions=[b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_COMPLETED,this.navigationComplete.bind(this)),b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_FAILED,this.navigationFailed.bind(this)),b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_COUNT_UPDATE,this.navigationCountUpdate.bind(this)),b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_SELECT,this.navigationSelect.bind(this)),b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("nav_update_counts"),this.navigationCountUpdateFromPresence.bind(this)),b("Arbiter").subscribe("sideNavPopoverMenuItemClicked",function(a,c){a=b("Parent").byClass(c.bookmarkNode,"homeSideNav");a=a&&a.getAttribute("id");if(!a)return;this._handleMenuClick(this.sections[a],c.bookmarkNode,c.menuItemNode,c.menuNode)}.bind(this)),b("Arbiter").subscribe("sideNavPopoverMenuCheckFavorite",function(a,c){a=b("Parent").byClass(c.bookmarkNode,"homeSideNav");a=a&&a.getAttribute("id");if(!a)return;a=this.sections[a].equals(this.getSection("favorites"));var d=this.items[c.bookmarkNode.id];a?d.showFavorite(c.menuNode):d.hideFavorite(c.menuNode)}.bind(this))],this._handleResize=b("debounce")(this._checkNarrow.bind(this),200),this._eventHandlers.push(b("Event").listen(window,"resize",this._handleResize)),this._checkNarrow(),this._selectorSubscriptions=[],window.Selector&&this._selectorSubscriptions.push(b("SelectorDeprecated").subscribe(["open","close"],function(a,c){c=b("Parent").byClass(c.selector,"sideNavItem");c&&b("CSS").conditionClass(c,"editMenuOpened",a==="open")})),b("Run").onLeave(this.uninstall.bind(this)),this._pendingSections&&this._pendingSections.forEach(function(a){this.initSection.apply(this,a)}.bind(this))};c._checkNarrow=function(){if(!this.root)return;var a=b("Vector").getElementPosition(this.root).x;b("CSS").conditionClass(this.root,"uiNarrowSideNav",a<20||b("Locale").isRTL()&&a+b("DOMDimensions").getElementDimensions(this.root).width<b("DOMDimensions").getElementDimensions(b("$")("globalContainer")).width)};c.uninstall=function(){if(this._installed){this._installed=!1;this._handlePageTransitions=!1;this._arbiterSubscriptions.forEach(b("Arbiter").unsubscribe);this._selectorSubscriptions.forEach(function(a){b("SelectorDeprecated").unsubscribe(a)});this._eventHandlers.forEach(function(a){a.remove()});for(var a in this._sectionEventHandlers)this._sectionEventHandlers[a].remove();this._handleResize.reset()}};c.initSection=function(a,b){if(!this._installed){this._pendingSections=this._pendingSections||[];this._pendingSections.push(arguments);return}this._initItems(b);this._initSection(a)};c.addItem=function(a,b){this._initItem(a,b)};c._initItems=function(a){var c=function(a,b){var d=this._initItem(a,b);a.children&&a.children.forEach(function(a){c(a,d)})}.bind(this);b("createArrayFromMixed")(a).forEach(function(a){c(a,null)})};c._initItem=function(a,c){c=this.items[a.id]=this._constructItem(a,c);(c.equals(this.selected)||a.selected)&&this.setSelected(c);a=c.getLinkNode();a&&this._eventHandlers.push(b("Event").listen(a,"click",function(a){return!this.editing}.bind(this)));return c};c._initSection=function(a){this._sectionEventHandlers[a.id]&&this._sectionEventHandlers[a.id].remove();var c=this.sections[a.id]=this._constructSection(a);this._sectionEventHandlers[a.id]=b("Event").listen(c.node,"click",this.handleSectionClick.bind(this,c));return c};c._constructItem=function(a,c){return new(b("FutureSideNavItem"))(a,c)};c._constructSection=function(a){return new(b("FutureSideNavSection"))(a)};c.handleSectionClick=function(a,b){var c=this._getEventTarget(b,"a");c&&this._handleLinkClick(a,c,b)};c._getEventTarget=function(a,c){a=a.getTarget();if(a.tagName!==c.toUpperCase())return b("Parent").byTag(a,c);else return a};c._handleMenuClick=function(a,c,d,e){b("CSS").hasClass(d,"rearrange")&&this.beginEdit(a)};c._handleMenuItemClick=function(a,b,c){a==="rearrange"&&this.beginEdit(b)};c._handleLinkClick=function(a,c,d){b("CSS").hasClass(c,"navEditDone")&&(this.editing?this.endEdit():this.beginEdit(a),d.kill())};c.getItem=function(a){if(this._isCurrentPath(a))return this._getItemForKey(this._getKey(a.getQueryData())||this.defaultKey);else return this._getItemForPath(a.getPath())};c.getNodeForKey=function(a){a=this._getItemForKey(a);if(a)return a.node};c._isCurrentPath=function(a){return a.getDomain()===this.uri.getDomain()&&a.getPath()===this.uri.getPath()};c._getKey=function(a){return a[this.keyParam]};c._getSectionForNode=function(a){while(a=a.parentNode)if(a.id&&this.sections[a.id])return this.sections[a.id]};c._getItemForNode=function(a){a=b("Parent").byClass(a,"sideNavItem");return a&&this.items[a.id]};c._getItemForKey=function(a){return this._findItem(function(b){return b.matchKey(a)})};c._getItemForPath=function(a){return this._findItem(function(b){return b.matchPath(a)})};c._findItem=function(a){for(var b in this.items)if(a(this.items[b]))return this.items[b]};c.removeItem=function(a){a&&this.items[a.id]&&(b("DOM").remove(a.node),delete this.items[a.id])};c.removeItemByKey=function(a){this.removeItem(this._getItemForKey(a))};c.moveItem=function(a,c,d){a=b("DOM").find(a.node,"ul.uiSideNav");(d?b("DOM").prependContent:b("DOM").appendContent)(a,c.node)};c.setLoading=function(a){this.loading&&this.loading.hideLoading(),this.loading=a,this.loading&&this.loading.showLoading()};c.setSelected=function(a){this.setLoading(null),this.selected&&(this.selected.hideSelected(),this.selected.getTop().hideChildren()),this.selected=a,this.selected&&(this.selected.showSelected(),this.selected.getTop().showChildren())};c.handlePageTransition=function(a){var b=this.getItem(a);b=b&&b.endpoint&&this._doPageTransition(b,a);return b};c._doPageTransition=function(a,b){this.setLoading(a);this._sendPageTransition(a.endpoint,babelHelpers["extends"]({},this._getTransitionData(a,b),b.getQueryData()));return!0};c._sendPageTransition=function(a,c){c.endpoint=a,b("Arbiter").inform(b("NavigationMessage").NAVIGATION_BEGIN,{useAjaxPipe:this._useAjaxPipe(a),params:c})};c._getTransitionData=function(a,b){var c={};c.sidecol=this.sidecol;c.path=b.getPath();c[this.keyParam]=a.textKey;c.key=a.textKey;return c};c._useAjaxPipe=function(a){return this.ajaxPipe||this.ajaxPipeEndpoints[a]};c.navigationComplete=function(){this.loading&&this.setSelected(this.loading)};c.navigationFailed=function(){this.setLoading(null)};c.navigationSelect=function(a,b){a=this._getItemForKey(this._getKey(b));b.asLoading?this.setLoading(a):this.setSelected(a)};c.navigationCountUpdate=function(a,b){a=this._getItemForKey(b&&b.key);a&&(typeof b.count!=="undefined"?a.setCount(b.count,b.hide):typeof b.increment!=="undefined"&&a.incrementCount(b.increment,b.hide))};c.navigationCountUpdateFromPresence=function(a,c){c=c.obj;if(c&&((!c.class_name||c.class_name&&b("CSS").hasClass(this.root,c.class_name))&&c.items))for(var d=0;d<c.items.length;d++)this.navigationCountUpdate(a,c.items[d])};c.beginEdit=function(a){this.editing||(this.editing=!0,b("CSS").addClass(this.root,"editMode"),this._updateTrackingData(),this._initEditor(a))};c.endEdit=function(){this.editing&&(b("CSS").removeClass(this.root,"editMode"),this.editor&&this.editor.endEdit(),this.editor=null,this.editing=!1,this._updateTrackingData())};c._updateTrackingData=function(a){a=this.root.getAttribute("data-gt")||"{}";try{a=JSON.parse(a),this.editing?a.editing=!0:delete a.editing,this.root.setAttribute("data-gt",JSON.stringify(a))}catch(a){}};c._initEditor=function(a){a.getEditorAsync(function(a){this.editing&&(this.editor=a,this.editor.beginEdit())}.bind(this))};a.getInstance=function(){return a.instance||new a()};a.initMenu=function(b,c){c.subscribe("itemclick",function(c,d){c=a.getInstance();var e=b.getTriggerElem(),f=c._getSectionForNode(e);e=c._getItemForNode(e);c._handleMenuItemClick(d.item.getValue(),f,e)})};a.initSectionGlobally=function(b,c){a.getInstance().initSection(b,c)};return a}();a.instance=null;e.exports=a}),null);
__d("TimelineAllActivitySideNav",["csx","DOM","DOMQuery","FutureSideNav","PageTransitions","Scroll","Style","UIPagelet","$","ge","getOrCreateDOMID","getViewportDimensions"],(function(a,b,c,d,e,f,g){function h(){var a=b("ge")("rightColContent");a=a&&b("DOMQuery").scry(a,".fbTimelineLogScrubber")[0];a&&b("DOM").remove(a)}a={init:function(a,c,d,e){a=b("DOMQuery").find(b("$")("contentArea"),"._6-0");var f=b("getOrCreateDOMID")(a);b("Style").set(a,"minHeight",b("getViewportDimensions")().height+"px");b("PageTransitions").registerHandler(function(a){if(c===a.getPath()&&a.getQueryData().sk==d){a=babelHelpers["extends"]({profile_id:e,renderContentsOnly:1,uripath:a.toString()},a.getQueryData());var g=b("FutureSideNav").getInstance(),i=g&&g._getItemForKey(a.category_key==="genericapp"?a.log_filter:a.category_key||"all");i&&g.setLoading(i);h();b("UIPagelet").loadFromEndpoint("TimelineAllActivityColumn",f,a,{jsNonblock:!0,constHeight:!0,displayCallback:function(a){a(),i&&g.setSelected(i),b("Scroll").setTop(document.body,0),b("PageTransitions").transitionComplete(!0)}});return!0}return!1})}};e.exports=a}),null);
__d("FacebookSettingsPageProduct",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LEGACY_ACCOUNT_SETTINGS:"legacy_account_settings",SETTINGS_2_0:"settings_2_0",SETTINGS_2_0_MESSENGER_ONLY:"settings_2_0_messenger_only"})}),null);
__d("XEducationPromotionTriggerRecordController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/goodwill/promotion_trigger_info/record/",{})}),null);
__d("XNotificationsRoombaReviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/settings/notifications/review-updates/",{notif_id:{type:"Int",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("XPartnersPortalMobileSettingsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mobile/settings/",{carrier_id:{type:"Int"},partner_id:{type:"Int"},portal:{type:"Enum",enumType:1},ref:{type:"Enum",enumType:1},current_tab:{type:"String"}})}),null);
__d("SettingsController",["Arbiter","Banzai","Bootloader","CSS","CurrentUser","DOM","DOMQuery","Event","FacebookSettingsPageProduct","FacebookSettingsPageTypedLogger","NotifUserSettingActionTypedLogger","PageTransitions","Parent","Style","URI","XEducationPromotionTriggerRecordController","XNotificationsRoombaReviewController","XPartnersPortalMobileSettingsController","ge"],(function(a,b,c,d,e,f){var g,h=null,i=null;function j(){return new(g||(g=b("URI")))(window.location.href).getQueryData().tab||"account"}function k(){return new(g||(g=b("URI")))(window.location.href).getQueryData().section}function l(){return new(g||(g=b("URI")))(window.location.href).getQueryData().edit_section}function m(){return new(g||(g=b("URI")))(window.location.href).getQueryData().managed_notif_id}function n(){return new(g||(g=b("URI")))(window.location).getQueryData().id}function o(){return new(g||(g=b("URI")))(window.location).getQueryData().partner_id}function p(a){return new(g||(g=b("URI")))(a).addQueryData({view:null})}function q(a){return b("Parent").byClass(a,"fbSettingsListItem")}function r(a){return b("Parent").byClass(a,"fbSettingsListLink")}function s(a){return b("Parent").byClass(a,"cancel")}function t(){return new(g||(g=b("URI")))(window.location).getPath()}function u(){return"/pages/edit/"}function v(){return b("XPartnersPortalMobileSettingsController").getURIBuilder().getURI().toString()}var w={init:function(a,c,d){var e=this;this.extra_params=d||{};b("Event").listen(a,"click",function(a){a=a.getTarget();s(a)&&this.closeEditor()}.bind(this));b("PageTransitions").registerHandler(function(a){var c=a.getQueryData();if(a.getPath()==t()&&c.tab===j()&&c.view!==void 0){b("PageTransitions").transitionComplete();c.section&&(e._currentSection=c.section,b("Arbiter").inform("section_toggle",{action:"expand",section:e._currentSection}));return!0}if(c.tab!=j()||a.getPath()!==t()){e._sectionArbiter&&e._sectionArbiter.unsubscribe();e._sectionArbiter=null;e._masherEventHandler&&e._masherEventHandler.remove();e._masherEventHandler=null;e._selectorEventHandler&&e._selectorEventHandler.remove();e._selectorEventHandler=null;if(!e._banzaiRoute)return!1;if(a.getPath()==="/settings")b("Banzai").post(e._banzaiRoute,{event:"settings_link",exit_point:c.tab+"_settings"});else{c=a.getPath();a.getQueryData().audience_usered&&(c="composer_link");b("Banzai").post(e._banzaiRoute,{event:"exit_settings_page",exit_point:c})}e._banzaiRoute=null}return!1});d=k();if(d){a=c+":"+d;this.scrollToActiveSection(a)}c=l();c&&this.maybeOpenDialogForEditSection(c);d=m();d&&this.openManagedSettingsDialog(d)},openManagedSettingsDialog:function(a){var c=b("XNotificationsRoombaReviewController").getURIBuilder().setInt("notif_id",a).getURI();b("Bootloader").loadModules(["AsyncDialog"],function(a){a.bootstrap(c.toString(),null,"dialog")},"SettingsController")},maybeOpenDialogForEditSection:function(a){a=document.getElementById(a);if(!a)return;a=a.querySelector('a[rel="dialog"]');if(a)try{var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0);a.dispatchEvent(b)}catch(a){}},scrollToActiveSection:function(a){var b=this,c=document.getElementById(a);c?c.scrollIntoView():setTimeout(function(){b.scrollToActiveSection(a)},250)},getQueryString:function(a,b){if(b==null)return null;b=b?b:window.location.href;a=new RegExp("[?&]"+a+"=([^&#]*)","i");a=a.exec(b);return a?a[1]:null},handleLinkClick:function(a){var c=j(),d=k(),e=this.getQueryString("section",a),f=b("CurrentUser").getID();if(c==="notifications"){c=new(b("NotifUserSettingActionTypedLogger"))().setEventType("settings_page_impression").setSource("web_settings_page").setPrevState(d).setCurState(e).setControllerClass("SettingsController").setWantLess(!1).setRecipID(parseInt(f,10));c.log()}if(h&&h.checkUnsaved())return;i!==a&&(i&&b("CSS").removeClass(i,"async_saving"));i=a;d=a.getAttribute("data-meta");var g=JSON.parse(d);switch(g.rel){case"async":b("Bootloader").loadModules(["AsyncRequest"],function(b){b.bootstrap(g.ajaxify,a)},"SettingsController");break;case"dialog":b("Bootloader").loadModules(["AsyncDialog"],function(b){b.bootstrap(g.ajaxify,a,g.rel)},"SettingsController");break;default:throw new Error('SettingsController.handleLinkClick: Unexpected "rel".')}},updateErrors:function(a,b){h&&(h.hideErrors(),h.showError(a,b))},hideErrors:function(){h&&h.hideErrors()},getEditor:function(){return h},setEditor:function(a){(!a||!i||a.contains(i))&&(this.closeEditor()!==!1&&(i&&b("PageTransitions").go(p(i.href)),i=null,(h=a)&&a.show()))},prepareAndReplaceEditor:function(a){a.prepare(h.container),h=a},prepareAndSetEditor:function(a,b,c){a=q(a);w.setEditor(b.prepare(a,c))},closeEditor:function(){if(h&&h.hide()!==!1){b("Arbiter").inform("section_toggle",{action:"collapse",section:this._currentSection});if(b("DOM").contains(document.body,h.container)){var a=null,c=t(),d={tab:j()};c==u()?d.id=n():c==v()&&(d.partner_id=o());for(var e in this.extra_params)Object.prototype.hasOwnProperty.call(this.extra_params,e)&&(d[e]=this.extra_params[e]);a=new(g||(g=b("URI")))(c).setQueryData(d);b("PageTransitions").go(p(a))}h=null}return!h},setPreviewForCurrent:function(a){w.setPreview(h.container,a)},setPreview:function(a,c){a=b("DOM").find(q(a),"span.fbSettingsListItemContent");b("DOM").setContent(a,c)},closeAndAnimateEdited:function(){var a=h.container;w.closeEditor();w.animateEditedListItem(a)},animateEdited:function(a){w.animateEditedListItem(q(a))},animateEditedListItem:function(a){b("Bootloader").loadModules(["Animation"],function(c){var d=b("DOM").find(a,"span.fbSettingsListItemEdit"),e=b("DOM").find(a,"span.fbSettingsListItemSaved");b("CSS").hide(d);b("CSS").show(e);b("Style").set(d,"opacity",0);new c(r(d)).from("background","#fff8bb").to("background","#fff").duration(1e3).ease(c.ease.begin).ondone(function(){b("CSS").removeClass(a,"fbSettingsListItemEdited"),b("Style").set(this.obj,"background",""),new c(e).to("color","#fff").duration(500).ease(c.ease.begin).ondone(function(){b("CSS").hide(e),b("Style").set(e,"color",""),b("CSS").show(d),new c(d).to("opacity",1).duration(500).ease(c.ease.begin).go()}).go()}).go()},"SettingsController")},registerSectionLogging:function(a){this._banzaiRoute=a,this._sectionArbiter=b("Arbiter").subscribe("section_toggle",function(c,d){b("Banzai").post(a,{event:d.section+"_"+d.action})})},logClickFacebookSettingsPage:function(a,c){new(b("FacebookSettingsPageTypedLogger"))().setEvent("click").setProduct(a).setProductElement(c).log()},registerSelectorLogging:function(a,c,d,e,f){a=a.getInstance(),a.subscribe("open",function(){b("Banzai").post(f,{event:c})}),a.subscribe("close",function(){b("Banzai").post(f,{event:d})}),a.subscribe("changed",function(){b("Banzai").post(f,{event:e}),e==="canpost_change"&&b("Bootloader").loadModules(["AsyncRequest"],function(a){new a().setURI(b("XEducationPromotionTriggerRecordController").getURIBuilder().getURI()).setMethod("POST").setData({timestamps:["last_update_timeline_and_tagging_settings_timestamp"]}).send()},"SettingsController")})},registerNonAdamaSelectorLogging:function(a,c,d,e,f){this._selectorValue=f,this._selectorEventHandler=b("Event").listen(e,"click",function(){b("DOMQuery").scry(e,".openToggler").length===0?b("Banzai").post(a,{event:c}):b("Banzai").post(a,{event:d})})},setComposerNUXText:function(a,c){a=b("ge")(a);a&&b("DOM").setContent(a,c)},registerNonAdamaSelectorChange:function(a,c,d){d!=this._selectorValue&&(this._selectorValue=d,b("Banzai").post(a,{event:c}))},registerMasherLogging:function(a,c){this._masherEventHandler=b("Event").listen(a,"click",function(){b("Banzai").post("privacy_settings",{event:c})})}};e.exports=w}),null);
__d("XSettingsExitSurveyController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/settings/exit_survey/",{current_tab:{type:"String",required:!0}})}),null);
__d("SettingsExitSurvey",["AsyncRequest","Run","XSettingsExitSurveyController"],(function(a,b,c,d,e,f){a={launchOnExit:function(a){var c=b("XSettingsExitSurveyController").getURIBuilder().setString("current_tab",a).getURI();b("Run").onLeave(function(){new(b("AsyncRequest"))().setURI(c).setAllowCrossPageTransition(!0).send()})}};e.exports=a}),null);
__d("SelectorSubmitOnChange",["Parent","submitForm"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this._selector=a}var c=a.prototype;c.enable=function(){this._subscription=this._selector.subscribe("change",this._onChange.bind(this))};c.disable=function(){this._subscription.unsubscribe(),this._subscription=null};c._onChange=function(){var a=b("Parent").byTag(this._selector.getButton(),"form");a&&b("submitForm")(a)};return a}();Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("legacy:ui-side-nav-future-js",["FutureSideNav"],(function(a,b,c,d,e,f){a.FutureSideNav=b("FutureSideNav")}),3);