if (self.CavalryLogger) { CavalryLogger.start_js(["EvI3Y"]); }

__d("VideoScrubberPreviewComponent",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(b,c){var d=this;if(!c)throw new Error("VideoScrubberPreview Component config null.");this.$3=c;this.$4=b;this.$1=c.hasPreviewThumbnails;this.$2=a.getSpriteURIs(c.spriteIndexToURIMap);this.$5();this.$4.addListener("switchedToFullVideo",function(){return d.$5()})}var b=a.prototype;b.hasPreviewThumbnails=function(){return this.$1};b.$5=function(){this.$4.registerOption("VideoScrubberPreviewComponent","scrubberPreviewSprites",this.getSprites.bind(this)),this.$4.registerOption("VideoScrubberPreviewComponent","hasPreviewThumbnails",this.hasPreviewThumbnails.bind(this)),this.$4.registerOption("VideoScrubberPreviewComponent","previewThumbnailInformation",this.getPreviewThumbnailInformation.bind(this))};b.getSprites=function(){return this.$2};b.getPreviewThumbnailInformation=function(){this.hasPreviewThumbnails()?this.$3.imagesPerColumn=this.$3.maxImagesPerSprite/this.$3.imagesPerRow:this.$3.imagesPerColumn=0;return this.$3};a.getSpriteURIs=function(a){var b=new Map();for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.set(parseInt(c,10),a[c]);return b};return a}();e.exports=a}),null);
__d("VideoWithClickToTahoe",["cx","AsyncRequest","Bootloader","CSS","Event","URI","logVideosClickTracking"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1;a=function(){function a(a,c,d,e,f,g,i,j,k,l,m,n,o,p){this.$16=!1,this.$5=a,this.$6=new(h||(h=b("URI")))(c),this.$4=d,this.$1=e,this.$2=f,this.$7=g,this.$8=i,this.$9=j,this.$10=m,this.$11=k,this.$12=l,this.$13=p,this.$14=n,this.$15=o,this.$5.addListener("stateChange",this.$17.bind(this)),this.$5.addListener("toggleFullscreen",this.$17.bind(this)),this.$5.setLogEntryPropertyGetters({channel_eligibility:"eligible"}),this.$5.addListener("enterTahoe",this.$18.bind(this,"control_click")),this.canOpenTahoe()&&this.$19(),this.$5.addListener("clickVideo",this.$20.bind(this)),this.$5.hasSeenClick()&&this.$20()}var c=a.prototype;c.$19=function(){if(this.$21())return;var a=this.$5.getVideoNode();b("CSS").addClass(a,"_62vr");b("CSS").addClass(a,"_1yhw");b("CSS").addClass(a,"_400z");b("CSS").addClass(a,"_1vek");var c=this.$5.isBroadcast();c&&b("CSS").addClass(a,"_3yn5")};c.$22=function(){if(this.$21())return;var a=this.$5.getVideoNode();b("CSS").removeClass(a,"_62vr");b("CSS").removeClass(a,"_1yhw");b("CSS").removeClass(a,"_400z");b("CSS").removeClass(a,"_1vek");b("CSS").removeClass(a,"_3yn5")};c.$17=function(){this.$21()||(this.canOpenTahoe()?this.$19():this.$22())};c.$21=function(){return this.$5.isState("destroyed")};c.$20=function(){if(this.$16)return;if(!this.canOpenTahoe())if(this.$5.isState("playing")){if(this.$5.getOption("VideoWithLiveBroadcast","isLive")||this.$5.getOption("VideoWithInstreamVideo","disableClickToPause"))return;this.$5.pause("user_initiated")}else b("logVideosClickTracking")(this.$5.getVideoNode()),this.$5.play("user_initiated");else this.$18("player_click")};c.$23=function(){i=!0,b("Bootloader").loadModules(["TahoeController","TahoeVideoView"],function(){},"VideoWithClickToTahoe"),this.$3&&this.$3.remove(),this.$3=null};c.canOpenTahoe=function(){var a=this.$5.getSource();if(a=="tahoe"||a=="channel")return!1;a=this.$5.getOption("VideoWithInstreamVideo","disableClickToPause");return this.$5.isFullscreen()||a||!this.$5.isState("playing")?!1:!0};c.invokeClickEvent=function(){this.$20()};c.disable=function(){this.$16=!0};c.enable=function(){this.$16=!1};c.$18=function(a){var c=this;if(this.$2)new(b("AsyncRequest"))(this.$6.toString()).send(),this.$5.pause();else{i=!0;this.$3&&this.$3.remove();this.$3=null;var d=(h||(h=b("URI"))).getNextURI(),e=babelHelpers["extends"]({},d.getQueryData(),{ref:"tahoe"});b("Bootloader").loadModules(["TahoeController"],function(b){b.openFromVideoPlayer(c.$5,c.$6.setQueryData(e),c.$4,c.$1,a,c.$7,c.$8,c.$9,c.$11,c.$12,c.$10,c.$14,c.$15,c.$13)},"VideoWithClickToTahoe")}};a.setUpBootloadOnHover=function(a){if(i||a.$3)return;a.$3=b("Event").listen(a.$5.getRootNode(),"mouseover",a.$23.bind(a))};return a}();e.exports=a}),null);
__d("AbstractVideoFullscreenControl.react",["cx","AbstractButton.react","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={awaitingUpdate:!1},c.isFullscreen=function(){return c.state.awaitingUpdate?c.state.isFullscreenOverride:!!c.props.isFullscreen},c.onButtonClick=function(){c.props.onToggleFullscreen&&c.props.onToggleFullscreen()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=Object.assign({},this.props);delete a.isFullscreen;delete a.onToggleFullscreen;return h.jsx(b("AbstractButton.react"),babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.isFullscreen?"uiContextualLayerParent":"",this.props.className),disabled:this.props.disabled,image:this.props.image,label:this.props.label,onClick:this.onButtonClick}))};return c}(h.PureComponent);a.propTypes={disabled:(c=b("prop-types")).bool,image:c.element,isFullscreen:c.bool,onToggleFullscreen:c.func};e.exports=a}),null);
__d("FeedVideoPlayerController",["csx","DOM","DOMQuery","LitestandStoryInsertionStatus","Run","SubscriptionsHandler","VideoAutoplayPlayerBase","VideoPlayerApiEvents","VideoPlayerExperiments","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","getElementPosition","getViewportDimensions","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=42;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e.$FeedVideoPlayerController1=d;e.$FeedVideoPlayerController2=c;e.$FeedVideoPlayerController3=new Set();e.$FeedVideoPlayerController1.viewport_autoplay||e.$FeedVideoPlayerController3.add("server_blocked");e.$FeedVideoPlayerController12=b("VideoPlayerExperiments").autoplayUntilHalfGone?.5:1;e.$FeedVideoPlayerController4=e.isAutoplayable();e.$FeedVideoPlayerController6=d.controller;e.$FeedVideoPlayerController10=!!d.startsMuted;e.$FeedVideoPlayerController13=!1;e.$FeedVideoPlayerController7=e.isAutoplayable();(e.$FeedVideoPlayerController6.getIsInChannel()||e.$FeedVideoPlayerController6.isState("playing")&&!e.$FeedVideoPlayerController6.isMuted())&&(e.$FeedVideoPlayerController7=!1);e.$FeedVideoPlayerController6.registerOption("FeedAutoplay","isAutoplaying",function(){return e.$FeedVideoPlayerController7},function(a){e.$FeedVideoPlayerController7=a});e.$FeedVideoPlayerController6.registerOption("FeedAutoplay","isVisibleForAutoplay",function(){return e.isVisible()});e.$FeedVideoPlayerController6.registerOption("FeedAutoplay","shouldOpenSidePaneInChannelView",function(){return d.autoPlayWithChannelViewOrSnowlift});e.$FeedVideoPlayerController6.registerOption("FeedAutoplay","isFilteredByWarningScreen",function(){return e.$FeedVideoPlayerController13},function(a){e.$FeedVideoPlayerController13=a});e.$FeedVideoPlayerController6.setLogEntryPropertyGetters({autoplay_eligible:function(){return e.isAutoplayable()},autoplay_failure_reasons:function(){return JSON.stringify(Array.from(e.$FeedVideoPlayerController3))}});e.$FeedVideoPlayerController14();b("Run").onLeave(function(){e.$FeedVideoPlayerController5.release()});if(e.isState("fallback")){e.$FeedVideoPlayerController15();e.$FeedVideoPlayerController16();return babelHelpers.assertThisInitialized(e)}e.$FeedVideoPlayerController5.addSubscriptions(b("LitestandStoryInsertionStatus").registerBlocker(function(){return e.isState("playing")}));return e}var d=c.prototype;d.$FeedVideoPlayerController17=function(){return this.$FeedVideoPlayerController6.isState("destroyed")};d.getDistanceToViewport=function(){if(this.$FeedVideoPlayerController17())return-Infinity;if(this.$FeedVideoPlayerController6.isFullscreen())return 0;var a=b("getViewportDimensions")().height,c=this.getDOMPosition();if(c.height===0)return-Infinity;c=c.y+(1-this.$FeedVideoPlayerController12)*c.height;return c-a/2};d.isVisible=function(){if(this.$FeedVideoPlayerController17())return!1;if(this.$FeedVideoPlayerController6.isFullscreen())return!0;if(b("gkx")("1250684")&&this.$FeedVideoPlayerController6.hasDialog()&&!this.$FeedVideoPlayerController6.isTahoe())return!1;var a=b("getViewportDimensions")().height,c=b("getViewportDimensions")().width,d=this.getDOMPosition();if(d.height===0)return!1;var e=d.y-h+(1-this.$FeedVideoPlayerController12)*d.height,f=d.y+this.$FeedVideoPlayerController12*d.height,g=d.x+(1-this.$FeedVideoPlayerController12)*d.width,i=d.x+this.$FeedVideoPlayerController12*d.width;if(e<0||f>=a||g<0||i>=c)return!1;e=this.$FeedVideoPlayerController18();return e!==null?this.$FeedVideoPlayerController19(d,b("getElementPosition")(e)):!0};d.$FeedVideoPlayerController18=function(){var a=b("DOMQuery").scry(this.$FeedVideoPlayerController2.video_container,"^div._1yj5");return a.length>0?a[0]:null};d.$FeedVideoPlayerController19=function(a,b){var c=a.x;a=a.x+a.width;var d=b.x;b=b.x+b.width;return d<c&&a<b};d.isAutoplayable=function(){return this.$FeedVideoPlayerController1.viewport_autoplay&&!this.$FeedVideoPlayerController9&&!this.$FeedVideoPlayerController3.size&&!this.$FeedVideoPlayerController13};d.getCurrentTimePosition=function(){return this.$FeedVideoPlayerController6.getCurrentTimePosition()};d.playWithoutUnmute=function(a){this.$FeedVideoPlayerController6.play(a)};d.getVideoID=function(){return this.$FeedVideoPlayerController6.getVideoID()};d.$FeedVideoPlayerController20=function(){this.$FeedVideoPlayerController16()};d.$FeedVideoPlayerController14=function(){var a=this;this.$FeedVideoPlayerController5=new(b("SubscriptionsHandler"))();var c=[["finishPlayback",function(){return a.$FeedVideoPlayerController21()}],["turnOffAutoplay",function(b){var c=null;b&&(c=b.reason);a.$FeedVideoPlayerController22(c)}],["unmuteVideo",function(){return a.$FeedVideoPlayerController23()}],["stateChange",function(){return a.$FeedVideoPlayerController24()}],["switchVideo",function(){return a.$FeedVideoPlayerController20()}],["fallbackPlay",function(){return a.$FeedVideoPlayerController25()}],["buffered",function(){return a.$FeedVideoPlayerController16()}],["buffering",function(){return a.$FeedVideoPlayerController16()}],["beginPlayback",function(b){b=b.reason;return a.$FeedVideoPlayerController26(b)}],["toggleFullscreen",function(){return a.$FeedVideoPlayerController27()}],["resumeAutoplay",function(b){var c=null;b&&(c=b.reason);a.$FeedVideoPlayerController28(c)}],["crossfadeWatchAndScroll",function(){return a.$FeedVideoPlayerController29()}],["enterWatchAndScroll",function(){return a.$FeedVideoPlayerController29()}],["exitWatchAndScroll",function(){return a.$FeedVideoPlayerController30()}],["muteVideo",function(){return a.$FeedVideoPlayerController31()}]],d=function(b){return a.emit.bind(a,b)};this.$FeedVideoPlayerController5.addSubscriptions.apply(this.$FeedVideoPlayerController5,c.map(function(b){var c=b[0];b=b[1];return a.$FeedVideoPlayerController6.addListener(c,b)}).concat(b("VideoPlayerApiEvents").map(function(b){return a.$FeedVideoPlayerController6.addListener(b,d(b))})))};d.$FeedVideoPlayerController31=function(){b("VideoPlayerExperiments").fixFeedVideosPlayOffscreen&&this.$FeedVideoPlayerController32("unmuted")};d.$FeedVideoPlayerController30=function(){b("VideoPlayerExperiments").fixFeedVideosPlayOffscreen&&(this.$FeedVideoPlayerController32("watch_and_scroll"),this.$FeedVideoPlayerController6&&this.$FeedVideoPlayerController6.isMuted()&&this.$FeedVideoPlayerController32("unmuted"))};d.$FeedVideoPlayerController29=function(){b("VideoPlayerExperiments").fixFeedVideosPlayOffscreen&&(this.$FeedVideoPlayerController33("watch_and_scroll"),this.$FeedVideoPlayerController32("manually_paused"))};d.$FeedVideoPlayerController27=function(){this.$FeedVideoPlayerController10&&this.$FeedVideoPlayerController6.unmute()};d.$FeedVideoPlayerController24=function(){if(this.$FeedVideoPlayerController17())return;this.$FeedVideoPlayerController6.isState("fallback")&&this.$FeedVideoPlayerController15();!this.$FeedVideoPlayerController6.isState("loading")&&this.$FeedVideoPlayerController8&&(clearTimeout(this.$FeedVideoPlayerController8),this.$FeedVideoPlayerController8=null);this.$FeedVideoPlayerController16()};d.$FeedVideoPlayerController26=function(a){b("VideoPlayerExperiments").fixFeedVideosPlayOffscreen&&this.$FeedVideoPlayerController32("manually_paused"),a==="user_initiated"&&this.$FeedVideoPlayerController10&&this.$FeedVideoPlayerController6.unmute()};d.preload=function(){this.$FeedVideoPlayerController6.preload&&this.$FeedVideoPlayerController6.preload()};d.logDisplayed=function(){this.$FeedVideoPlayerController6.logEvent("displayed",{autoplay_reason:this.$FeedVideoPlayerController1.autoplay_reason})};d.$FeedVideoPlayerController25=function(){var a={error:b("VideoPlayerLoggerErrors").ENTERED_FALLBACK,state:b("VideoPlayerLoggerErrorStates").PLAYBACK_FAILURE};this.$FeedVideoPlayerController6.logEvent("error",a)};d.$FeedVideoPlayerController23=function(){b("VideoPlayerExperiments").slidingWNSv3&&this.$FeedVideoPlayerController6.isAd()&&(this.$FeedVideoPlayerController12=.5),this.$FeedVideoPlayerController10=!1,this.$FeedVideoPlayerController7=!1};d.$FeedVideoPlayerController21=function(){var a=this.$FeedVideoPlayerController6.getOption("Looping","isLooping");a||this.$FeedVideoPlayerController33("has_seen_finished")};d.$FeedVideoPlayerController15=function(){this.$FeedVideoPlayerController11={isAutoplaying:this.$FeedVideoPlayerController7,preventAutoplay:this.$FeedVideoPlayerController9},this.$FeedVideoPlayerController33("fallback")};d.$FeedVideoPlayerController33=function(a){this.$FeedVideoPlayerController9=!0,a&&this.$FeedVideoPlayerController3.add(a),this.$FeedVideoPlayerController7=!1};d.$FeedVideoPlayerController28=function(a){this.$FeedVideoPlayerController32(a)};d.$FeedVideoPlayerController32=function(a){a?this.$FeedVideoPlayerController3["delete"](a):(this.$FeedVideoPlayerController3["delete"]("unmuted"),this.$FeedVideoPlayerController3["delete"]("has_seen_finished"),this.$FeedVideoPlayerController3["delete"]("manually_paused")),this.$FeedVideoPlayerController9=this.$FeedVideoPlayerController3.size>0,this.$FeedVideoPlayerController7=!this.$FeedVideoPlayerController9};d.$FeedVideoPlayerController22=function(a){if(b("VideoPlayerExperiments").enableAutoplayOnUnmutedVideos&&a==="unmuted")return;this.$FeedVideoPlayerController33(a);this.$FeedVideoPlayerController7=!1};d.$FeedVideoPlayerController16=function(){this.$FeedVideoPlayerController34()};d.getDOMPosition=function(){return this.$FeedVideoPlayerController6.getDOMPosition()};d.isLooping=function(){return!!this.$FeedVideoPlayerController6.getOption("Looping","isLooping")};d.pause=function(a){this.$FeedVideoPlayerController6.pause(a)};d.$FeedVideoPlayerController35=function(){this.$FeedVideoPlayerController14(),this.$FeedVideoPlayerController3["delete"]("fallback"),this.$FeedVideoPlayerController7=this.$FeedVideoPlayerController11.isAutoplaying,this.$FeedVideoPlayerController9=this.$FeedVideoPlayerController11.preventAutoplay};d.$FeedVideoPlayerController34=function(){var a=this;if(this.isState("fallback")){this.$FeedVideoPlayerController5.release();var c=this.$FeedVideoPlayerController2;c.fallback_link&&(b("DOM").remove(this.$FeedVideoPlayerController6.getVideoNode()),b("DOM").replace(c.video_container,c.fallback_link),b("DOM").appendContent(c.fallback_link,c.video_container));if(this.$FeedVideoPlayerController6.isFallbackRecoverable())this.$FeedVideoPlayerController35();else var d=this.$FeedVideoPlayerController6.addListener("VideoPlayerFallbackEvents/recover",function(){a.$FeedVideoPlayerController35(),d.remove()})}};d.isState=function(a){return this.$FeedVideoPlayerController6.isState(a)};d.getSource=function(){return this.$FeedVideoPlayerController6.getSource()};d.getIsInChannel=function(){return this.$FeedVideoPlayerController6.getIsInChannel()};d.getVideoPlayerController=function(){return this.$FeedVideoPlayerController6};d.abortLoading=function(){this.$FeedVideoPlayerController1.abort_loading_blocked||this.$FeedVideoPlayerController6.abortLoading()};d.isMuted=function(){return this.$FeedVideoPlayerController6.isMuted()};d.isPlaying=function(){return this.$FeedVideoPlayerController6.isState("playing")};d.shouldPauseWhenScrolledOffscreen=function(){return b("VideoPlayerExperiments").enableAutoplayOnUnmutedVideos?!0:!1};return c}(b("VideoAutoplayPlayerBase"));e.exports=a}),null);
__d("VideoClipButton.react",["ix","cx","fbt","AbstractButton.react","Arbiter","Image.react","React","TooltipData","XUISpinner.react","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=i._("Generating clip...");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.state={isClipping:!1};c.$2=function(){c.setState({isClipping:!1})};c.$1=b("Arbiter").subscribe("GamesVideoClipping/clipReady",c.$2);return c}var d=c.prototype;d.componentWillUnmount=function(){b("Arbiter").unsubscribe(this.$1)};d.render=function(){var a=this,c,d=i._("Create a clip from the last {num_seconds} seconds",[i._param("num_seconds",this.props.defaultLengthInSec)]);return this.state.isClipping?j.jsx(b("XUIText.react"),{className:"_zbd _25cu","data-hover":"tooltip","data-tooltip-content":k,children:j.jsx(b("XUISpinner.react"),{className:"_rwt",background:"light",size:"small",paused:!1})}):j.jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(d,"above"),{className:"_zbd _8z3u",image:j.jsx(b("Image.react"),{className:"_rwt",src:this.props.iconSrc}),label:(c=this.props.buttonLabel)!=null?c:d,labelIsHidden:this.props.buttonLabel===null,onClick:function(){a.setState({isClipping:!0}),a.props.onClipVideo()},tabIndex:"0"}))};return c}(j.Component);a.defaultProps={buttonLabel:null,iconSrc:g("468574")};e.exports=a}),null);
__d("VideoFBIconControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","URI","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React"),l=2;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=new(j||(j=b("URI")))(this.props.permalinkURL).addQueryData("t",Math.max(0,Math.floor(this.props.playbackPosTimestamp)-l));return k.jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(this.props.label,"above"),{className:"_zbd",href:a,image:k.jsx(b("Image.react"),{className:"_rwt",src:g("804741")}),label:this.props.label,labelIsHidden:this.props.labelIsHidden,ref:"button",tabIndex:"0",target:"_blank",type:"button"}))};return c}(k.Component);a.defaultProps={label:i._("Click to watch on Facebook"),labelIsHidden:!0};e.exports=a}),null);
__d("VideoFullscreenControl.react",["ix","cx","fbt","AbstractVideoFullscreenControl.react","Image.react","React","ReactDOM","VideoPlayerExperiments","asset","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.onMouseOut=function(a){b("ReactDOM").findDOMNode(this.refs.button).blur()};d.render=function(){var a;!b("VideoPlayerExperiments").fourArrowFullScreen?a=this.props.isFullscreen?g("463022"):g("407577"):a=this.props.isFullscreen?g("463031"):g("412613");a=j.jsx(b("Image.react"),{className:"_rwt",src:a});var c=this.props.isFullscreen?i._("Exit full screen"):i._("Enter fullscreen");return j.jsx(b("AbstractVideoFullscreenControl.react"),babelHelpers["extends"]({},this.props,{className:"_zbd"+(this.props.disabled?" _132h":"")+" _39ip","data-testid":void 0,disabled:this.props.disabled,image:a,onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button",label:c,labelIsHidden:!0}))};return c}(j.Component);a.propTypes={isFullscreen:b("prop-types").bool,onToggleFullscreen:b("prop-types").func,tabIndex:b("prop-types").string};e.exports=a}),null);
__d("VideoPlaybackRateControl.react",["cx","fbt","AbstractButton.react","React","VideoPlayerExperiments","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g,h){var i=b("React");function j(a){return a.toFixed(2).replace(/\.0+/,".0")+"x"}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isMenuOpen:!1,isFocusTriggeredByMouse:!1,rate:1},c.onFocus=function(){c.state.isFocusTriggeredByMouse||c.setState({isMenuOpen:!0})},c.onBlur=function(){c.state.isFocusTriggeredByMouse?c.setState({isFocusTriggeredByMouse:!1}):c.setState({isMenuOpen:!1})},c.onMouseDown=function(){return c.setState({isFocusTriggeredByMouse:!0})},c.onMouseOverButton=function(){return c.setState({isMenuOpen:!0})},c.onMouseLeave=function(){return c.setState({isMenuOpen:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.createRateItem=function(a,b,c){var d=function(a){c(),a.preventDefault()},e=null;b&&(e=i.jsx("div",{className:"_2iw1"}));b=i.jsx("div",{className:"_2iw3",style:{backgroundColor:"inherit"},children:e});return i.jsxs("a",{href:"#",className:"_2iw4",onClick:d,tabIndex:this.props.tabIndex,children:[b,i.jsx("div",{className:"_2iw5 _2iw6",children:a})]},a)};d.render=function(){var a=this,c=j(this.state.rate),d=null;if(!this.props.disabled){var e=[.5,1,1.25,1.5,1.75,2,2.5,3,3.5,4,5];e=e.map(function(b){return a.createRateItem(j(b),a.state.rate==b,function(){a.props.onSelectPlaybackRate&&a.props.onSelectPlaybackRate(b),a.setState({rate:b})})});d=i.jsx("div",{className:"_67bw"+(this.state.isMenuOpen?" _2iw8":""),children:i.jsx("div",{className:"_2i_w",children:i.jsxs("div",{className:"_2i_x",children:[i.jsx("div",{className:"_2iw5",children:h._("Play speed")}),e,i.jsx("div",{className:"_ukl"})]})})})}e="_zbd _66_y"+(!b("VideoPlayerExperiments").embeddedPlayerEnhancements||!this.props.isEmbedded?" _66_z":"");e=i.jsx(b("AbstractButton.react"),{className:e,label:c,onMouseDown:this.onMouseDown,onMouseOver:this.onMouseOverButton,ref:"button",tabIndex:this.props.tabIndex,type:"button"});return i.jsxs("div",{className:"_2j04",onFocus:this.onFocus,onBlur:this.onBlur,onMouseLeave:this.onMouseLeave,children:[e,d]})};return c}(i.Component);a.propTypes={isEmbedded:b("prop-types").bool,onSelectPlaybackRate:b("prop-types").func,tabIndex:b("prop-types").string};a.defaultProps={tabIndex:"-1"};e.exports=a}),null);
__d("VideoPollCardStore",["FluxReduceStore","ImmutableRecordWithV4Types","VideoPollCardActionTypes","VideoPollCardDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=a({pollCardsActiveForVPC:{}});c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return g()};d.reduce=function(a,c){var d=c.pollEventID,e=c.vpcID;switch(c.type){case b("VideoPollCardActionTypes").MARK_POLL_CARD_ACTIVE:if(a.pollCardsActiveForVPC[e]===null){c=a.pollCardsActiveForVPC;var f=b("immutable").List();c[e]=f.push(d);a=a.set("pollCardsActiveForVPC",c)}else{f=a.pollCardsActiveForVPC;c=(c=a.pollCardsActiveForVPC[e])!=null?c:b("immutable").List();f[e]=c.push(d);a=a.set("pollCardsActiveForVPC",f)}return a;case b("VideoPollCardActionTypes").MARK_POLL_CARD_INACTIVE:if(a.pollCardsActiveForVPC[e]!==null){c=a.pollCardsActiveForVPC;f=(f=c[e])!=null?f:b("immutable").List();f=f.filter(function(a){return a!==d});c[e]=f;a=a.set("pollCardsActiveForVPC",c)}return a;default:return a}};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("VideoPollCardDispatcher"))}),null);
__d("VideoSidepaneToggleControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","fbglyph","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.onButtonClick=function(){c.props.onSidePaneToggle()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.isSidePaneOpen?i._("Click to hide details"):i._("Click to show details"),c=this.props.isSidePaneOpen?g("114795"):g("114783");return j.jsx(b("AbstractButton.react"),babelHelpers["extends"]({className:"_zbd"},b("TooltipData").propsFor(a,"above"),{image:j.jsx(b("Image.react"),{className:"_23j0",src:c}),label:this.props.label,labelIsHidden:this.props.labelIsHidden,onClick:this.onButtonClick,ref:"button",tabIndex:this.props.tabIndex,type:"button"}))};return c}(j.PureComponent);a.defaultProps={label:i._("Toggle Details"),labelIsHidden:!0};a.propTypes={isSidePaneOpen:(c=b("prop-types")).bool,label:c.string,onSidePaneToggle:c.func,tabIndex:c.string};e.exports=a}),null);
__d("VideoControls.react",["cx","fbt","ix","AbstractButton.react","BootloadedComponent.react","FluxContainer","Image.react","JSResource","LiveVideoRewindTypedLogger","React","TooltipData","VideoClipButton.react","VideoFBIconControl.react","VideoFullscreenControl.react","VideoPlaybackControl.react","VideoPlaybackRateControl.react","VideoPlaybackTimer.react","VideoPlayerExperiments","VideoPollCardDispatcher","VideoPollCardStore","VideoScrubber.react","VideoSidepaneToggleControl.react","VideoVolumeControl.react","asset","emptyFunction","immutable","joinClasses","lazyLoadComponent","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){var j=b("React"),k=b("lazyLoadComponent")(b("JSResource")("VideoActionsControl.react").__setRef("VideoControls.react")),l=36;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={pollCardsActiveForVPC:{}},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("VideoPollCardStore")]};c.calculateState=function(){var a=b("VideoPollCardStore").getState();a=a.pollCardsActiveForVPC;return{pollCardsActiveForVPC:a}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("VideoPollCardDispatcher").explicitlyRegisterStores(c.getStores())};d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.componentDidUpdate=function(){var a;a=!this.props.finishedPlaying&&(this.props.vpcID!==void 0?this.state.pollCardsActiveForVPC[(a=this.props.vpcID)!=null?a:""]!==null?((a=this.state.pollCardsActiveForVPC[(a=this.props.vpcID)!=null?a:""])!=null?a:b("immutable").List()).size===0:!0:!1);if(a&&(this.props.pollTimestamps?this.props.pollTimestamps.length>0:null))this.props.drawer&&this.props.drawer.setHeight(55);else{a=this.props.isInWatchAndScroll?55:l;this.props.drawer&&this.props.drawer.setHeight(a)}};d.isHidden=function(){return this.props.hidden};d.isTransparent=function(){return this.props.transparent};d.render=function(){var a=b("VideoPlayerExperiments").inlineSoundVisible,c="_1c7d"+(this.isHidden()?" _1c7e":"")+(this.isTransparent()&&!a?" _2oy-":""),d="_2w_u"+(this.props.showSidePaneToggle?" _vr5":"")+(this.props.useDarkTheme?" _vr6":"")+"",e="_1c7f _1c7g"+(this.isTransparent()&&a?" _2oy-":""),f="_1c7f _2pvx"+(this.isTransparent()&&a?" _2oy-":""),g="_1c7f _1c7h"+(this.isTransparent()&&a?" _2oy-":""),l="_1c7f _w7o"+(this.isTransparent()&&(!this.props.isInline||this.props.isFullscreen||!this.props.isPlaying)?" _2oy-":""),m="_2w_w",n=!1;this.props.isLive&&this.props.isInTahoe&&(n=!0);n="_1otk _3t1r _4ubd"+(n?" _w7y":"");var o="_3t1r _4ubd _3t1s"+(this.props.isCommentAttachment?"":" hidden_elem"),p=null;if(!(this.props.isLive||this.props.isFBWasLive)&&!this.props.hideRemainingTime&&!this.props.isInWatchAndScroll){var q=this.props.playbackPosition-this.props.playbackDuration;p=j.jsx(b("VideoPlaybackTimer.react"),{className:"_5qsr"+(this.props.displayMilliseconds?" _w7-":""),isEmbedded:this.props.isEmbedded,playbackPosTimestamp:this.props.playbackPosition,playbackDurationTimestamp:this.props.playbackDuration,remainingTimestamp:q,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds,displayBothTimes:!1})}q=null;var r=null,s=null,t=null,u=null,v=this.props,w=v.showInlineCopyLinkOption;v=v.showInlineVideoReportOption;var x=v||w;!this.props.hideSettings&&!this.props.isInWatchAndScroll&&!this.props.isEmbedded&&x&&(t=j.jsx(j.Suspense,{fallback:j.jsx("span",{}),children:j.jsx(k,{disabled:this.props.isCasting,onActionsClicked:this.props.onActionsClick,permalinkURL:this.props.permalinkURL,showCopyLink:w,showReportVideo:v,tabIndex:"0"})}));var y;this.props.isInTahoe&&this.props.isLive&&!this.props.isFullscreen&&(y=j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoQuietModeControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:j.jsx("span",{}),videoID:this.props.videoID}));if((!this.props.isLive||this.props.hasHD)&&(!this.props.hideSettings&&!this.props.isInWatchAndScroll&&b("VideoPlayerExperiments").redesign)){s=j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoSettingsControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:j.jsx("span",{}),disabled:this.props.isCasting,hasHD:this.props.hasHD,hasCaptions:this.props.hasCaptions,isHD:this.props.isHD,isInline:this.props.isInline,isLive:this.props.isLive,isSphericalVideo:this.props.isSphericalVideo,areCaptionsActive:this.props.areCaptionsActive,areCaptionsAutogenerated:this.props.areCaptionsAutogenerated,onSettingsClick:this.props.onSettingsClick,onToggleHD:this.props.onToggleHD,onToggleCaptions:this.props.onToggleCaptions,tabIndex:"0",availableQualities:this.props.availableQualities,selectedQuality:(x=this.props.selectedQuality)!=null?x:null,preferredQuality:(w=this.props.preferredQuality)!=null?w:null,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat,videoID:this.props.videoID})}this.props.isLive&&(b("VideoPlayerExperiments").hlsButton&&(u=j.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:j.jsx("span",{}),bootloadLoader:b("JSResource")("VideoToHLSControl.react").__setRef("VideoControls.react"),areHLSActive:this.props.areHLSActive,onToggleHLS:this.props.onToggleHLS,tabIndex:"0"})));v=this.props.gamesVideoCreatorClipping&&(this.props.isInTahoe||this.props.isInline||this.props.gamesVideoClipButtonEnabled)&&this.props.gamesDefaultClipLengthInSec!=null&&this.props.gamesDefaultClipLengthInSec>0?j.jsx(b("VideoClipButton.react"),{onClipVideo:this.props.onClipVideo,defaultLengthInSec:this.props.gamesDefaultClipLengthInSec}):null;x=null;if(this.props.allowFullscreen)if(this.props.doesFullscreenEnterTahoe&&(this.props.isInline||this.props.isInWatchAndScroll)){w=j.jsx(b("Image.react"),{className:"_rwt",src:i("407577")});var z=h._("Click to enlarge");x=j.jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(z,"above"),{className:"_zbd _400z _1vek",image:w,label:z,labelIsHidden:!0,onClick:this.props.onEnterTahoe,tabIndex:"0"}))}else{w=this.props.isFullscreen?h._("Click to exit fullscreen"):h._("Click to enter fullscreen");x=j.jsx(b("VideoFullscreenControl.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(w,"above"),{disabled:this.props.isCasting&&!this.props.isFullscreen,isFullscreen:this.props.isFullscreen,onToggleFullscreen:this.props.onToggleFullscreen,tabIndex:"0"}))}z=null;this.props.hasWatchAndScroll&&!this.props.isFullscreen&&!this.props.isInWatchAndScroll&&(z=j.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:j.jsx("span",{}),bootloadLoader:b("JSResource")("VideoWatchAndScrollControl.react").__setRef("VideoControls.react"),disabled:this.props.isCasting,onEnterWatchAndScroll:this.props.onEnterWatchAndScroll,isSlidingWNSEligible:this.props.isSlidingWNSEligible,onWNSNUXClose:this.props.onWNSNUXClose,showWNSNUX:this.props.showWNSNUX}));w=null;this.props.allowCasting&&this.props.hasFoundReceiver&&(w=j.jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:j.jsx("span",{}),bootloadLoader:b("JSResource")("VideoCastingControl.react").__setRef("VideoControls.react"),hasFoundReceiver:this.props.hasFoundReceiver,isCasting:this.props.isCasting,isCastingSupported:this.props.isCastingSupported,onStartCast:this.props.onStartCast,onStopCast:this.props.onStopCast}));var A=null;if(this.props.isEmbeddedPlayerRedesignEnabled)A=this.props.permalinkURL&&this.props.showPermalinkButton?j.jsx(b("VideoFBIconControl.react"),{permalinkURL:this.props.permalinkURL,playbackPosTimestamp:this.props.playbackPosition}):null;else{var B=null,C=this.props.isWatchIconEligible?i("909284"):i("804741");if(this.props.permalinkURL&&this.props.showPermalinkButton){B=j.jsx(b("Image.react"),{className:"_rwt",src:C});C=h._("Open in a new tab");A=j.jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(C,"above"),{className:"_zbd",href:this.props.permalinkURL,image:B,label:C,labelIsHidden:!0,ref:"button",tabIndex:"0",target:"_blank",type:"button"}))}}B=null;C=null;var D=null,E=null,F=null;if((this.props.isLive||this.props.isFBWasLive)&&this.props.showPlayButtonForLive&&!this.props.isLiveRewindEnabled)C=j.jsx(b("VideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"});else if(!(this.props.isLive||this.props.isFBWasLive)&&!this.props.hidePlaybackControl){C=j.jsx(b("VideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"});if(this.props.showPlaybackRateControl&&this.props.onSetVideoPlaybackRate){var G=h._("Playback rate");D=j.jsx(b("VideoPlaybackRateControl.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(G,"above"),{isEmbedded:this.props.isEmbedded,tabIndex:"0",onSelectPlaybackRate:this.props.onSetVideoPlaybackRate}))}if(!this.props.hidePlaybackScrubber){G=!this.props.finishedPlaying&&(this.props.vpcID!==void 0?this.state.pollCardsActiveForVPC[(G=this.props.vpcID)!=null?G:""]!==null?((G=this.state.pollCardsActiveForVPC[(G=this.props.vpcID)!=null?G:""])!=null?G:b("immutable").List()).size===0:!0:!1);B=j.jsx(b("VideoScrubber.react"),{adBreaks:this.props.adBreaks,adBreaksDisableReasons:this.props.adBreaksDisableReasons,annotatedMomentsOfInterest:this.props.annotatedMomentsOfInterest,bufferedPosition:this.props.bufferedPosition,controlsHidden:this.props.hidden,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,drawer:this.props.drawer,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:this.props.isAdBreakInsertionWithoutGapRule,isFullscreen:this.props.isFullscreen,isPlaying:this.props.isPlaying,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.playbackPosition,pollTimestamps:this.props.pollTimestamps,showPollCard:G,onAnnotatedMomentOfInterestSelect:this.props.onAnnotatedMomentOfInterestSelect,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps,showVideoSliderWarningTooltip:(G=this.props.showVideoSliderWarningTooltip)!=null?G:!1,tabIndex:"0",isInTahoe:this.props.isInTahoe,videoClipInfo:this.props.videoClipInfo})}}G=null;this.props.showSidePaneToggle&&(G=j.jsx(b("VideoSidepaneToggleControl.react"),{isSidePaneOpen:this.props.isSidePaneOpen,onSidePaneToggle:this.props.onSidePaneToggle,tabIndex:"0"}));var H=null;this.props.hideGradient||(H=j.jsx("div",{className:"_w80"+(this.isTransparent()?" _2oy-":"")+(this.props.useLargerGradient?" _8y-6":"")}));var I=j.jsx(b("VideoVolumeControl.react"),{isAudioBlocked:this.props.isAudioBlocked,isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,tabIndex:"0",showSpatialAudioNUX:this.props.showSpatialAudioNUX,useDarkTheme:this.props.useDarkTheme}),J,K,L,M,N,O,P,Q,R=this.props,S=R.onLiveRewindToBeginning,T=R.onLiveRewindSeekBack,U=R.onLiveRewindSeekForward;R=R.onLiveRewindToLive;if(this.props.isLiveRewindEnabled&&!this.props.isEmbedded){if(this.props.liveRelativePlaybackPosition!=null){var V=this.props.liveRelativePlaybackPosition>this.props.playbackDuration?this.props.playbackDuration:this.props.liveRelativePlaybackPosition;P=this.props.isInWatchAndScroll?null:j.jsx(b("VideoPlaybackTimer.react"),{className:"_3ek9 _5qsr"+(this.props.displayMilliseconds?" _w7-":""),displayElapsedTime:!0,displayMilliseconds:this.props.displayMilliseconds,isEmbedded:this.props.isEmbedded,isLiveVideo:!0,playbackPosTimestamp:V,playbackDurationTimestamp:this.props.isFBWasLive?this.props.playbackDuration:void 0,displayBothTimes:this.props.isFBWasLive,remainingTimestamp:-1*(this.props.playbackDuration-V)});O=j.jsx(b("VideoScrubber.react"),{adBreaks:this.props.adBreaks,adBreaksDisableReasons:this.props.adBreaksDisableReasons,bufferedPosition:this.props.bufferedPosition,className:"_3ek9",controlsHidden:this.props.hidden,currentPointOfInterest:this.props.currentPointOfInterest,drawer:this.props.drawer,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:this.props.isAdBreakInsertionWithoutGapRule,isFullscreen:this.props.isFullscreen,isInTahoe:this.props.isInTahoe,isLiveRewound:this.props.isLiveRewound,isLiveVideo:!0,isPlaying:this.props.isPlaying,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.isLiveRewound?V:this.props.playbackDuration,pointsOfInterest:this.props.pointsOfInterest,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps,tabIndex:"0",onLiveRewindToBeginning:this.props.onLiveRewindToBeginning,onLiveRewindSeekBack:this.props.onLiveRewindSeekBack,onLiveRewindSeekForward:this.props.onLiveRewindSeekForward,onLiveRewindToLive:this.props.onLiveRewindToLive,onPointOfInterestSelect:this.props.onPointOfInterestSelect,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd});new(b("LiveVideoRewindTypedLogger"))().setEvent("render_rewind_controls").setVideoID(this.props.videoID).log()}J=S&&!this.props.isInWatchAndScroll&&!this.props.isInline?j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:j.jsx("span",{}),asset:i("465766"),tooltip:h._("Go to beginning"),onButtonClick:S}):null;Q=this.props.isFBWasLive&&R&&!this.props.isInWatchAndScroll&&!this.props.isInline?j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:j.jsx("span",{}),asset:i("465765"),tooltip:h._("Go to end"),onButtonClick:R}):null;K=T&&!this.props.isInWatchAndScroll?j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:j.jsx("span",{}),asset:i("465767"),tooltip:h._("Skip back"),onButtonClick:T}):null;V=this.props.isLiveRewound?h._("Skip ahead"):void 0;L=U&&!this.props.isInWatchAndScroll&&!this.props.isInline?j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:j.jsx("span",{}),asset:i("465768"),disabled:!this.props.isLiveRewound,tooltip:V,onButtonClick:U}):null;S=this.props.isLiveRewound?i("467224"):i("467223");T=this.props.isLiveRewound?h._("Live view"):void 0;M=R?j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:j.jsx("span",{}),asset:S,tooltip:T,onButtonClick:R}):null;N=this.props.isInWatchAndScroll?null:j.jsx(b("VideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isLiveVideo:!0,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"})}V=null;if(this.props.useTwoRows){U=j.jsx(b("VideoVolumeControl.react"),{isAudioBlocked:this.props.isAudioBlocked,isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,isHorizontal:!0,tabIndex:"0"});V=j.jsxs("div",{className:o,children:[j.jsx("div",{className:m,children:j.jsxs("div",{className:c,children:[j.jsx("div",{className:e}),j.jsx("div",{className:f,children:B}),j.jsx("div",{className:g,children:p})]})}),j.jsx("div",{className:m,children:j.jsxs("div",{className:c,children:[j.jsxs("div",{className:e,children:[C,D,U]}),j.jsx("div",{className:f}),j.jsxs("div",{className:g,children:[r,u,q,s,z,w,x,A,v,t]})]})})]})}if(b("VideoPlayerExperiments").embeddedPlayerEnhancements&&this.props.isEmbedded){S=b("joinClasses")(c,b("VideoPlayerExperiments").embeddedPlayerEnhancements?"_w83":"");T=b("joinClasses")(c,"_w86");R=j.jsx("div",{className:S,children:j.jsxs("div",{className:m,children:[j.jsxs("div",{className:T,children:[j.jsxs("div",{className:e,children:[C,D]}),j.jsx("div",{className:f,children:B}),j.jsx("div",{className:g,children:p})]}),j.jsxs("div",{className:c,children:[j.jsx("div",{className:e}),j.jsx("div",{className:f}),j.jsxs("div",{className:g,children:[a||I,r,u,q,y,s,z,w,G,x,A,v,t]}),j.jsx("div",{className:l,children:!a||I})]})]})})}else R=!this.props.useTwoRows||!this.props.isCommentAttachment?j.jsx("div",{className:n,children:j.jsx("div",{className:m,children:j.jsxs("div",{className:c,children:[j.jsxs("div",{className:e,children:[F,C,D,E,J,K,N,L,this.props.isFBWasLive?Q:M,P]}),j.jsxs("div",{className:f,children:[B,O]}),j.jsxs("div",{className:g,children:[p,a||I,r,u,q,y,s,z,w,G,x,A,v,t]}),j.jsx("div",{className:l,children:!a||I})]})})}):null;return j.jsxs("div",{className:d,children:[H,R,V]})};return c}(j.Component);a.defaultProps={allowCasting:!1,bufferedPosition:0,displayElapsedTime:!1,displayMilliseconds:!1,gamesVideoClipButtonEnabled:!1,gamesVideoCreatorClipping:!1,gamesDefaultClipLengthInSec:void 0,hasFoundReceiver:!1,hidden:!1,hideGradient:!1,hidePlaybackControl:!1,hidePlaybackScrubber:!1,hideRemainingTime:!1,hideSettings:!1,isAudioBlocked:!1,isCasting:!1,isCastingSupported:!1,isCommentAttachment:!1,isFBWasLive:!1,isInTahoe:!1,isLiveRewound:!1,isMuted:!1,isPlaying:!1,isSphericalVideo:!1,isWatchIconEligible:!1,onSidePaneToggle:b("emptyFunction"),onStartCast:b("emptyFunction"),onStopCast:b("emptyFunction"),playbackDuration:0,playbackPosition:0,showInlineCopyLinkOption:!1,showInlineVideoReportOption:!1,showPermalinkButton:!1,showPlaybackRateControl:!1,showPlayButtonForLive:!1,showSidePaneToggle:!1,showVideoSliderWarningTooltip:!1,showWNSNUX:!1,transparent:!1,useDarkTheme:!1,useLargerGradient:!1,useTwoRows:!1,volume:0};a.propTypes={adBreaks:(c=b("prop-types")).array,adBreaksDisableReasons:c.array,allowFullscreen:c.bool,areHLSActive:c.bool,areCaptionsActive:c.bool,areCaptionsAutogenerated:c.bool,availableQualities:c.array,canAutoSelectVideoQuality:c.bool,displayElapsedTime:c.bool,displayMilliseconds:c.bool,annotatedMomentsOfInterest:c.object,finishedPlaying:c.bool,hasHD:c.bool,hasScrubberPreview:c.bool,hasCaptions:c.bool,hasWatchAndScroll:c.bool,hidden:c.bool,hideGradient:c.bool,hidePlaybackControl:c.bool,hidePlaybackScrubber:c.bool,hideRemainingTime:c.bool,hideSettings:c.bool,isAudioBlocked:c.bool,isCommentAttachment:c.bool,isEmbedded:c.bool,isEmbeddedPlayerRedesignEnabled:c.bool,isFullscreen:c.bool,isHD:c.bool,isInline:c.bool,isInWatchAndScroll:c.bool,isLive:c.bool,isLiveRewindEnabled:c.bool,isMuted:c.bool,isPlaying:c.bool,isSidePaneOpen:c.bool,isSlidingWNSEligible:c.bool,isSphericalVideo:c.bool,onEnterWatchAndScroll:c.func,onLiveRewindSeekBack:c.func,onLiveRewindSeekForward:c.func,onLiveRewindToBeginning:c.func,onLiveRewindToLive:c.func,onPause:c.func,onPlay:c.func,onPointOfInterestSelect:c.func,onSeek:c.func,onSelectQuality:c.func,onSetVideoPlaybackRate:c.func,onToggleFullscreen:c.func,onToggleHD:c.func,onToggleHLS:c.func,onToggleMuted:c.func,onToggleCaptions:c.func,onVolumeChange:c.func,permalinkURL:c.string,playbackDuration:c.number,playbackPosition:c.number,pointsOfInterest:c.array,preferredQuality:c.string,previewThumbnailInformation:c.object,qualitySelectorMinStreams:c.number,scrubberPreviewSprites:c.object,selectedQuality:c.string,showPointOfInterestTimestamps:c.bool,showQualitySelector:c.bool,showSidePaneToggle:c.bool,showWNSNUX:c.bool,streamingFormat:c.string,transparent:c.bool,useDarkTheme:c.bool,useLargerGradient:c.bool,useTwoRows:c.bool,volume:c.number,videoClipInfo:c.object,isWatchIconEligible:c.bool};e.exports=b("FluxContainer").create(a)}),null);
__d("VideoControls",["csx","cx","Arbiter","AsyncRequest","Bootloader","ClippingApi","CSS","DeferredComponent.react","EventListener","FullScreen","LiveRewindUtils","LiveVideoPlayerActions","Parent","React","ReactDOM","SubscriptionsHandler","VideoPlayerExperiments","VideoPlayerUIComponentDrawer","VideoWatchAndScrollController","XBasicFBNuxGenShouldShowController","cancelAnimationFrame","containsNode","destroyOnUnload","getActiveElement","gkx","logVideosClickTracking","promiseDone","requestAnimationFrame","shouldWNSRenderToRHC","throttle"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=new Set(["embedded","embedded_video","embedded_video_preview","embedded_page_plugin","embedded_video_from_ufi"]),k=200,l=4936,m=36,n=5e3,o=b("VideoPlayerExperiments").persistentWNSEnabled;a=function(){"use strict";function a(a,c,d){var e=this,f;this.$16={current:null};this.$14=function(){e.$10=!1,e.scheduleRenderReactComponent()};this.$15=a;this.$16.current=this.$15;this.$91=c;this.$9=0;this.$84=0;this.$83=0;this.$28=0;this.$122=!1;this.$92=!1;this.$48=d.hideOnEvents.autoplay;this.$49=d.hideOnEvents.finish;this.$42=d.hideOnEvents.pause;this.$103=d.unhideOnHover;this.$43=d.hidePlaybackControl;this.$44=d.isWatchIconEligible;this.$45=d.hidePlaybackScrubber;this.$104=d.showPlaybackRateControl;this.$108=d.showVideoSliderWarningTooltip;this.$46=d.hideRemainingTime;this.$47=d.hideSettings;this.$119=d.useTwoRows;this.$55=d.isCommentAttachment;this.$85=d.pointsOfInterestConfig||{};this.$18=d.displayElapsedTime||!1;this.$19=d.displayMilliseconds||!1;this.$20=d.displayDurationLimit;this.$21=d.displayTimeOffset;this.$1=d.adBreaks;this.$2=d.adBreaksDisableReasons;this.$107=d.showSpatialAudioNUX;this.$87=(f=d.pollTimestamps)!=null?f:[];this.$69=!1;this.$102=d.shouldShowWNSNUX;this.$10=!1;this.$37=!1;this.$50=d.insertedAdBreaks;this.$51=d.isAdBreakDisabled;this.$52=d.isAdBreakInsertionWithoutGapRule;this.$63=d.isLiveRewindEnabled||this.$15.isFBWasLive();this.$64=this.$15.isFBWasLive();this.$76=null;this.$105=d.showPlayButtonForLive;this.$120=d.videoClipInfo;this.$98=!!d.videoClipInfo;this.$12=null;this.$78=d.mutedSegments;f=a.isHtml5Player();a=a.getPlayerSuborigin();this.$39=d.showButtons.watchandscroll&&f&&a!=="topic_live";this.$3=d.showButtons.casting;this.$4=d.showButtons.fullscreen&&!!b("FullScreen").isSupported();this.$81=d.permalinkURL;this.$99=d.shouldShowInlineCopyLinkOption;this.$100=d.shouldShowInlineVideoReportOption;this.$101=d.shouldShowPermalinkButton;this.$61=d.isLive;this.$62=d.isGamingVideo;this.$70=d.isSphericalVideo;this.$29=d.forceVisible||!1;this.$30=d.forceVisibleOnMount||!1;this.$41=d.hideGradient||!1;this.$117=d.useDarkTheme||!1;this.$53=!1;this.$56=!1;this.$40=!1;this.$67=!1;this.$68=!1;this.$106=d.showQualitySelector;this.$88=d.qualitySelectorMinStreams;this.$74=this.liveRewindToBeginning.bind(this);this.$72=this.liveRewindSeekBack.bind(this);this.$73=this.liveRewindSeekForward.bind(this);this.$75=this.liveRewindToLive.bind(this);this.$13=this.clipVideo.bind(this);this.$25=this.enterWatchAndScroll.bind(this);this.$24=this.enterTahoe.bind(this);this.$82=this.play.bind(this);this.$80=this.pause.bind(this);this.$93=this.scrubBegin.bind(this);this.$94=this.scrubEnd.bind(this);this.$109=this.startCasting.bind(this);this.$110=this.stopCasting.bind(this);this.$112=this.toggleFullscreen.bind(this);this.$113=this.toggleHD.bind(this);this.$114=this.toggleHLS.bind(this);this.$115=this.toggleMuted.bind(this);this.$116=this.toggleCaptions.bind(this);this.$11=this.changeVolume.bind(this);this.$97=this.setVideoPlaybackRate.bind(this);this.$96=this.setPreferredVideoQuality.bind(this);this.$23=this.$15.registerDrawer(b("VideoPlayerUIComponentDrawer").priorities.EmbeddedControls,m);this.$79=d.needsInitialVideoInfoUpdate;this.$17=this.$15.getSource();this.$32=d.gamesVideoClipButtonEnabled;this.$33=!!d.gamesVideoCreatorClippingGK&&!j.has(this.$17);this.$34=d.gamesDefaultClipLengthInSec;this.$6=d.annotatedMomentsOfInterest||{};this.$57=d.isEmbeddedPlayerRedesignEnabled;this.$118=d.useLargerGradient||!1;o||b("destroyOnUnload")(function(){b("ReactDOM").unmountComponentAtNode(c)});f=this.$15.getRootNode();b("EventListener").listen(this.$91,"focusin",function(){e.$27=!0,e.scheduleRenderReactComponent()});b("EventListener").listen(this.$91,"focusout",function(){b("containsNode")(e.$91,b("getActiveElement")())||(e.$27=!1,e.scheduleRenderReactComponent())});b("EventListener").listen(f,"click",function(a){if(e.$27&&a.detail){a=b("getActiveElement")();a&&a.blur()}});b("EventListener").listen(f,"mouseleave",function(){e.$77=!1,e.scheduleRenderReactComponent()});b("EventListener").listen(f,"mouseenter",function(){e.$77=!0,e.scheduleRenderReactComponent()});this.$15.registerOption("VideoControls","acquireForceHideLock",function(){e.$28++;return{release:function(){e.$28--,e.scheduleRenderReactComponent()}}});this.$15.registerOption("VideoControls","hideOnFinish",function(){return e.$49},function(a){e.$49=a});this.$15.registerOption("VideoControls","hideOnPause",function(){return e.$42},function(a){e.$42=a});this.$15.registerOption("VideoControls","unhideOnHover",function(){return e.$103},function(a){e.$103=a});this.$15.registerOption("VideoControls","hidePlaybackControl",function(){return e.$43},function(a){e.$43=a,e.scheduleRenderReactComponent()});this.$15.registerOption("VideoControls","available",function(){return!0});this.$15.registerOption("VideoControls","areControlsVisible",this.areControlsVisible.bind(this));["mousemove","mousedown","keydown"].forEach(function(a){b("EventListener").listen(e.$15.getRootNode(),a,b("throttle")(e.flashControls.bind(e),200))});this.$111=new(b("SubscriptionsHandler"))();this.scheduleRenderReactComponent();a=["changeVolume","loadedSubtitles","captionsAvailabilityChanged","muteVideo","pausePlayback","stateChange","toggleFullscreen","toggleSubtitles","updateMetadata","unmuteVideo","qualityChange","casting/receiverStateChange","casting/supportStateChange","casting/castingStateChange","casting/playStateChange"];a.forEach(function(a){return e.$111.addSubscriptions(e.$15.addListener(a,function(){return e.scheduleRenderReactComponentWithVideoInfoUpdate()}))});this.$111.addSubscriptions(this.$15.addListener("pauseRequested",function(a){e.$123(a)}),this.$15.addListener("playRequested",function(a){e.$124(a)}),this.$15.addListener("beginPlayback",function(){return e.$125()}),this.$15.addListener("updateStatus",function(a){if(e.$63){var c=e.$15.getSeekableRanges();c&&(e.$71=b("LiveRewindUtils").getRelativePosition(a.position,c))}e.$84=a.position;e.$21&&(e.$84-=e.$21);e.scheduleRenderReactComponent()}),this.$15.addListener("casting/updateStatus",function(a){if(e.$63){var c=e.$15.getSeekableRanges();c&&(e.$71=b("LiveRewindUtils").getRelativePosition(a.position,c))}e.$84=a.position;e.scheduleRenderReactComponent()}),this.$15.addListener("seekRangeChanged",function(a){if(e.$63){a=e.$15.getSeekableRanges();a&&(e.$83=b("LiveRewindUtils").getTotalDuration(a))}}),this.$15.addListener("updateBuffer",function(a){e.$9=a.duration+a.offset,e.scheduleRenderReactComponent()}),this.$15.addListener("optionsChange",function(a){e.$126()}),this.$15.addListener("resumeAutoplay",function(a){e.$127(),e.scheduleRenderReactComponentWithVideoInfoUpdate()}),this.$15.addListener("turnOffAutoplay",function(a){e.$54=!1}),this.$15.addListener("LivePlayer/isRewoundChanged",function(a){a=e.$15.getOption("LivePlayer","isRewound");e.$64!==a&&(e.$64=a,e.scheduleRenderReactComponent())}),this.$15.addListener("blockAudio",function(a){a||(e.$53=!0)}),this.$15.addListener("unblockAudio",function(a){a||(e.$53=!1)}));this.$102&&this.$111.addSubscriptions(this.$15.addListener("VideoWithStallRecovery/bufferingStateOn",function(){e.$37||e.$128(l)}),this.$15.addListener("VideoWithStallRecovery/bufferingStateOff",function(){e.$10=!1}));this.$111.addSubscriptions(this.$15.addListener("finishPlayback",function(){e.scheduleRenderReactComponent(!0)}));this.$126()}var c=a.prototype;c.$129=function(){this.$95=this.$15.getOption("VideoScrubberPreviewComponent","scrubberPreviewSprites"),this.$36=this.$15.getOption("VideoScrubberPreviewComponent","hasPreviewThumbnails"),this.$86=this.$15.getOption("VideoScrubberPreviewComponent","previewThumbnailInformation")};c.$127=function(){this.$54=this.$15.getOption("FeedAutoplay","isAutoplaying")};c.$126=function(){this.$127(),this.$129()};c.$123=function(a){var c=this;this.scheduleRenderReactComponentWithVideoInfoUpdate();this.$61&&this.$63&&a==="user_initiated"&&(!this.$64&&this.$76===null&&(this.$76=window.setTimeout(function(){c.$76=null,b("LiveVideoPlayerActions").setIsRewound(c.$15,!0)},k)))};c.$124=function(a){this.$61&&this.$63&&a==="user_initiated"&&this.$76!==null&&(window.clearTimeout(this.$76),this.$76=null)};c.$125=function(){this.flashControls(),this.$130(),this.$66=!0,this.scheduleRenderReactComponentWithVideoInfoUpdate()};c.$128=function(a){var c=this;a=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).setHandler(function(a){a=a.getPayload();c.$10=a.should_show_nux}).send()};c.updateConfig_DEPRECATED=function(a,b){this.$81=a.permalinkURL||null,this.$3=a.showButtons?a.showButtons.casting:!1,this.$61=!!a.isLive,this.$1=a.adBreaks||null,this.$118=a.useLargerGradient||!1,this.scheduleRenderReactComponent()};c.updateAdBreaksConfig=function(a){this.$50=a.insertedAdBreaks,this.$51=a.isAdBreakDisabled,this.$52=a.isAdBreakInsertionWithoutGapRule,this.$29=!a.isPreviewingAdBreak,this.scheduleRenderReactComponent()};c.updateTwoRowsConfig=function(a){this.$119=a.useTwoRows,this.$55=a.isCommentAttachment,this.scheduleRenderReactComponent()};c.flashControls=function(){var a=this;this.$89||(this.$89=!0,this.scheduleRenderReactComponent());window.clearTimeout(this.$26);this.$26=window.setTimeout(function(){a.$26=null,a.$89=!1,a.scheduleRenderReactComponent()},3e3)};c.$130=function(){var a=this;this.$30&&(window.clearTimeout(this.$31),this.$31=window.setTimeout(function(){a.$31=null,a.$30=!1,a.scheduleRenderReactComponent()},n))};c.areControlsVisible=function(){var a=this;if(!this.areControlsEnabled())return!1;if(this.$29||this.$10||this.$67||this.$68||this.$30)return!0;if(this.$15.isState("playing")){if(this.$98){this.$12||(this.$12=window.setTimeout(function(){a.$98=!1},5e3));return!0}else if(this.$48&&this.$54)return!1;return this.$27||this.$77&&this.$89}else if(this.$15.isState("finished")){var b=this.$15.getSource()==="tahoe";return this.$15.isFullscreen()||b||!this.$49}else if(this.$15.isState("paused"))return this.$15.isFullscreen()||!this.$42||this.$103&&(this.$27||this.$77&&this.$89);return!1};c.areControlsEnabled=function(){var a=this.$15.getSource()==="tahoe";return this.$28>0||this.$15.isState("loading")||this.$15.isState("fallback")||this.$15.getOption("SottoPaywall","enable")||this.$15.isState("finished")&&this.$49&&!this.$15.isFullscreen()&&!a?!1:!0};c.scheduleRenderReactComponentWithVideoInfoUpdate=function(){this.$79=!0,this.scheduleRenderReactComponent(!0)};c.shouldRenderComponent=function(){if(this.$15.isState("loading")||this.$15.isState("fallback"))return!1;if(this.areControlsVisible()){this.$40=!1;return!0}if(!this.$40){this.$40=!0;return!0}return!1};c.scheduleRenderReactComponent=function(a){a===void 0&&(a=!1);if(!a&&!this.shouldRenderComponent())return;b("cancelAnimationFrame")(this.$90);this.$90=b("requestAnimationFrame")(this.renderReactComponent.bind(this))};c.renderReactComponent=function(){var a=this;if(b("VideoPlayerExperiments").delayVideoControlRenderForApiReady&&this.$15.getState()==="loading"&&!this.$92){this.$92=!0;this.$15.runOnApiReady(function(){a.scheduleRenderReactComponent()});return}this.$79&&this.$131();this.$56=!1;if(this.$78)for(var c=this.$78,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;this.$84>=g.mute_start_time_in_sec&&this.$84<=g.mute_end_time_in_sec&&(this.$56=!0)}g=this.areControlsVisible();this.$122!==g&&(this.$15.emit("VideoControls/visibilityUpdate",{areControlsVisible:g}),g?this.$23.reserve():this.$23.release(),this.$15.isState("destroyed")||b("CSS").conditionClass(this.$15.getRootNode(),"_302m",!g));this.$122=g;f=this.$15.getAvailableVideoQualities();e=this.$15.getPreferredVideoQuality();c=this.$15.getSelectedVideoQuality();var h=this.$15.canAutoSelectVideoQuality(),k=this.$15.getStreamingFormat(),l=null;this.$15.hasOption("LiveHeatmap","interestLevels")&&(l=this.$15.getOption("LiveHeatmap","interestLevels"));var m=this.$69;this.$69=b("VideoPlayerExperiments").slidingWNSv3&&this.$39&&b("VideoWatchAndScrollController").isSlidingEnabled(this.$15);m!==this.$69&&this.$15.logEvent(this.$69?"watch_and_scroll_icon_highlighted":"watch_and_scroll_icon_unhighlighted");m=this.$15.getSource()==="tahoe";var n=this.$15.getSource()==="watch_scroll",o=this.$15.isFBIsLiveTemplated()||this.$15.isFBWasLive();o=this.$63&&o&&(this.$15.isFBWasLive()||this.$15.getState()!=="finished");b("ReactDOM").render(i.jsx(b("DeferredComponent.react"),{deferredPlaceholder:i.jsx("span",{}),deferredComponent:function(a){return d(["VideoControls.react"],a)},allowCasting:this.$3,allowFullscreen:this.$4,annotatedMomentsOfInterest:this.$6,areCaptionsActive:this.$7,areCaptionsAutogenerated:this.$8,areHLSActive:this.$5,bufferedPosition:this.$9,finishedPlaying:this.$15.isState("finished"),hasFoundReceiver:this.hasFoundReceiver(),hasHD:this.$35,hasCaptions:this.$38,hasWatchAndScroll:this.$39&&!this.getIsInChannel(),hidden:!this.areControlsEnabled(),hideGradient:this.$41,isAudioBlocked:this.$53||this.$56&&b("gkx")("797757"),isCasting:this.isCasting(),isCastingSupported:this.isCastingSupported(),isCommentAttachment:this.$55,isEmbedded:j.has(this.$17),isEmbeddedPlayerRedesignEnabled:this.$57,isFullscreen:this.$58,isHD:this.$59,isInline:this.$60,isInTahoe:m,isInWatchAndScroll:n,isLive:this.$61,isLiveRewindEnabled:o,isLiveRewound:this.$64,isFBWasLive:this.$15.isFBWasLive(),isSphericalVideo:this.$70,isMuted:this.$65,isPlaying:this.$66,isSidePaneOpen:this.getIsInChannel()&&!!b("Parent").bySelector(this.$91,"._57bj"),isSlidingWNSEligible:this.$69,interestLevels:l,liveRelativePlaybackPosition:this.$71,drawer:this.$23,onActionsClick:function(){a.$68=!a.$68},onAnnotatedMomentOfInterestSelect:function(b){a.$15.seek(b)},onEnterWatchAndScroll:this.$25,onEnterTahoe:this.$24,doesFullscreenEnterTahoe:this.$22,onLiveRewindToBeginning:this.$74,onLiveRewindSeekBack:this.$72,onLiveRewindSeekForward:this.$73,onLiveRewindToLive:this.$75,onWNSNUXClose:this.$14,onClipVideo:this.$13,onPause:this.$80,onPlay:this.$82,onScrubBegin:this.$93,onScrubEnd:this.$94,onSetVideoPlaybackRate:this.$97,onSettingsClick:function(){a.$67=!a.$67},onSidePaneToggle:function(){b("Arbiter").inform("VideoChannelView/sidePaneToggle",{})},onStartCast:this.$109,onStopCast:this.$110,onToggleFullscreen:this.$112,onToggleHD:this.$113,onToggleHLS:this.$114,onToggleMuted:this.$115,onToggleCaptions:this.$116,onVolumeChange:this.$11,permalinkURL:this.$81,showInlineCopyLinkOption:this.$99,showInlineVideoReportOption:this.$100,showPermalinkButton:this.$101,playbackDuration:this.$83,playbackPosition:this.$84,transparent:!g,hidePlaybackControl:this.$43,isWatchIconEligible:this.$44,hidePlaybackScrubber:this.$45,showPlaybackRateControl:this.$104,showPlayButtonForLive:this.$105,showVideoSliderWarningTooltip:this.$108,hideRemainingTime:this.$46,hideSettings:this.$47,useTwoRows:this.$119,volume:this.$121,scrubberPreviewSprites:this.$95,hasScrubberPreview:this.$36&&!n,previewThumbnailInformation:this.$86,availableQualities:f,selectedQuality:c,preferredQuality:e,canAutoSelectVideoQuality:h,onSelectQuality:this.$96,showQualitySelector:this.$106,qualitySelectorMinStreams:this.$88,streamingFormat:k,showSpatialAudioNUX:this.$107,onPointOfInterestSelect:this.$85.onPointOfInterestSelect,currentPointOfInterest:this.$85.currentPointOfInterest,pointsOfInterest:this.$85.pointsOfInterest,showPointOfInterestTimestamps:this.$85.showPointOfInterestTimestamps,displayElapsedTime:this.$18,displayMilliseconds:this.$19,adBreaks:this.$1,pollTimestamps:this.$87.filter(function(b){return b<=a.$83}),vpcID:this.$15.getVideoPlayerID(),adBreaksDisableReasons:this.$2,showSidePaneToggle:!1,showWNSNUX:this.$10&&this.areControlsEnabled()&&this.$102,insertedAdBreaks:this.$50,isAdBreakDisabled:this.$51,isAdBreakInsertionWithoutGapRule:this.$52,useDarkTheme:this.$117,videoID:this.$15.getVideoID(),videoClipInfo:this.$120?this.$120:void 0,gamesVideoClipButtonEnabled:this.$32,gamesVideoCreatorClipping:this.$33,gamesDefaultClipLengthInSec:this.$34,useLargerGradient:this.$118}),this.$91);this.$10&&this.areControlsEnabled()&&this.$102&&(this.$37=!0)};c.$131=function(){var a=this.$15.getVideoInfo_DEPRECATED();if(a){this.$7=this.$15.areSubtitlesActive();this.$8=this.$15.areSubtitlesAutogenerated();this.$38=this.$15.hasSubtitles();this.$35=a.hasHD;this.$59=a.isHD;this.$65=a.isMuted;this.$66=a.isPlaying||this.isCastPlaying();if(this.$63){var c=this.$15.getSeekableRanges();c&&(this.$83=b("LiveRewindUtils").getTotalDuration(c))}else this.$20!==null&&this.$20!==void 0?this.$83=Math.min(a.playbackDuration,this.$20):this.$83=a.playbackDuration;this.$121=a.volume;c=this.$15.getOption("CommercialBreakVideoAdOverlay","videoController");c?this.$58=c.isFullscreen():this.$58=this.$15.isFullscreen();c=this.$15.getPlayerOrigin();switch(this.$15.getSource()){case"inline":case"discover":case"continue_watching_recommendation":case"topic_live":case"entry_point":this.$60=!0;break;case"permalink":this.$60=c==="video_home";break;case"games_video_home_hero":this.$60=c==="games_video_hub";break;default:this.$60=!1;break}this.$61=a.isLiveStream;this.$5=a.areHLSActive;this.$79=!1;this.$22=this.$15.listeners("enterTahoe").length!==0}};c.toggleHD=function(){this.$15.toggleHD()};c.setPreferredVideoQuality=function(a){a?this.$15.setPreferredVideoQuality(a):this.$15.unsetPreferredVideoQuality()};c.toggleHLS=function(){this.$15.switchToStreamType("hls")};c.clipVideo=function(a){b("promiseDone")(b("ClippingApi").clipVideo(this.$16,this.$15.getVideoID(),this.$34,this.$15.getCurrentTimePosition()))};c.enterWatchAndScroll=function(){b("shouldWNSRenderToRHC")()?this.$15.emit("crossfadeWatchAndScroll"):this.$15.emit("enterWatchAndScroll")};c.enterTahoe=function(){var a=this;this.$15.getSource()==="watch_scroll"?(this.$15.logEvent("watch_and_scroll_channel_entered"),b("Bootloader").loadModules(["TahoeController","URI"],function(c,d){var e=new d(a.$15.getVideoURL());d=babelHelpers["extends"]({},d.getRequestURI().getQueryData(),{ref:"tahoe"});b("VideoWatchAndScrollController").onEnterTahoe();c.openFromVideoPlayer(a.$15,e.setQueryData(d),a.$15.getVideoChannelID(),"wns")},"VideoControls")):this.$15.emit("enterTahoe")};c.scrubBegin=function(){this.isCasting()||this.$15.pause("seek_initiated")};c.scrubEnd=function(a){if(this.$63){var c=this.$15.getSeekableRanges();if(c){var d=this.$71;this.$71=a;a=b("LiveRewindUtils").getAbsolutePosition(a,c);c=b("LiveRewindUtils").getLiveHeadTimestamp(c);c=c-a<1;b("LiveVideoPlayerActions").setIsRewound(this.$15,!c);b("LiveRewindUtils").logLiveRewindEvent("scrubber",this.$15,d,null,null,a)}}this.$21&&(a+=this.$21);this.$15.seek(a,"user_initiated");this.$84=a;c=this.$66||this.$15.isState("finished")&&!this.$49;!this.isCasting()&&c&&this.$15.play("seek_initiated")};c.toggleMuted=function(){this.$15.isMuted()?(b("logVideosClickTracking")(this.$15.getVideoNode()),this.$15.unmute()):this.$15.mute()};c.toggleFullscreen=function(){this.$15.isFullscreen()||b("logVideosClickTracking")(this.$15.getVideoNode()),this.$15.toggleFullscreen()};c.toggleCaptions=function(){this.$15.toggleSubtitles(),this.scheduleRenderReactComponent()};c.changeVolume=function(a){this.$15.setVolume(a)};c.liveRewindToBeginning=function(){b("LiveRewindUtils").goToBeginning(this.$15)};c.liveRewindSeekBack=function(){b("LiveRewindUtils").seekBack(this.$15)};c.liveRewindSeekForward=function(){b("LiveRewindUtils").seekForward(this.$15)};c.liveRewindToLive=function(){b("LiveRewindUtils").goToLive(this.$15)};c.play=function(){b("logVideosClickTracking")(this.$15.getVideoNode()),this.isCasting()?this.$15.setOption("casting","isPlaying",!0):this.$15.play("user_initiated"),this.$61&&this.$63&&b("LiveRewindUtils").logLiveRewindEvent("play",this.$15,this.$71,null,this.$71,null)};c.pause=function(){this.isCasting()?this.$15.setOption("casting","isPlaying",!1):this.$15.pause("user_initiated"),this.$61&&this.$63&&(b("LiveVideoPlayerActions").setIsRewound(this.$15,!0),b("LiveRewindUtils").logLiveRewindEvent("pause",this.$15,this.$71,null,this.$71,null))};c.setVideoPlaybackRate=function(a){this.$15.setPlaybackRate(a)};c.startCasting=function(){this.$15.setOption("casting","isCasting",!0)};c.stopCasting=function(){this.$15.setOption("casting","isCasting",!1)};c.isCastPlaying=function(){return this.$15.getOption("casting","isPlaying")};c.hasFoundReceiver=function(){return this.$15.getOption("casting","hasFoundReceiver")};c.isCasting=function(){return this.$15.getOption("casting","isCasting")};c.isCastingSupported=function(){return this.$15.getOption("casting","isSupported")};c.updatePointsOfInterestConfig=function(a){Object.assign(this.$85,a),this.scheduleRenderReactComponent()};c.updateDisplayElapsedTime=function(a){this.$18=a,this.scheduleRenderReactComponent()};c.updateDisplayTimeRangeConfig=function(a){this.$20=a.displayDurationLimit,this.$21=a.displayTimeOffset,this.scheduleRenderReactComponentWithVideoInfoUpdate()};c.getIsInChannel=function(){return this.$15.getIsInChannel()};c.$132=function(){var a=[this.$12,this.$26,this.$31,this.$76];a.forEach(function(a){return window.clearTimeout(a)});this.$12=null;this.$26=null;this.$31=null;this.$76=null};c.unregister=function(){b("cancelAnimationFrame")(this.$90),this.$111.release(),this.$16.current=null,this.$132()};return a}();e.exports=a}),null);