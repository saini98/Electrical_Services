if (self.CavalryLogger) { CavalryLogger.start_js(["wPuym"]); }

__d("Clipboard",["Promise","UserAgent"],(function(a,b,c,d,e,f){var g={isSupported:function(){return window.document.queryCommandSupported instanceof Function&&window.document.queryCommandSupported("copy")&&!(b("UserAgent").isBrowser("Firefox < 41")||b("UserAgent").isPlatform("iOS < 10.3"))||b("UserAgent").isBrowser("Chrome >= 43")},copy:function(a,c){c=c||document.body;if(!c)return!1;var d=!0,e=document.createElement("textarea");c.appendChild(e);e.value=a;if(b("UserAgent").isPlatform("iOS >= 10.3")){a=document.createRange();a.selectNodeContents(e);var f=window.getSelection();f.removeAllRanges();f.addRange(a);e.setSelectionRange(0,999999)}else e.select();try{d=document.execCommand("copy")}catch(a){d=!1}c.removeChild(e);return d},copyAsync:function(a){var c=window.navigator;if(c&&c.clipboard&&typeof c.clipboard.writeText==="function")return c.clipboard.writeText(a);return g.copy(a)?b("Promise").resolve():b("Promise").reject()}};e.exports=g}),null);
__d("FBClipboardLink.react",["cx","fbt","Clipboard","DOMContainer.react","Event","KeyEventController","React","ReactDOM","SubscriptionsHandler","Tooltip.react","isKeyActivation","joinClasses","stylex"],(function(a,b,c,d,e,f,g,h){var i,j=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=j.createRef(),d.state={copied:!1,supported:b("Clipboard").isSupported()},d.$2=null,d.$3=null,d.$5=function(a){a.clipboardData&&(a.clipboardData.setData("text/html",d.$8()),a.clipboardData.setData("text",d.$9()),a.preventDefault())},d.$7=function(){if(!d.state.supported)return"Unsupported in this browser";return d.state.copied?d.props.tooltipSuccess:d.props.tooltip},d.$4=function(){d.$3&&(window.clearTimeout(d.$3),d.$3=null)},d.$10=function(){d.$3=window.setTimeout(d.$11,d.props.tooltipSuccessDuration)},d.$6=function(a){var c=b("ReactDOM").findDOMNode(d.$1.current);c=b("Clipboard").copy(d.$8(),c);d.$4();d.setState({copied:!0,supported:c});d.$10();d.props.onComplete&&d.props.onComplete(c);d.props.stopPropagation&&a.stopPropagation();d.props.preventDefaultOnClick&&a.preventDefault()},d.$11=function(){d.$4(),d.setState({copied:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.$4(),this.$2&&this.$2.release()};d.componentDidMount=function(){if(this.props.type==="html"){var a=b("ReactDOM").findDOMNode(this);this.$2=this.$2||new(b("SubscriptionsHandler"))();this.$2.addSubscriptions(b("Event").listen(a,"copy",this.$5))}this.props.hotkey&&(this.$2=this.$2||new(b("SubscriptionsHandler"))(),this.$2.addSubscriptions(b("KeyEventController").registerKey(this.props.hotkey,this.$6)))};d.render=function(){var a=this,c=b("joinClasses")(this.props.className,"_xd6"),d=this.props.children||this.props.label;!d&&this.props.childrenDONOTUSE&&(d=j.jsx(b("DOMContainer.react"),{children:this.props.childrenDONOTUSE}));return j.jsx(b("Tooltip.react"),babelHelpers["extends"]({},this.props,{tabIndex:"0",className:c,tooltip:this.$7(),"data-pitloot-persistonclick":!0,onClick:this.$6,onKeyPress:function(c){return b("isKeyActivation")(c)&&a.$6()},position:this.props.position,alignH:this.props.alignment,role:"button",children:j.jsx("div",{ref:this.$1,className:b("joinClasses")("_2lj1",(i||(i=b("stylex")))(this.props.innerXStyle)),children:d})}))};d.$8=function(){if(this.props.getValue)return this.props.getValue();else return this.props.value};d.$9=function(){return this.props.plainTextValue!=null?this.props.plainTextValue:this.$8()};return c}(j.PureComponent);a.defaultProps={tooltip:h._("Copy text to clipboard"),tooltipSuccess:h._("Text copied to clipboard"),tooltipSuccessDuration:1e3,type:"string"};e.exports=a}),null);
__d("LiveVideoRewindTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoRewindLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoRewindLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoRewindLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActionSequenceNumber=function(a){this.$1.action_sequence_number=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPositionAfter=function(a){this.$1.position_after=a;return this};c.setPositionBefore=function(a){this.$1.position_before=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoDuration=function(a){this.$1.video_duration=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={action_sequence_number:!0,deviceid:!0,event:!0,position_after:!0,position_before:!0,session_id:!0,time:!0,vc:!0,video_duration:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("KeyframeAnimation",["invariant","CSS","ReactTransitionEvents","UserAgent","nullthrows","queryThenMutateDOM","uniqueID"],(function(a,b,c,d,e,f,g){var h="KeyframeAnimation-",i="animation-";a=function(){"use strict";function a(c){this.$3=c;this.$8=!0;this.$5=new Map();this.$5.set("animation-name",h+b("uniqueID")());this.$4=new Map();if(!a.$1){c=document.createElement("style");b("nullthrows")(document.head).appendChild(c);c=b("nullthrows")(c.sheet);c instanceof CSSStyleSheet||g(0,920);a.$1=c;a.$2=new Map()}this.$9=b("UserAgent").isEngine("WebKit")?"-webkit-":""}var c=a.prototype;c.defineKeyframes=function(a){a=Object.entries(a);for(var b=0;b<a.length;b++){var c=a[b],d=c[0];c=c[1];d=parseFloat(d,10);d>=0&&d<=100||g(0,921);var e="";for(var c=Object.entries(c).sort(),f=Array.isArray(c),h=0,c=f?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=c.length)break;i=c[h++]}else{h=c.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];e+=j+": "+i+";"}this.$4.set(d,e)}return this};c.defineKeyframe=function(a,b){a=parseFloat(a,10);a>=0&&a<=100||g(0,921);var c="";for(var b=Object.entries(b).sort(),d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var h=f[0];f=f[1];(h.substring(0,i.length)===i||h==="transform")&&(h=this.$9+h);c+=h+": "+f+";"}this.$4.set(a,c);return this};c.setDirection=function(a){this.$5.set("animation-direction",a);return this};c.setDuration=function(a){this.$5.set("animation-duration",a+"s");return this};c.setTimingFunction=function(a){this.$5.set("animation-timing-function",a);return this};c.setIterationCount=function(a){this.$5.set("animation-iteration-count",a+"");return this};c.setFillMode=function(a){this.$5.set("animation-fill-mode",a);return this};c.setAnimationDelay=function(a){this.$5.set("animation-delay",a+"s");return this};c.setFinishedCallback=function(a){this.$6=a;return this};c.setMemoize=function(a){this.$8=a;return this};c.start=function(){var c=this;this.$5.has("animation-duration")||g(0,922);if(this.$7){this.restartAnimation();return}var d=this.$3,e=this.$10(),f=this.$11(e),h;if(this.$8&&a.$2.has(f)){var i=b("nullthrows")(a.$2.get(f));this.$5.set("animation-name",i);h=i}else a.$1.insertRule(e,a.$1.cssRules.length),h=b("nullthrows")(this.$5.get("animation-name")),this.$8&&a.$2.set(f,h);i=this.$12(h);(!this.$8||!a.$2.has(i))&&(a.$1.insertRule(i,a.$1.cssRules.length),this.$8&&a.$2.set(i,h));b("queryThenMutateDOM")(function(){},function(){c.$13(),b("CSS").addClass(d,h)})};c.restartAnimation=function(){var a=this.$3;b("CSS").removeClass(a,b("nullthrows")(this.$5.get("animation-name")));a.offsetWidth;this.$7=!1;b("CSS").addClass(a,b("nullthrows")(this.$5.get("animation-name")))};c.$13=function(){b("ReactTransitionEvents").addEndEventListener(this.$3,this.$14.bind(this))};c.$12=function(a){var b="";b+="."+a+" {";for(var a=this.$5,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];b+=f+": "+e+";"}b+="}";return b};c.$10=function(){var a=this.$5.get("animation-name"),c;b("UserAgent").isEngine("WebKit")?c="@-webkit-keyframes":c="@keyframes";c=c+" "+a+" {";for(var a=this.$4,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];c+=g+"% {"+f+"}"}return c+"}"};c.$14=function(){this.$7||(this.$6&&this.$6(this.$3),this.$7=!0)};c.$11=function(a){return a.substring(a.indexOf("{")+1).toLowerCase().replace(/\s+/g,"")};return a}();e.exports=a}),null);
__d("CSSAnimationBuilder",["KeyframeAnimation"],(function(a,b,c,d,e,f){a={keyframeAnimation:function(a){return new(b("KeyframeAnimation"))(a)}};e.exports=a}),null);
__d("AsyncRequestUtil",["Promise"],(function(a,b,c,d,e,f){"use strict";a={send:function(a){return new(b("Promise"))(function(b,c){return a.setHandler(b).setErrorHandler(c).send()})}};e.exports=a}),null);
__d("getContextualLayerCursorOffset",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a.getOrientation(),e=d.getPosition();d=d.getAlignment();var f=a.getContent().getBoundingClientRect();a=a.getContext().getBoundingClientRect();b=b-a.left;c=c-a.top;switch(d){case"left":b-=f.width;break;case"center":b-=a.width*.5;break;case"right":b-=a.width-f.width;break;default:throw new Error("invalid alignment")}switch(e){case"above":break;case"left":b+=f.width;c-=f.height*.5;break;case"right":b-=f.width;c-=f.height*.5;break;case"below":c-=a.height;break;default:throw new Error("invalid position")}return{offsetX:b,offsetY:c}}e.exports=a}),null);
__d("VideoHomePlayButtonThumbnailOverlay.react",["cx","ix","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;switch(this.props.size){case"24":a=h("354763");break;case"48":a=h("101640");break;case"72":a=h("352839");break}return i.jsx("div",{className:b("joinClasses")(this.props.className,"_604-"),children:i.jsx(b("Image.react"),{src:a,width:this.props.size})})};return c}(i.Component);e.exports=a}),null);
__d("XLiveClipVideoInternalSubmitController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/clipping/submit/",{video_id:{type:"Int",required:!0},start_seconds:{type:"Int"},end_seconds:{type:"Int"},show_share_dialog_on_finish:{type:"Bool",defaultValue:!0}})}),null);
__d("XLiveVideoClippingShareDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/clipping/share/dialog/",{video_id:{type:"FBID",required:!0},show_preview:{type:"Bool",defaultValue:!1},start_seconds:{type:"Int"},end_seconds:{type:"Int"},enable_scrubber:{type:"Bool",defaultValue:!1}})}),null);
__d("ClippingApi",["regeneratorRuntime","Arbiter","AsyncRequest","AsyncRequestUtil","XLiveClipVideoInternalSubmitController","XLiveVideoClippingShareDialogController","qex"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.clipVideo=function(a,c,d,e){var f,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:f=Math.round(e);g=!!b("qex")._("1180562");if(!g){k.next=11;break}h=b("XLiveVideoClippingShareDialogController").getURIBuilder().setFBID("video_id",c).setBool("show_preview",!1).setInt("start_seconds",f-d).setInt("end_seconds",f).setBool("enable_scrubber",g).getURI();k.next=6;return b("regeneratorRuntime").awrap(b("AsyncRequestUtil").send(new(b("AsyncRequest"))(h)));case 6:b("Arbiter").inform("GamesVideoClipping/clipReady");i=a.current;(i==null?void 0:i.isFullscreen())&&(i==null?void 0:i.toggleFullscreen());i==null?void 0:i.pause("user_initiated");return k.abrupt("return");case 11:j=b("XLiveClipVideoInternalSubmitController").getURIBuilder().setInt("end_seconds",f).setInt("video_id",c).getURI();k.next=14;return b("regeneratorRuntime").awrap(b("AsyncRequestUtil").send(new(b("AsyncRequest"))(j).setMethod("POST")));case 14:return k.abrupt("return");case 15:case"end":return k.stop()}},null,this)};c.shareClip=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:c=b("XLiveVideoClippingShareDialogController").getURIBuilder().setFBID("video_id",a).setBool("show_preview",!1).getURI();d.next=3;return b("regeneratorRuntime").awrap(b("AsyncRequestUtil").send(new(b("AsyncRequest"))(c)));case 3:b("Arbiter").inform("GamesVideoClipping/clipReady");case 4:case"end":return d.stop()}},null,this)};return a}();e.exports=new a()}),null);
__d("MountedContextMenu.react",["cx","ContextualLayer.react","DOMQuery","Event","Focus","LayerHideOnEscape","PopoverMenu.react","PopoverMenuInterface","React","ReactDOM","SubscriptionsHandler","prop-types","isNode","getContextualLayerCursorOffset"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=Object.prototype.hasOwnProperty;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shown:!1,lastOpenedX:0,lastOpenedY:0,offsetX:0,offsetY:0},d.refs_fakeTrigger=null,d.menuLayerRefHandler=function(a){d.refs_menuLayer=a},d.$6=function(a){var b=a.clientX,c=a.clientY;a.preventDefault();a.stopPropagation();d.showAt(b,c)},d.$7=function(a){var c=d.$3();c=c&&b("DOMQuery").contains(c,a.target);a=a.button===0;c&&a||d.hide()},d.$8=function(){d.props.disableFocusOutline&&b("Focus").setWithoutOutline(d.$2())},d.$9=function(){var a=d.$2();d.props.disableFocusOutline?b("Focus").setWithoutOutline(a):b("Focus").set(a);d.state.shown&&d.hide()},d.$10=function(){d.hide()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(){return this.props.mountedTriggerElem};d.$3=function(){var a=this.refs_popover.getMenu();return a&&a.getRoot()};d.$4=function(){return this.refs_menuLayer.layer};d.renderLayers=function(){var a=this;return h.jsx(b("ContextualLayer.react"),{alignment:"right",behaviors:[b("LayerHideOnEscape")],contextRef:function(){return a.$2()},offsetX:this.state.offsetX,offsetY:this.state.offsetY,position:"below",ref:this.menuLayerRefHandler,shown:this.state.shown,children:h.jsx(b("PopoverMenu.react"),{alignh:"left",menu:this.props.menu,position:"below",ref:function(b){return a.refs_popover=b},children:h.jsx("div",{className:"_4345",ref:function(b){return a.refs_fakeTrigger=b}})})},"menu")};d.render=function(){return this.props.mountedTriggerElem?h.jsx("span",{children:this.renderLayers()}):null};d.$5=function(a,c){var d=this.$4();a=b("getContextualLayerCursorOffset")(d,a,c);c=a.offsetX;a=a.offsetY;d.setOffsetX(c).setOffsetY(a);this.setState({offsetX:c,offsetY:a})};d.componentDidMount=function(){var a=this,c,d=this.$2(),e=b("ReactDOM").findDOMNode(this.refs_fakeTrigger),f=this.$4(),g=this.refs_popover;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions((c=b("Event")).listen(d,"contextmenu",this.$6),c.listen(document.body,"mousedown",this.$7),c.listen(d,"focus",this.$8),c.listen(e,"focus",this.$9),c.listen(window,"blur",this.$10),f.subscribe("show",function(){var b=a.state.lastOpenedX,c=a.state.lastOpenedY;a.$5(b,c);g.showPopover()}),f.subscribe("hide",function(){g.hidePopover()}))};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.show=function(){this.setState({shown:!0})};d.showAt=function(a,b){this.setState({lastOpenedX:a,lastOpenedY:b}),this.show()};d.hide=function(){this.setState({shown:!1})};return c}(h.Component);a.propTypes={disableFocusOutline:b("prop-types").bool,menu:function(a,c,d){if(!i.call(a,c))return new Error(d+"."+c+" is required");d=a[c];a=d&&d.type;return!(a&&a.prototype instanceof b("PopoverMenuInterface"))?new Error(c+" must implement PopoverMenuInterface"):null},mountedTriggerElem:function(a,c,d){if(!i.call(a,c))return new Error(d+"."+c+" is required");else if(!b("isNode")(a[c]))return new Error(d+"."+c+" must be a raw DOM node");return null}};e.exports=a}),null);
__d("VideoContextMenuGK",["gkx"],(function(a,b,c,d,e,f){"use strict";e.exports={menuRedesign:b("gkx")("971964")}}),null);
__d("VideoPlayerHTML5ContextMenu.react",["cx","fbt","BanzaiODS","ContextualLayer.react","DOMQuery","Event","FBClipboardLink.react","Focus","FullScreen","Keys","LayerAutoFocus","LayerHideOnEscape","MountedContextMenu.react","React","ReactDOM","ReactXUIMenu","SubscriptionsHandler","URI","VideoContextMenuGK","VideoPermalinkURI","VideoPlayerExperiments","getFullScreenElement"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k=b("ReactXUIMenu").Item,l=.35,m=6,n=60;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={permalinkVisible:!1,fullscreened:!1,screenWidth:screen.width,screenHeight:screen.height},d.refs_permalinkMenuItem=null,d.refs_copyPermalinkMenuItem=null,d.refs_menu=null,d.$2=function(){var a=b("getFullScreenElement")(),c=d.props.rootContainer;a=!!(b("FullScreen").isFullScreen()&&a&&c&&b("DOMQuery").contains(a,c));d.setState({fullscreened:a})},d.$7=function(){d.props.onTogglePause&&d.props.onTogglePause()},d.$8=function(){d.props.onToggleMute&&d.props.onToggleMute()},d.$4=function(){b("Focus").set(b("ReactDOM").findDOMNode(d.refs_permalinkText)),d.setState({permalinkVisible:!0})},d.$3=function(){d.setState({permalinkVisible:!1})},d.$9=function(){b("ReactDOM").findDOMNode(d.refs_permalinkText).select()},d.$10=function(a){b("Event").getKeyCode(a)==b("Keys").ESC&&d.setState({permalinkVisible:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.refs_permalinkLayer.layer;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("FullScreen").subscribe("changed",this.$2),a.subscribe("hide",this.$3),a.subscribe("show",this.$4));this.props.initialPosition&&this.refs_menu.showAt(this.props.initialPosition.x,this.props.initialPosition.y)};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.$5=function(){if(this.props.paused)return h._("Play");else return h._("Pause")};d.$6=function(){if(this.props.muted)return h._("Unmute");else return h._("Mute")};d.hidePermalinkOverlay=function(){this.$3()};d.$11=function(a){a.preventDefault()};d.$12=function(){var a,b;if(this.state.fullscreened)a=this.state.screenWidth,b=this.state.screenHeight;else{var c=this.props.rootContainer.getBoundingClientRect();a=c.width;b=c.height}return{width:a,height:b}};d.$13=function(a){var b=this,c=this.props.permalinkURL;if(c){a={width:a+"px"};return j.jsxs("div",{className:"_26oo",style:a,children:[j.jsx("input",{className:"_26op autofocus",onFocus:this.$9,onKeyDown:this.$10,onMouseUp:this.$11,readOnly:!0,ref:function(a){return b.refs_permalinkText=a},type:"text",value:c}),j.jsx("button",{className:"_26oq",onClick:this.$3,children:h._("Close")})]})}return null};d.renderLayers=function(){var a=this,c=this.props.permalinkURL&&this.state.permalinkVisible,d=0,e=0,f=null,g=this.$12(),h=g.width;g=g.height;var i=h*l;d=h/2-i/2;e=-g+m;this.state.fullscreened&&(e+=n);f=this.$13(i);return j.jsx(b("ContextualLayer.react"),{alignment:"left",behaviors:[b("LayerHideOnEscape"),b("LayerAutoFocus")],contextRef:function(){return a.props.videoContainer},offsetX:d,offsetY:e,position:"below",ref:function(b){return a.refs_permalinkLayer=b},shown:c,children:f},"permalinkOverlay")};d.$14=function(){b("BanzaiODS").bumpEntityKey(2079,"videos","copy_video_url.click")};d.$15=function(){var a=this;if(!this.props.permalinkURL)return null;var c=new(i||(i=b("URI")))(this.props.permalinkURL);if(b("VideoPlayerExperiments").copyLinkAtCurrentTimeInContextMenu&&b("VideoPermalinkURI").isValid(c)){c.addQueryData("t",this.props.getVideoCurrentTimePosition());return j.jsx(k,{ref:function(b){return a.refs_copyPermalinkMenuItem=b},children:j.jsx(b("FBClipboardLink.react"),{onComplete:this.$14,tooltip:null,tooltipSuccess:null,value:c.toString(),children:h._("Copy video URL at current time")})})}return null};d.$16=function(){var a=this;if(this.props.permalinkURL)if(b("VideoPlayerExperiments").copyLinkInContextMenu)return j.jsx(k,{ref:function(b){return a.refs_copyPermalinkMenuItem=b},children:j.jsx(b("FBClipboardLink.react"),{onComplete:this.$14,tooltip:null,tooltipSuccess:null,value:this.props.permalinkURL,children:h._("Copy Video URL")})});else return j.jsx(k,{onclick:this.$4,ref:function(b){return a.refs_permalinkMenuItem=b},children:h._("Show video URL")});return null};d.render=function(){var a=this,c=this.props.paused!==null&&j.jsx(k,{onclick:this.$7,children:this.$5()}),d=this.props.isLive?null:this.$15();c=j.jsxs(b("ReactXUIMenu"),{className:b("VideoContextMenuGK").menuRedesign?"_45di":"",children:[c,j.jsx(k,{onclick:this.$8,children:this.$6()}),this.$16(),d,this.props.children]});return j.jsxs("span",{children:[j.jsx(b("MountedContextMenu.react"),{mountedTriggerElem:this.props.videoContainer,menu:c,ref:function(b){return a.refs_menu=b}}),this.renderLayers()]})};return c}(j.Component);e.exports=a}),null);
__d("VideoContextMenu",["Bootloader","CurrentUser","EventListener","React","ReactDOM","URI","UserAgent","VideoPlayerHTML5ContextMenu.react","isFacebookURI"],(function(a,b,c,d,e,f){var g,h=b("React"),i=/(instagram)/g;a=function(){"use strict";function a(a,c,d){var e=this;this.$10=function(){for(var a in e.$8){var b=e.$8[a].name,c=e.$8[a].option,d=e.$8[a].description,f=e.$8[a].closeMessage;e.$2.hasOption(b,c)?e.$13(b,c,d,f):e.$12(b,c)}e.$9()};this.$9=function(){e.$6&&e.$14()};this.$11=function(a){var c=/^a$/i.test(a.target.nodeName||"");c=c||b("CurrentUser").isEmployee()&&(b("UserAgent").isPlatform("Mac OS X")?a.getModifiers().meta:a.getModifiers().ctrl);c&&e.$6?(b("ReactDOM").unmountComponentAtNode(e.$4),delete e.$6):!c&&!e.$6&&(a.preventDefault(),e.$14(a))};this.$8={debugOverlay:{name:"DebugOverlay",option:"hidden",description:"Employee Debug Info",closeMessage:"Hide Debug Information"},statsForNerds:{name:"StatsForNerds",option:"hidden",description:"Show video stats",closeMessage:"Hide video stats"}};this.$2=a;this.$3=d;this.$4=c;this.$1={};this.$5=null;if(this.$3.permalinkURL){d=new(g||(g=b("URI")))(this.$3.permalinkURL).getQualifiedURI();(!b("isFacebookURI")(d)||d.getSubdomain()==="developers"||d.getSubdomain()==="ai"||d.getSubdomain()==="sparkar")&&(d.setSubdomain("www"),d.setDomain(d.getDomain().replace(i,"facebook")));this.$5=d.toString()}c=["muteVideo","unmuteVideo","changeVolume","beginPlayback","pausePlayback","finishPlayback","adBreakIndicatorShowing"];["enterWatchAndScroll","exitWatchAndScroll"].forEach(function(b){return a.addListener(b,function(){e.$6&&e.$6.hidePermalinkOverlay(),e.$9()})});a.addListener("optionsChange",this.$10);this.$10();c.forEach(function(b){return a.addListener(b,e.$9)});b("EventListener").listen(this.$2.getRootNode(),"contextmenu",this.$11)}var c=a.prototype;c.setPermalinkURL=function(a){this.$5=a,this.$9()};c.$12=function(a,b){this.$7&&this.$7.removeMenuItem(a,b)};c.$13=function(a,c,d,e){var f=this;b("Bootloader").loadModules(["VideoComponentOptionMenuItems"],function(b){f.$7||(f.$7=new b(f.$2,f.$9)),f.$7.addComponentOptionMenuItem(a,c,d,e)},"VideoContextMenu")};c.$15=function(a,b){return!this.$7?void 0:this.$7.getComponentOptionMenuItem(a,b)};c.$14=function(a){var c=this,d=this.$15(this.$8.debugOverlay.name,this.$8.debugOverlay.option),e=this.$15(this.$8.statsForNerds.name,this.$8.statsForNerds.option),f=this.$2.getRootNode(),g=this.$2.getContainerNode(),i=function(){return Math.round(c.$2.getCurrentTimePosition())};this.$6=b("ReactDOM").render(h.jsxs(b("VideoPlayerHTML5ContextMenu.react"),{rootContainer:f,videoContainer:g,paused:this.$16()?null:!this.$2.isState("playing"),muted:this.$2.isMuted(),permalinkURL:this.$5,initialPosition:a?{x:a.clientX,y:a.clientY}:void 0,getVideoCurrentTimePosition:i,onTogglePause:function(){return c.$17()},onToggleMute:function(){return c.$18()},isLive:this.$2.isLiveVideo(),children:[d,e]}),this.$4)};c.$16=function(){if(this.$2.getOption("VideoContextMenu","disablePlayPauseMenuItem"))return!0;if(this.$2.getOption("VideoContextMenu","disablePauseMenuItem")&&!this.$2.isState("paused"))return!0;var a=this.$2.getOption("VideoWithCommercialBreak","controller");return a&&a.getIsDuringTransition()?!0:!1};c.$18=function(){this.$2.isMuted()?this.$2.unmute():this.$2.mute()};c.$17=function(){!this.$2.isState("playing")?this.$2.play("user_initiated"):this.$2.pause("user_initiated")};return a}();e.exports=a}),null);
__d("LiveVideoPlayerActions",["LiveVideoPlayerDispatcher"],(function(a,b,c,d,e,f){a={setIsRewound:function(a,c){c={type:"SET_IS_REWOUND",isRewound:c,vpc:a};b("LiveVideoPlayerDispatcher").dispatch(c)},dismissRewindCommentOverlay:function(a){a={type:"DISMISS_REWIND_COMMENT_OVERLAY",playerID:a};b("LiveVideoPlayerDispatcher").dispatch(a)}};e.exports=a}),null);
__d("LiveRewindUtils",["LiveVideoPlayerActions","LiveVideoRewindTypedLogger","uuid"],(function(a,b,c,d,e,f){"use strict";var g=5,h=new Map(),i=250;function j(a){var b=0;for(var c=0;c<a.length();c++)b+=a.end(c)-a.start(c);return b>g?b-g:0}function a(a,b){var c=a;if(b.length()<1)return 0;if(a<=0)return b.start(0);for(var a=0;a<b.length();a++){var d=b.end(a)-b.start(a);if(c<d)return b.start(a)+c;c-=d}return b.end(b.length()-1)}function k(a,b){var c=a;if(b.length()<1)return c;var d=0;for(var e=0;e<b.length();e++){var f=b.start(e),g=f-d;c-=g;if(a<f){g=f-a;return c+g}if(a<=b.end(e))return c;d=b.end(e)}return c}function l(a,b,c,d){if(c.length()<1)return 0;d==null&&(d=n(a,c));a<c.start(d)&&(a=c.start(d));a>c.end(d)&&(a=c.end(d));var e=a+b,f=c.end(c.length()-1),g=c.start(0);if(e<=g)return g;if(e>=f)return f;if(e>=c.start(d)&&e<=c.end(d))return e;if(e<c.start(d)){if(d<1)return g;g=a-c.start(d);g=b+g;var h=c.end(d-1);return l(h,g,c,d-1)}if(e>c.start(d)){if(d>=c.length()-1)return f;h=c.end(d)-a;g=b-h;e=c.start(d+1);return l(e,g,c,d+1)}return 0}function m(a,b){b==null&&(b=g);var c=a.end(a.length()-1);return l(c,-1*b,a)}function n(a,b){if(b.length()<1)return 0;var c=0;while(c<b.length()-1){if(a<b.end(c))return c;c++}return c}function c(a){var c=h.get(a);if(c==null){var d=b("uuid")();h.set(a,{sessionID:d,currentSequenceNumber:0});return d}return c.sessionID}function d(a){var c=h.get(a);if(c==null){h.set(a,{sessionID:b("uuid")(),currentSequenceNumber:0});return 0}a=++c.currentSequenceNumber;return a}function f(a){var c=a.getSeekableRanges();if(c){var d=k(a.getCurrentTimePosition(),c);c=c.start(0);s(a,c);b("LiveVideoPlayerActions").setIsRewound(a,!0);r("go_to_beginning",a,d,null,0,null)}}function o(a){var c=a.getSeekableRanges();if(!c)return;var d=a.getCurrentTimePosition(),e=k(d,c);d=l(d,-10,c);s(a,d);b("LiveVideoPlayerActions").setIsRewound(a,!0);r("back_button",a,e,null,null,d)}function p(a){var c=a.getSeekableRanges();if(!c)return;var d=a.getCurrentTimePosition(),e=k(d,c);d=l(d,10,c);s(a,d);c=m(c);a.isState("playing")&&c-d<1&&b("LiveVideoPlayerActions").setIsRewound(a,!1);r("forward_button",a,e,null,null,d)}function q(a){var c=a.getSeekableRanges();if(c){var d=a.getCurrentTimePosition();d=k(d,c);c=c.end(c.length()-1);s(a,c);a.isState("paused")&&a.play("user_initiated");b("LiveVideoPlayerActions").setIsRewound(a,!1);r("go_to_live",a,d,null,null,c)}}function r(a,c,d,e,f,g){var h=c.getSeekableRanges(),i=h?j(h):0;d==null&&e!=null&&h!=null&&(d=k(e,h));f==null&&g!=null&&h!=null&&(f=k(g,h));new(b("LiveVideoRewindTypedLogger"))().setEvent(a).setPositionBefore(d).setPositionAfter(f).setVideoDuration(i).setVideoID(c.getVideoID()).setSessionID(t.getLoggingSessionID(c.getVideoPlayerID())).setActionSequenceNumber(t.getLoggingSequenceNumber(c.getVideoPlayerID())).log()}function s(a,b){var c=a.getState()==="paused";a.pause("seek_initiated");setTimeout(function(){a.seek(b),c||a.play("seek_initiated")},i)}var t={getSeekTime:l,getAbsolutePosition:a,getLiveHeadTimestamp:m,getLoggingSessionID:c,getLoggingSequenceNumber:d,getRelativePosition:k,getTotalDuration:j,goToBeginning:f,goToLive:q,logLiveRewindEvent:r,seekBack:o,seekForward:p,LIVE_HEAD_BUFFER_S:g};e.exports=t}),null);
__d("VideoPlaybackControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","ReactDOM","TooltipData","VideoPlayerExperiments","asset","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={awaitingUpdate:!1,isPlayingOverwrite:!1};return b}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.isPlaying=function(){return this.state.awaitingUpdate?this.state.isPlayingOverwrite:this.props.isPlaying};d.onButtonClick=function(){var a=this.isPlaying();this.setState({awaitingUpdate:!0,isPlayingOverwrite:!a});a?this.props.onPause&&this.props.onPause():this.props.onPlay&&this.props.onPlay()};d.UNSAFE_componentWillReceiveProps=function(){this.setState({awaitingUpdate:!1})};d.onMouseOut=function(a){b("ReactDOM").findDOMNode(this.refs.button).blur()};d.render=function(){var a=null,c="";this.props.finishedPlaying?(this.props.useDarkTheme?a=g("463014"):a=g("463019"),c=i._("Replay")):this.props.isLiveVideo?a=this.isPlaying()?g("463008"):g("431972"):(this.props.useDarkTheme?a=this.isPlaying()?g("463003"):g("462853"):a=this.isPlaying()?g("463005"):g("374088"),c=this.isPlaying()?i._("Pause"):i._("Play"));a=j.jsx(b("Image.react"),{className:"_rwt",src:a});var d=(this.props.isLiveVideo?"":"_zbd")+(this.props.isLiveVideo?" _rx5":"")+" _2sm1";if(b("VideoPlayerExperiments").embeddedPlayerEnhancements)return j.jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(c,"above"),{className:d,"data-testid":void 0,image:a,label:c,labelIsHidden:!0,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"}));else return j.jsx(b("AbstractButton.react"),{className:d,"data-testid":void 0,image:a,label:c,labelIsHidden:!0,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"})};return c}(j.Component);a.propTypes={finishedPlaying:(c=b("prop-types")).bool,isPlaying:c.bool,onPlay:c.func,onPause:c.func,tabIndex:c.string};a.defaultProps={useDarkTheme:!1};e.exports=a}),null);
__d("VideoPlaybackTimer.react",["cx","DateConsts","React","ShimButton.react","VideoPlayerExperiments","joinClasses","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={displayRemainingTime:!b.props.displayElapsedTime,displayPreferenceSet:!1};return b}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.UNSAFE_componentWillReceiveProps=function(a){this.state.displayPreferenceSet||this.setState({displayRemainingTime:!a.displayElapsedTime})};d.getClock=function(a){var c="";isNaN(a)?a=0:a<0&&(a*=-1,c="-");var d=Math.floor(a/b("DateConsts").SEC_PER_HOUR),e=Math.floor((a-d*b("DateConsts").SEC_PER_HOUR)/b("DateConsts").SEC_PER_MIN),f=null;!this.props.displayMilliseconds?f=Math.round(a-d*b("DateConsts").SEC_PER_HOUR-e*b("DateConsts").SEC_PER_MIN):f=Math.floor(a-d*b("DateConsts").SEC_PER_HOUR-e*b("DateConsts").SEC_PER_MIN);f===b("DateConsts").SEC_PER_MIN&&(f=0,e++);e===b("DateConsts").MIN_PER_HOUR&&(e=0,d++);a=a-d*b("DateConsts").SEC_PER_HOUR-e*b("DateConsts").SEC_PER_MIN-f;a=Math.round(a*b("DateConsts").MS_PER_SEC);var g=("0"+e).slice(-2);f=("0"+f).slice(-2);a=("00"+a).slice(-3);c=c;d===0?c+=e+":"+f:c+=d+":"+g+":"+f;this.props.displayMilliseconds&&(c+="."+a);return c};d.onButtonClick=function(){this.setState({displayRemainingTime:!this.state.displayRemainingTime,displayPreferenceSet:!0})};d.render=function(){var a=this.state.displayPreferenceSet?this.state.displayRemainingTime:!this.props.displayElapsedTime;a=a?this.props.remainingTimestamp:this.props.playbackPosTimestamp;var c="_66_y"+((!b("VideoPlayerExperiments").embeddedPlayerEnhancements||!this.props.isEmbedded)&&!this.props.displayBothTimes?" _66_z":"");this.props.isInScrubberPreview&&(c="_66_-");var d=Object.assign({},this.props);delete d.displayElapsedTime;delete d.displayMilliseconds;delete d.isInScrubberPreview;delete d.playbackPosTimestamp;delete d.remainingTimestamp;delete d.isEmbedded;return this.props.displayBothTimes?h.jsxs("div",babelHelpers["extends"]({},d,{className:b("joinClasses")(this.props.className,c),children:[h.jsx("span",{className:"_66_z",children:this.getClock(this.props.playbackPosTimestamp)}),h.jsx("span",{children:" / "}),h.jsx("span",{children:this.getClock(this.props.playbackDurationTimestamp)})]})):h.jsx(b("ShimButton.react"),babelHelpers["extends"]({},d,{className:b("joinClasses")(this.props.className,c),onClick:this.props.isLiveVideo?void 0:this.onButtonClick.bind(this),children:this.getClock(a)}))};return c}(h.Component);a.propTypes={isEmbedded:(c=b("prop-types")).bool,isInScrubberPreview:c.bool,playbackDurationTimestamp:c.number,playbackPosTimestamp:c.number,remainingTimestamp:c.number,displayElapsedTime:c.bool,displayMilliseconds:c.bool,displayBothTimes:c.bool,useDarkTheme:c.bool};a.defaultProps={isInScrubberPreview:!1,playbackDurationTimestamp:0,playbackPosTimestamp:0,remainingTimestamp:0,displayElapsedTime:!1,displayMilliseconds:!1,displayBothTimes:!1,useDarkTheme:!1};e.exports=a}),null);
__d("VideoInstreamUtils",["fbt","DateConsts","VideoInstreamAdsConstants"],(function(a,b,c,d,e,f,g){var h={convertFormattedTimeToSeconds:function(a){var c=0;a=a.split(".");if(a.length>2)return null;if(a.length===2){if(a[1].length===0)return null;var d=a[1];while(d.length<3)d+="0";d=Number(d);if(isNaN(d)||d<0||d>=b("DateConsts").MS_PER_SEC)return null;c+=d/b("DateConsts").MS_PER_SEC}d=a[0].split(":");if(d.length>3)return null;for(var a=0;a<d.length;a++){if(d[a].length===0)return null;var e=Number(d[a]);if(isNaN(e)||e<0||e>=60)return null;c+=e*Math.pow(60,d.length-a-1)}return c},convertTimestampToFormattedString:function(a){var c;a=Math.round(a*(c=b("DateConsts")).MS_PER_SEC)/c.MS_PER_SEC;var d=Math.floor(a/c.SEC_PER_HOUR);a=a-d*c.SEC_PER_HOUR;var e=Math.floor(a/c.SEC_PER_MIN),f=Math.floor(a-e*c.SEC_PER_MIN);a=Math.round(a*c.MS_PER_SEC);c=("0"+d).slice(-2);e=("0"+e).slice(-2);f=("0"+f).slice(-2);a=("00"+a).slice(-3);var g="";d>0&&(g+=c+":");return g+=e+":"+f+"."+a},getMaxPossibleAdBreaks:function(a,c){a=Math.ceil(a)*b("DateConsts").MS_PER_SEC;if(a<b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS)return 0;if(!c)return b("VideoInstreamAdsConstants").AD_INSERTION_MAXIMUM_NUMBER_OF_AD_BREAKS;c=(a-b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS-b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS)/b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS;return Math.max(0,Math.floor(c)+1)},getEligibleTimeSegments:function(a,c,d){var e=h.getMaxPossibleAdBreaks(c,d);if(e===0||!d&&a.length>=e)return[];var f=b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC,g=c-b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC,i=b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/b("DateConsts").MS_PER_SEC;if(a.length===0||!d)return[{start:f,end:g}];var j=[];a.forEach(function(b,c){if(c===0){var d=b.timeOffset-i;d>=f&&j.push({start:f,end:d})}if(c-1>=0){d=a[c-1].timeOffset+i;var e=b.timeOffset-i;d<=e&&j.push({start:d,end:e})}if(c===a.length-1){d=b.timeOffset+i;d<=g&&j.push({start:d,end:g})}});return j},isInEligibleTimeSegments:function(a,b,c,d){if(a===null||a===void 0)return!1;c=h.getEligibleTimeSegments(c,b,d);for(var b=0;b<c.length;b++)if(a>=c[b].start&&a<=c[b].end)return!0;return!1},isAdBreakViolatingInsertionRules:function(a,c,d,e){var f=a[c];if(f.timeOffset*b("DateConsts").MS_PER_SEC<b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS)return!0;if((d-f.timeOffset)*b("DateConsts").MS_PER_SEC<b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS)return!0;if(e)for(var d=0;d<a.length;d++){if(d===c||a[d].timeOffset>=f.timeOffset)continue;if((f.timeOffset-a[d].timeOffset)*b("DateConsts").MS_PER_SEC<b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS)return!0}return!1},getAdBreakTabState:function(a,b,c,d){a=new Set(a);h.getMaxPossibleAdBreaks(c,d)===0&&a.add("video_too_short");b&&a.add("branded_content");return this._getAdBreakTabStateFromDisabledReasons(a)},_getAdBreakTabStateFromDisabledReasons:function(a){if(a.size===0)return{disabled:!1,errorMessageHeader:null,errorMessageContent:null};else if(a.has("video_too_short"))return{disabled:!0,errorMessageHeader:g._({"*":"Videos must be {insertion interval} seconds or longer"},[g._param("insertion interval",b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH,[0])]),errorMessageContent:g._("Your video is too short to include in-stream ads.")};else if(a.has("not_organic_upload"))return{disabled:!0,errorMessageHeader:g._("In-stream ads not available"),errorMessageContent:g._("In-stream ads can only be placed in original videos, not crossposted or reshared videos.")};else if(a.has("broadcast"))return{disabled:!0,errorMessageHeader:g._("In-stream ads not available"),errorMessageContent:g._("Live videos are not eligible for in-stream ads, even if they are no longer live.")};else if(a.has("branded_content"))return{disabled:!0,errorMessageHeader:g._("In-stream ads not available"),errorMessageContent:g._("In-stream ads can't be used in this video because it contains tagged business partners.")};else if(a.has("asset_not_owned_by_page")||a.has("unowned_asset_crosspost"))return{disabled:!0,errorMessageHeader:g._("In-stream ads not available"),errorMessageContent:g._("You can only modify in-stream ads in videos that belong to Pages that you manage.")};return{disabled:!0,errorMessageHeader:g._("In-stream ads not available"),errorMessageContent:null}}};e.exports=h}),null);
__d("VideoScrubberPointOfInterestBar.react",["cx","React","ShimButton.react","VideoPlaybackTimer.react","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React"),i=function(c){"use strict";babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state={visibility:"hidden"},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){var a=this,c=this.props.timestamp,d=c*100/this.props.playbackDuration+"%",e=h.jsx(b("VideoPlaybackTimer.react"),{className:"_zs-",isInScrubberPreview:!0,playbackPosTimestamp:0,remainingTimestamp:c,style:{left:d,visibility:this.state.visibility}});return h.jsxs("div",{children:[h.jsx(b("ShimButton.react"),{className:"_zt2"+(this.props.isActive?" _zt3":""),onClick:function(b){return a.props.onPointOfInterestSelect(c)},onMouseEnter:function(b){return a.setState({visibility:"visible"})},onMouseLeave:function(b){return a.setState({visibility:"hidden"})},style:{left:d}}),this.props.showPointOfInterestTimestamps&&e]})};return a}(h.PureComponent);i.propTypes={playbackDuration:(a=b("prop-types")).number.isRequired,timestamp:a.number.isRequired,isActive:a.bool.isRequired,showPointOfInterestTimestamps:a.bool.isRequired,onPointOfInterestSelect:a.func.isRequired};c=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){return h.jsx(i,{playbackDuration:c.props.playbackDuration,timestamp:a,isActive:a===c.props.currentPointOfInterest,onPointOfInterestSelect:c.props.onPointOfInterestSelect,showPointOfInterestTimestamps:!!c.props.showPointOfInterestTimestamps},"poi"+a)},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.shouldComponentUpdate=function(a,b){var c=this;return a.tabIndex!=this.props.tabIndex||a.currentPointOfInterest!==this.props.currentPointOfInterest||a.playbackDuration!=this.props.playbackDuration||a.pointsOfInterest.length!=this.props.pointsOfInterest.length||a.pointsOfInterest.some(function(a,b){return c.props.pointsOfInterest[b]!=a})};c.render=function(){return h.jsx("div",{className:"_zud",tabIndex:this.props.tabIndex,children:h.jsx("div",{className:"_zue",children:this.props.pointsOfInterest.map(this.$1,this)})})};return b}(h.Component);c.propTypes={tabIndex:a.string.isRequired,playbackDuration:a.number.isRequired,onPointOfInterestSelect:a.func.isRequired,currentPointOfInterest:a.number,pointsOfInterest:a.array.isRequired,showPointOfInterestTimestamps:a.bool};e.exports=c}),null);
__d("VideoScrubberPreviewSpriteCalculation",[],(function(a,b,c,d,e,f){a={getImageCoordinatesInSpriteByTime:function(a,b){var c=this.getTotalTimeInSprite(b.maxImagesPerSprite,b.timeIntervalBetweenImages);a=Math.floor(a%c/b.timeIntervalBetweenImages);c=Math.floor(a/b.imagesPerRow);a=a%b.imagesPerRow;return{x:a*b.previewScrubberWidth,y:c*b.previewScrubberHeight}},getSpriteIndex:function(a,b,c){b=this.getTotalTimeInSprite(b,c);return Math.floor(a/b)+1},getTotalTimeInSprite:function(a,b){return a*b}};e.exports=a}),null);
__d("VideoScrubber.react",["ix","cx","fbt","Arbiter","BootloadedComponent.react","ClickableArea.react","DateConsts","EventListener","Image.react","JSResource","Keys","ProfileTile.react","React","ReactDOM","Tooltip.react","VideoInstreamAdsConstants","VideoInstreamUtils","VideoPlaybackTimer.react","VideoScrubberPointOfInterestBar.react","VideoScrubberPreviewSpriteCalculation","asset","emptyFunction","getElementPosition","joinClasses","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){var j=b("React");function k(a,b){a=a-b.x;a=a/b.width;return Math.min(Math.max(0,a),1)}function l(a,b){if(a==null)return null;if(b==null)return null;for(var c=0;c<a.length;++c){var d=a[c];if(d.identifier===b)return d}return null}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$7=null;c.$8=null;c.$9=null;c.$11=null;c.onMouseEnterScrubberNub=function(){c.props.showVideoSliderWarningTooltip&&c.setState({hoverNub:!0})};c.onMouseLeaveScrubberNub=function(){c.props.showVideoSliderWarningTooltip&&c.setState({hoverNub:!1})};c.$6=new Map([[0,""]]);c.$10=0;c.state={awaitingUpdate:!1,hoverNub:!1,mouseOver:!1,nubEngaged:!1,previewRatio:0,scrubRatio:0,timecodeRatio:0,timecodeTimestamp:0,scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0},previewThumbnailInformation:{timeIntervalBetweenImages:0,maxImagesPerSprite:0,imagesPerRow:0,imagesPerColumn:0,previewScrubberWidth:0,previewScrubberHeight:0,stereoMode:null,scrubberVideoURI:null,useScrubberVideo:!1},lastSpriteDimension:{numRow:0,numColumn:0},shouldIgnoreClipStartTS:!1};return c}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.onDragNubBeginImpl=function(a,b){var c=this.$12();this.setState({nubEngaged:!0,scrubRatio:k(b,c)});this.props.onScrubBegin&&this.props.onScrubBegin();a.stopPropagation();a.preventDefault()};d.onDragNubBeginClick=function(a){if(a.button!==0)return;this.onDragNubBeginImpl(a,a.clientX)};d.onDragNubBeginTouch=function(a){if(this.props.alwaysShowThumbnail)return;var b=a.changedTouches;if(b==null)return;b=b[0];if(b==null)return;this.$11=b.identifier;this.onDragNubBeginImpl(a,b.clientX)};d.UNSAFE_componentWillReceiveProps=function(a){this.setState({awaitingUpdate:!1});if(this.props.alwaysShowThumbnail){this.$9=null;this.$8=null;var b=this.$12();a=b.x+b.width*this.getPlayedRatio(a.playbackDuration,a.playbackPosition);this.$13(a,b)}};d.componentDidUpdate=function(a,c){var d=this;if(!c.nubEngaged&&this.state.nubEngaged){this.$1=(a=b("EventListener")).listen(document,"mousemove",function(a){var b=a.clientX;d.onDragNubUpdate(b);a.preventDefault();a.stopPropagation()});this.$2=a.listen(document,"mouseup",function(a){var b=a.clientX;d.onDragNubRelease(b);a.preventDefault();a.stopPropagation()});this.$4=a.listen(document,"touchmove",function(a){var b=l(a.changedTouches,d.$11);if(b==null)return;d.onDragNubUpdate(b.clientX);a.preventDefault();a.stopPropagation()});this.$3=a.listen(document,"touchend",function(a){var b=l(a.changedTouches,d.$11);if(b==null)return;d.$11=null;d.onDragNubRelease(b.clientX);a.preventDefault();a.stopPropagation()})}else c.nubEngaged&&!this.state.nubEngaged&&(this.$1&&this.$1.remove(),this.$2&&this.$2.remove(),this.$4&&this.$4.remove(),this.$3&&this.$3.remove());!c.mouseOver&&this.state.mouseOver?this.$5=b("EventListener").listen(document,"mousemove",function(a){var b=d.$12();d.$13(a.clientX,b);a.preventDefault();a.stopPropagation()}):c.mouseOver&&!this.state.mouseOver&&(this.$5&&this.$5.remove())};d.$13=function(a,c){var d=this,e=this.props.playbackDuration;if(!e)return;var f=k(a,c)*e,g=(e=this.$8)!=null?e:this.$14();if(!this.props.hasScrubberPreview){e=k(a,c)-Math.ceil(g.width/2)/c.width;this.setState({timecodeTimestamp:f,timecodeRatio:e})}else this.props.previewThumbnailInformation&&(this.state.previewThumbnailInformation.previewScrubberWidth===0&&this.retrievePreviewThumbnailInfo(),b("ReactDOM").unstable_batchedUpdates(function(){d.state.previewThumbnailInformation.useScrubberVideo&&d.state.previewThumbnailInformation.scrubberVideoURI!==null?d.updatePreviewThumbnailVideo(f,g,a):d.props.scrubberPreviewSprites&&d.updatePreviewThumbnail(d.props.scrubberPreviewSprites,f,g,a)}))};d.updatePreviewThumbnail=function(a,b,c,d){this.setState({timecodeTimestamp:b});b=Math.floor(b);this.isSpriteMapURIFetched()||(this.$6=a);if(this.state.previewThumbnailInformation){a=this.state.previewThumbnailInformation;this.updatePreviewThumbnailImage(b,a)}this.updatePreviewThumbnailLocation(c,d)};d.updatePreviewThumbnailVideo=function(a,c,d){this.setState({timecodeTimestamp:a});var e=b("ReactDOM").findDOMNode(this.refs.previewThumbnailVideo);e.currentTime=a/30;this.updatePreviewThumbnailLocation(c,d)};d.updatePreviewThumbnailLocation=function(a,b){var c,d;c=(c=this.$9)!=null?c:this.$15();d=(d=this.$7)!=null?d:this.$12();b=k(b,d)-Math.ceil(c.width/2)/d.width;d=(c.width-a.width)/(2*c.width);this.setState({timecodeRatio:d,previewRatio:b})};d.updatePreviewThumbnailImage=function(a,c){var d=b("VideoScrubberPreviewSpriteCalculation").getImageCoordinatesInSpriteByTime(a,c);a=b("VideoScrubberPreviewSpriteCalculation").getSpriteIndex(a,c.maxImagesPerSprite,c.timeIntervalBetweenImages);if(a==this.getNumberOfSprites()&&this.state.lastSpriteDimension.numRow==0&&this.$6){c=this.$6.get(a);var e=new Image(),f=this.onLastImageLoad.bind(this);e.onload=function(){f(this.width,this.height)};e.src=c}this.setState({scrubberPreviewSpriteIndex:a,scrubberPreviewBackgroundPosition:d})};d.onLastImageLoad=function(a,b){this.setState({lastSpriteDimension:{numRow:b/this.state.previewThumbnailInformation.previewScrubberHeight,numColumn:a/this.state.previewThumbnailInformation.previewScrubberWidth}})};d.retrievePreviewThumbnailInfo=function(){this.setState({previewThumbnailInformation:this.props.previewThumbnailInformation})};d.isSpriteMapURIFetched=function(){if(this.$6)return this.$6.size>1;else return!1};d.$12=function(){var a=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.bar));this.$7=a;return a};d.$14=function(){var a=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.timecode));this.$8=a;return a};d.$15=function(){var a=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.previewThumbnailContainer));this.$9=a;return a};d.onDragNubUpdate=function(a){var b=this.$12();this.$13(a,b);this.setState({scrubRatio:k(a,b)})};d.onDragNubRelease=function(a){var c=this.$12();this.$13(a,c);var d=this.props.playbackDuration;a=k(a,c);c=this.state.awaitingUpdate;if(d){d=a*d;this.props.onScrubEnd&&(this.props.onScrubEnd(d),c=!0);var e=this.props.videoClipInfo;e&&e.start_time_in_ms!==null&&(d<=e.start_time_in_ms/b("DateConsts").MS_PER_SEC&&this.setState({shouldIgnoreClipStartTS:!0}))}else this.props.onScrubEnd&&this.props.onScrubEnd(0);this.setState({nubEngaged:!1,awaitingUpdate:c,scrubRatio:a})};d.renderNub=function(){var a=j.jsx("div",{ref:"nub",className:"_2yua _4sxb"+(this.props.showVideoSliderWarningTooltip?" _83lq":""),onMouseEnter:this.onMouseEnterScrubberNub,onMouseLeave:this.onMouseLeaveScrubberNub});return this.props.showVideoSliderWarningTooltip?j.jsx(b("Tooltip.react"),{className:"_83lm _4sxb",tooltip:"Rewinding, pausing or skipping ahead in the video will be seen by all viewers.",children:a}):a};d.getPlayedRatio=function(a,b){if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;if(!a||!b)return 0;b=b/a;return this.getRangeLimitedRatio(b)};d.getBufferedRatio=function(){var a=this.props.playbackDuration,b=this.props.bufferedPosition;if(!a||!b)return 0;b=b/a;return this.getRangeLimitedRatio(b)};d.getRangeLimitedRatio=function(a){return isNaN(a)||a<0||a>1?0:a};d.getNumberOfSprites=function(){return this.$6?this.$6.size:0};d.getAdBreakIndicators=function(){if(!this.props.playbackDuration||!this.props.adBreaks)return null;var a=[];for(var c=0;c<this.props.adBreaks.length;c++){var d=this.props.adBreaks[c],e=d.getTimeOffsetInMs();if(e===null||e===void 0)continue;e/=b("DateConsts").MS_PER_SEC;var f=this.props.playbackDuration;if(e<0||e>f)continue;e={left:e/f*100+"%"};f=[];this.props.adBreaksDisableReasons&&(f=this.props.adBreaksDisableReasons[c]);var g="[FB Only] The in-stream ad is disabled for "+f.join(", ")+".";a.push(j.jsx("div",{style:e,className:(f.length===0?"_1p4l":"")+(f.length>0?" _1p4m":"")+(d.getIsAdBreakAutoInserted()&&f.length===0?" _1p4n":"")+(d.getIsAdBreakAutoInserted()&&f.length>0?" _1p4o":""),children:f.length>0?j.jsx(b("Tooltip.react"),{tooltip:g,children:"X"}):null},"ad_break_indicator_"+c))}return j.jsx("div",{children:a})};d.getInsertedAdBreaks=function(){var a=this;if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var b=[];this.props.insertedAdBreaks.map(function(c,d){c=c.timeOffset;var e=a.props.playbackDuration;c={left:"calc("+c/e*100+"% - 2px)"};b.push(j.jsx("div",{style:c,className:(a.props.isAdBreakInsertionWithoutGapRule?"":"_1p4q")+(a.props.isAdBreakInsertionWithoutGapRule?" _1p4r":"")+(a.props.isAdBreakDisabled?" _1p4s":""),children:a.props.isAdBreakInsertionWithoutGapRule?null:d+1},"inserted_ad_break"+d))});return j.jsx("div",{children:b})};d.getEligibleAdBreaksTimeSegments=function(){var a=this;if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;if(this.props.isAdBreakInsertionWithoutGapRule&&this.props.insertedAdBreaks&&this.props.insertedAdBreaks.length>=b("VideoInstreamAdsConstants").AD_INSERTION_MAXIMUM_NUMBER_OF_AD_BREAKS)return null;var c=0;this.state.awaitingUpdate?c=this.$10:c=this.props.playbackPosition;var d=this.props.playbackDuration,e=b("VideoInstreamUtils").getEligibleTimeSegments(this.props.insertedAdBreaks,d,!this.props.isAdBreakInsertionWithoutGapRule);this.state.nubEngaged?this.$10=this.state.timecodeTimestamp:this.$10=c;var f=[];e.forEach(function(b,c){var e=(b.end-b.start)/d*100,g=a.$10>=b.start&&a.$10<=b.end;b={left:"calc("+b.start/d*100+"% - 2px)",width:e+"%"};f.push(j.jsx("span",{className:"_1p4t"+(g?" _1p4u":""),style:b},"time_segment"+c))});return j.jsx("div",{className:"_1p50",children:f})};d.getPollTimeSegments=function(){var a=this,c;if(!this.props.playbackDuration)return null;var d;if(!this.props.showPollCard)return null;this.state.awaitingUpdate?d=this.$10:d=this.props.playbackPosition;var e=this.props.playbackDuration;c=(c=this.props.pollTimestamps)!=null?c:[];this.state.nubEngaged?this.$10=this.state.timecodeTimestamp:this.$10=d;var f=[];c.forEach(function(c,d){var h={left:"calc("+c/e*100+"%)"},i=a.$10>=c;f.push(j.jsx(b("ClickableArea.react"),{onClick:function(d){d.stopPropagation(),d.persist(),a.props.onScrubEnd(c),b("Arbiter").inform("PollIconClicked")},children:j.jsx("span",{className:"_80r-",style:h,children:j.jsx(b("Image.react"),{className:"_80rd",src:i?g("936893"):g("936896")})},"poll_segment"+d)},d));f.push(j.jsx("span",{className:"_80re",style:h},"time_segment"+d))});return j.jsx("div",{className:"_80rf",children:f})};d.onMouseEnter=function(a){if(this.props.alwaysShowThumbnail)return;this.$12();this.setState({mouseOver:!0})};d.onMouseLeave=function(a){var c=this;if(this.props.alwaysShowThumbnail)return;b("ReactDOM").findDOMNode(this.refs.bar).blur();b("ReactDOM").unstable_batchedUpdates(function(){c.setState({mouseOver:!1}),c.state.nubEngaged||c.setState({scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0}})});this.$9=null;this.$8=null};d.onMouseEnterOnThumbnailOrTimecode=function(a){if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;this.props.hasScrubberPreview?a=this.refs.previewThumbnailContainer:a=this.refs.timecode;a=b("ReactDOM").findDOMNode(a);a.style.visibility="hidden"};d.onMouseLeaveOnThumbnailOrTimecode=function(a){if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;this.props.hasScrubberPreview?a=this.refs.previewThumbnailContainer:a=this.refs.timecode;a=b("ReactDOM").findDOMNode(a);a.style.visibility="visible"};d.onKeyDown=function(a){var c=this.props.playbackDuration,d=this.props.playbackPosition;if(!c||!d)return;d=d;if(a.keyCode===b("Keys").RIGHT){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindSeekForward){this.props.onLiveRewindSeekForward();return}d+=5;d>=c&&(d=c-.01)}else if(a.keyCode===b("Keys").LEFT){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindSeekBack){this.props.onLiveRewindSeekBack();return}d-=5;d<0&&(d=0)}else if(a.keyCode===b("Keys").HOME){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindToBeginning){this.props.onLiveRewindToBeginning();return}d=0}else if(a.keyCode===b("Keys").END){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindToLive){this.props.onLiveRewindToLive();return}d=c-.01}else return;this.props.onScrubEnd&&this.props.onScrubEnd(d)};d.canShowHeatmap=function(){return this.props.interestLevels!=null&&this.props.isPlaying!=null&&this.props.controlsHidden!=null&&this.props.drawer!=null};d.render=function(){var a=b("joinClasses")(this.props.className,"_2yu5"+(this.state.nubEngaged?" _2yu6":"")),c=(this.props.hasScrubberPreview?"_3iit":"")+(this.props.hasScrubberPreview?"":" _3iiu"),d={width:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100+"%"},e={width:this.getBufferedRatio()*100+"%"},f=this.props.videoClipInfo,g="0%";if(f){var h=this.getRangeLimitedRatio(f.start_time_in_ms/b("DateConsts").MS_PER_SEC/this.props.playbackDuration);g=h*100+"%";this.state.shouldIgnoreClipStartTS||(d={width:this.getRangeLimitedRatio(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)-h)*100+"%",marginLeft:g},e={width:this.getRangeLimitedRatio(this.getBufferedRatio()-h)*100+"%",marginLeft:g})}h={left:this.state.timecodeRatio*100+"%",display:this.state.hoverNub?"none":"block"};var k;({});var l={},m=null,n=null,o=null;if(this.state.mouseOver||this.state.nubEngaged||this.props.alwaysShowThumbnail){o=j.jsx(b("VideoPlaybackTimer.react"),{className:c,isInScrubberPreview:!0,onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),playbackPosTimestamp:0,ref:"timecode",remainingTimestamp:this.state.timecodeTimestamp,style:h});if(this.props.hasScrubberPreview&&this.state.previewThumbnailInformation){c=this.state.previewThumbnailInformation.previewScrubberWidth;h=this.state.previewThumbnailInformation.previewScrubberHeight;var p=100,q=100;this.getNumberOfSprites()!==this.state.scrubberPreviewSpriteIndex?(p*=this.state.previewThumbnailInformation.imagesPerRow,q*=this.state.previewThumbnailInformation.imagesPerColumn):this.state.lastSpriteDimension.numRow&&(p*=this.state.lastSpriteDimension.numRow,q*=this.state.lastSpriteDimension.numColumn);var r=this.state.previewThumbnailInformation.stereoMode;r==="left-right"?(c/=2,p*=2):r==="top-bottom"&&(h/=2,q*=2);r=1;this.props.isFullscreen?r=1.5:this.props.isInTahoe&&(r=1.2);if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null)k={width:c*r+"px",height:h*r+"px"},n=j.jsx("video",{muted:"true",preload:"auto",ref:"previewThumbnailVideo",src:this.state.previewThumbnailInformation.scrubberVideoURI,style:k});else if(this.$6){var s="";if(this.state.scrubberPreviewSpriteIndex){var t=this.$6.get(this.state.scrubberPreviewSpriteIndex);t!=null&&t!==""&&(s="url("+t+")")}var u;p>100?u=p+"% "+q+"%":s="";k={width:c*r+"px",height:h*r+"px",backgroundImage:s,backgroundPosition:"-"+this.state.scrubberPreviewBackgroundPosition.x*r+"px -"+this.state.scrubberPreviewBackgroundPosition.y*r+"px",backgroundSize:u};n=j.jsx("div",{className:"_3iiw",ref:"previewThumbnail",style:k})}l={left:this.state.previewRatio*100+"%",display:this.props.alwaysShowThumbnail?"block":void 0};m=j.jsxs("div",{onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),className:"_3iiv",ref:"previewThumbnailContainer",style:l,children:[n,o]})}}t=null;this.props.pointsOfInterest.length>0&&(t=j.jsx(b("VideoScrubberPointOfInterestBar.react"),{tabIndex:this.props.tabIndex,playbackDuration:this.props.playbackDuration,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps}));p=null;q=this.getAdBreakIndicators();c=null;if(this.canShowHeatmap()){h=this.props.hasScrubberPreview?m:o;s=null;h!=null&&(s=this.refs[h.ref]);c=j.jsxs("div",{className:"_27ew",children:[j.jsx("div",{className:"_5h19",style:d,children:this.renderNub()}),j.jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("LiveHeatmap.react").__setRef("VideoScrubber.react"),bootloadPlaceholder:j.jsx("div",{}),controlsHidden:this.props.controlsHidden,drawer:this.props.drawer,interestLevels:this.props.interestLevels,isPlaying:this.props.isPlaying,playedRatio:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition),bufferedRatio:this.getBufferedRatio(),nubEngaged:this.state.nubEngaged,scrubberPreviewElement:s,ref:"bar",tabIndex:this.props.tabIndex,"aria-label":i._("Change Position")}),h,q]})}r=this.props.playbackDuration>500?10:1;k=Math.round(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100*r)/r;l=k+"%";n=this.props.isFullscreen||this.props.isInTahoe;s=j.jsx("div",{className:a,onKeyDown:this.onKeyDown.bind(this),onMouseDown:this.onDragNubBeginClick.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onTouchStart:this.onDragNubBeginTouch.bind(this),children:c?c:j.jsxs("div",{tabIndex:this.props.tabIndex,role:"slider","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":this.props.playbackDuration,"aria-valuenow":this.props.playbackPosition,"aria-valuetext":l,"aria-label":i._("Change position"),className:"_2yu7",ref:"bar",children:[j.jsx("div",{className:"_2yu8",style:e}),j.jsx("div",{style:d,className:(this.props.isLiveVideo?"":"_2yu9")+(this.props.isLiveVideo&&!this.props.isLiveRewound?" _1p51":"")+(this.props.isLiveRewound?" _1p52":""),children:this.renderNub()}),f?j.jsx("div",{className:"_355j",style:{width:g},children:j.jsx(b("ProfileTile.react"),{id:f.sharer_id,size:n?32:24,imageProps:{className:"_355k"},tileProps:{className:"_355n",style:{marginTop:n?-16:-10}}})}):null,this.props.hasScrubberPreview?m:o,q,this.getInsertedAdBreaks(),this.getEligibleAdBreaksTimeSegments(),this.getPollTimeSegments()]})});return j.jsxs("div",{children:[p,s,t]})};return c}(j.Component);a.defaultProps={alwaysShowThumbnail:!1,annotatedMomentsOfInterest:{},hasScrubberPreview:!1,isAdBreakInsertionWithoutGapRule:!1,isFullscreen:!1,isInTahoe:!1,isLiveRewound:!1,isLiveVideo:!1,isPlaying:!1,pointsOfInterest:[],onAnnotatedMomentOfInterestSelect:c=b("emptyFunction"),onPointOfInterestSelect:c,onScrubBegin:c,onScrubEnd:c,showPointOfInterestTimestamps:!1,showPollCard:!1,showVideoSliderWarningTooltip:!1};a.propTypes={alwaysShowThumbnail:(d=b("prop-types")).bool,annotatedMomentsOfInterest:d.object,bufferedPosition:d.number.isRequired,hasScrubberPreview:d.bool,isFullscreen:d.bool,onAnnotatedMomentOfInterestSelect:d.func,onScrubBegin:d.func.isRequired,onPointOfInterestSelect:d.func,onScrubEnd:d.func.isRequired,playbackDuration:d.number.isRequired,playbackPosition:d.number.isRequired,pointsOfInterest:d.array,previewThumbnailInformation:d.object,scrubberPreviewSprites:d.object,showPointOfInterestTimestamps:d.bool,tabIndex:d.string.isRequired};e.exports=a}),null);
__d("SpatialAudioFeedNUX.react",["ix","cx","fbt","AsyncRequest","Image.react","React","XBasicFBNuxDismissController","XUIAmbientNUX.react","XUIText.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=i._("Experience more with 360 audio"),l=i._("Hear sound from all directions when you wear headphones"),m=4576;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=function(){d.setState({showNux:!1});var a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",m).getURI();new(b("AsyncRequest"))().setURI(a).send()};d.state={showNux:!0};return d}var d=c.prototype;d.render=function(){return j.jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,shown:this.state.showNux,position:"below",alignment:"right",onCloseButtonClick:this.$1,width:"auto",children:j.jsxs("div",{className:"_4r0v",children:[j.jsx("div",{className:"_4r0w",children:j.jsx("div",{className:"_4r0x",children:j.jsx(b("Image.react"),{src:g("114375")})})}),j.jsxs("div",{className:"_4r0y",children:[j.jsx(b("XUIText.react"),{size:"header4",className:"_4r0z",children:k}),j.jsx(b("XUIText.react"),{size:"meta1",className:"_4r0-",children:l})]})]})})};return c}(j.Component);e.exports=a}),null);
__d("VideoVolumeSlider.react",["cx","EventListener","React","ReactDOM","getElementPosition","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g){var h=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.state={awaitingUpdate:!1,engaged:!1,volume:b.volume};return c}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.UNSAFE_componentWillReceiveProps=function(a){this.setState({awaitingUpdate:!1})};d.componentDidUpdate=function(a,c){if(!this.state.engaged&&c.engaged)this.$2&&this.$2.remove(),this.$1&&this.$1.remove(),this.$3&&this.$3.remove(),this.$4&&this.$4.remove();else if(this.state.engaged&&!c.engaged){this.$1=(a=b("EventListener")).listen(document,"mousemove",this.onMouseMove.bind(this));this.$2=a.listen(document,"mouseup",this.onMouseUpImpl.bind(this));this.$3=a.listen(document,"touchmove",this.onTouchMove.bind(this));this.$4=a.listen(document,"touchend",this.onMouseUpImpl.bind(this))}};d.onMouseDownImpl=function(a,b,c){this.props.onVolumeChangeBegin&&this.props.onVolumeChangeBegin(this.state.volume),this.props.isHorizontal?this.setState({engaged:!0,volume:this.getClampedClickPositionVolume(b)}):this.setState({engaged:!0,volume:this.getClampedClickPositionVolume(c)}),a.preventDefault(),a.stopPropagation()};d.onMouseDown=function(a){if(a.button!==0)return;this.onMouseDownImpl(a,a.clientX,a.clientY)};d.onTouchDown=function(a){this.onMouseDownImpl(a,a.touches[0].clientX,a.touches[0].clientY)};d.getClampedClickPositionVolume=function(a){var c=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.slider)),d=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.nub)).height;if(this.props.isHorizontal){var e=a+d/2-c.x;return Math.max(0,Math.min(1,e/c.width))}else{e=c.y-a+c.height+d/2;return Math.max(0,Math.min(1,e/c.height))}};d.onMouseUpImpl=function(a){this.props.onVolumeChangeEnd&&this.props.onVolumeChangeEnd(this.state.volume),this.setState({engaged:!1,awaitingUpdate:!0}),a.preventDefault(),a.stopPropagation()};d.onMouseMoveImpl=function(a,b,c){this.props.isHorizontal?this.setState({volume:this.getClampedClickPositionVolume(b)}):this.setState({volume:this.getClampedClickPositionVolume(c)}),this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume),a.preventDefault(),a.stopPropagation()};d.onMouseMove=function(a){this.onMouseMoveImpl(a,a.clientX,a.clientY)};d.onTouchMove=function(a){this.onMouseMoveImpl(a,a.touches[0].clientX,a.touches[0].clientY)};d.getVolume=function(){return this.state.engaged||this.state.awaitingUpdate?this.state.volume:this.props.volume};d.render=function(){var a=this.props.isHorizontal||!1,b=a?{width:Math.round(this.getVolume()*100)+"%"}:{height:Math.round(this.getVolume()*100)+"%"};a="_3pao"+(a?" _4sx9":"")+(this.state.engaged?" _2yu6":"");return h.jsxs("div",{className:a,onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onTouchDown.bind(this),children:[h.jsx("div",{className:"_4sxa",children:h.jsx("div",{className:"_3paq",ref:"slider",children:h.jsx("div",{className:"_3par",style:b,children:h.jsx("div",{className:"_3pas _4sxb",ref:"nub"})})})}),h.jsx("div",{className:"_3pat"})]})};return c}(h.Component);a.propTypes={volume:(c=b("prop-types")).number,onVolumeChangeBegin:c.func,onVolumeChangeEnd:c.func,onVolumeChange:c.func};a.defaultProps={volume:0,onVolumeChange:function(a){},onVolumeChangeBegin:function(a){},onVolumeChangeEnd:function(a){}};e.exports=a}),null);
__d("VideoVolumeControl.react",["ix","cx","fbt","invariant","AbstractButton.react","Image.react","Keys","React","ReactDOM","SpatialAudioFeedNUX.react","TooltipData","VideoPlayerVolumeSettings","VideoVolumeSlider.react","asset","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g,h,i,j){var k=b("React");a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={nubEngaged:!1,focused:!1,lastVolumeBeforeMute:1};return b}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.onButtonClick=function(){this.checkLastVolumeBeforeMuteInvariant();if(this.props.volume===0)return this.onSliderVolumeChange(this.state.lastVolumeBeforeMute);this.props.onToggleMuted&&this.props.onToggleMuted()};d.onButtonFocus=function(){this.setState({focused:!0})};d.onButtonBlur=function(){this.setState({focused:!1})};d.onKeyDown=function(a){var c=this.props.volume;if(a.keyCode===b("Keys").UP)a.preventDefault(),a.stopPropagation(),c+=.05,c>1&&(c=1);else if(a.keyCode===b("Keys").DOWN)a.preventDefault(),a.stopPropagation(),c-=.05,c<0&&(c=0);else return;this.onSliderVolumeChangeEnd(c)};d.onMouseOut=function(a){b("ReactDOM").findDOMNode(this.refs.button).blur()};d.getVolume=function(){return this.props.isMuted?0:this.props.volume};d.onSliderVolumeChangeBegin=function(){var a=this.props.volume;a>0&&(this.setState({nubEngaged:!0,lastVolumeBeforeMute:a}),b("VideoPlayerVolumeSettings").saveLastVolumeBeforeMute(a))};d.onSliderVolumeChangeEnd=function(a){a>0?(this.setState({lastVolumeBeforeMute:a}),b("VideoPlayerVolumeSettings").saveLastVolumeBeforeMute(a),this.onSliderVolumeChange(a)):(this.props.onVolumeChange(this.state.lastVolumeBeforeMute),this.props.isMuted||this.props.onToggleMuted&&this.props.onToggleMuted()),this.setState({nubEngaged:!1})};d.onSliderVolumeChange=function(a){(a>0&&this.props.isMuted||a===0&&!this.props.isMuted)&&(this.props.onToggleMuted&&this.props.onToggleMuted()),this.props.onVolumeChange&&this.props.onVolumeChange(a)};d.checkLastVolumeBeforeMuteInvariant=function(){this.state.lastVolumeBeforeMute>0&&this.state.lastVolumeBeforeMute<=1||j(0,2385)};d.render=function(){var a=this,c=Math.round(this.getVolume()*100),d=null,e="";if(this.props.isAudioBlocked)e=i._("Audio unavailable"),d=k.jsx("div",{children:k.jsx(b("Image.react"),{className:"_rwt",src:this.props.useDarkTheme?g("797748"):g("660433")})});else if(c==0)d=k.jsx(b("Image.react"),{className:"_rwt",src:this.props.useDarkTheme?g("462991"):g("462993")});else{var f=null;c<=33?f=this.props.useDarkTheme?g("462983"):g("462984"):c<=66?f=this.props.useDarkTheme?g("462987"):g("462988"):f=this.props.useDarkTheme?g("462971"):g("443962");d=k.jsx("div",{className:"_1age",children:k.jsx("div",{className:"_1agf",children:k.jsx(b("Image.react"),{className:"_rwt",src:f})})})}c="_2swo"+(this.state.nubEngaged?" _2yu6":"")+(this.state.focused?" _2iw8":"");f="_zbd _1agg";var h=this.getVolume()?i._("Mute"):i._("Unmute"),j=this.props.isAudioBlocked?null:k.jsx(b("VideoVolumeSlider.react"),{onVolumeChangeBegin:this.onSliderVolumeChangeBegin.bind(this),onVolumeChangeEnd:this.onSliderVolumeChangeEnd.bind(this),onVolumeChange:this.onSliderVolumeChange.bind(this),isHorizontal:this.props.isHorizontal||!1,volume:this.getVolume()});e=k.jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(e,"above"),{className:f,"data-testid":void 0,image:d,label:h,labelIsHidden:!0,onBlur:this.onButtonBlur.bind(this),onClick:this.onButtonClick.bind(this),onFocus:this.onButtonFocus.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"}));f=this.props.showSpatialAudioNUX?k.jsx(b("SpatialAudioFeedNUX.react"),{contextRef:function(){return a.refs.button}}):null;return this.props.isHorizontal?k.jsxs("div",{className:c,children:[e,j,f]}):k.jsxs("div",{className:c,children:[j,e,f]})};return c}(k.Component);a.propTypes={isAudioBlocked:(c=b("prop-types")).bool,isMuted:c.bool,onVolumeChange:c.func,onToggleMuted:c.func,tabIndex:c.string,volume:c.number,useDarkTheme:c.bool};a.defaultProps={isAudioBlocked:!1,useDarkTheme:!1};e.exports=a}),null);
__d("VideoPollCardActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({MARK_POLL_CARD_ACTIVE:"",MARK_POLL_CARD_INACTIVE:""});e.exports=a}),null);
__d("VideoPollCardDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);