if (self.CavalryLogger) { CavalryLogger.start_js(["BITCe"]); }

__d("PageLinkInstagramAccountOAuthLogin.react",["BasePageLinkInstagramAccountOAuthLogin.react","React","ReloadPage"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("BasePageLinkInstagramAccountOAuthLogin.react"),babelHelpers["extends"]({responseHandler:this.$1},this.props))};d.$1=function(a){b("ReloadPage").now()};return c}(g.Component);e.exports=a}),null);
__d("PagesEnableMessengerMutation",["RelayFBEnvironment","RelayModern","PagesEnableMessengerMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesEnableMessengerMutation.graphql");function a(a,c,d,e){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{page_id:a,actor_id:a,is_enabled:c}},onCompleted:d,onError:e})}e.exports={commit:a}}),null);
__d("MediaManagerInboxQEUtils",["qex"],(function(a,b,c,d,e,f){"use strict";var g=function(){var a;return(a=b("qex")._("1166058"))!=null?a:"CONTROL"};a=function(){return g()!=="CONTROL"};c=function(){return g()==="COMMENT_RANKING"||g()==="BOTH_RANKING"};d=function(){return g()==="MESSENGER_RANKING"||g()==="BOTH_RANKING"};e.exports={shouldShowCommentRanking:c,shouldShowMessengerRanking:d,shouldShowNewDesign:a}}),null);
__d("MediaManagerInboxUtils",["MediaManagerInboxQEUtils","PageCommItemFolder"],(function(a,b,c,d,e,f){"use strict";a=function(a){return a!==null&&a!==void 0?a:0};c=function(){return b("MediaManagerInboxQEUtils").shouldShowNewDesign()?"inbox_plus":"inbox"};var g=function(a){switch(a){case"FACEBOOK":return b("MediaManagerInboxQEUtils").shouldShowCommentRanking()?[b("PageCommItemFolder").PRIORITY]:[];case"MESSENGER":return b("MediaManagerInboxQEUtils").shouldShowMessengerRanking()?[b("PageCommItemFolder").PRIORITY]:[];default:return[]}},h=function(a,c){if(!g(a).includes(b("PageCommItemFolder").PRIORITY))return!1;var d=!0;c!=null&&c[a]!=null&&(d=c[a]>0);return d};d=function(a,c){return a==="MEDIA_MANAGER_PRIORITY"?b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:h(a,c)?b("PageCommItemFolder").PRIORITY:b("PageCommItemFolder").TODO};f={FormatInitialCount:a,getDefaultFilter:d,InboxTabType:c,MediaManagerInboxSpecificFolders:g,ShouldPriorityAsDefault:h};e.exports=f}),null);
__d("PagesManagerInboxCustomLabelSearchableEntry",["SearchableEntry"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,{uniqueID:b.id,title:b.name})||this;c.$PagesManagerInboxCustomLabelSearchableEntry1=b;return c}var c=b.prototype;c.getColor=function(){return"#"+this.$PagesManagerInboxCustomLabelSearchableEntry1.color.substring(2)};c.getFBID=function(){return this.$PagesManagerInboxCustomLabelSearchableEntry1.id};c.getName=function(){return this.$PagesManagerInboxCustomLabelSearchableEntry1.name};c.getData=function(){return this.$PagesManagerInboxCustomLabelSearchableEntry1};return b}(b("SearchableEntry"));e.exports=a}),null);
__d("PagesInboxImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("pages_inbox_impression");e.exports=a}),null);
__d("PagesManagerMessagingLogger",["invariant","PageCommItemFolder","PagesEventObserver","PagesInboxImpressionFalcoEvent"],(function(a,b,c,d,e,f,g){var h="MESSENGER",i="inbox",j=":";a={logMessagesSectionViewEvent:function(a,c,d){c=c||i;var e;c.indexOf(":")&&(e=c.split(j),c=e[e.length-1]);b("PagesEventObserver").notify("view_messages",a,{section:d||h,subsection:c})},logPageViewFolderEventForInbox:function(a,c,d){var e="";switch(c){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").FOLLOW_UP:case b("PageCommItemFolder").UNREAD:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:case b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:e="messages_view_inbox";break;case b("PageCommItemFolder").DONE:e="messages_view_archived";break;case b("PageCommItemFolder").SPAM:e="messages_view_spam";break;default:g(0,6258)}b("PagesEventObserver").notify(e,a,{source:d});e==="messages_view_inbox"&&b("PagesInboxImpressionFalcoEvent").log(function(){return{event_location:"page__inbox",page_id:a,referrer:d,event_data:{num_threads_viewed:null}}})}};e.exports=a}),null);
__d("PagesManagerMessagingNavigationUnitKey",["MercuryFilters.bs","MessagingTag"],(function(a,b,c,d,e,f){"use strict";c={FILTERS:{ALL:b("MercuryFilters.bs").all,UNREAD:b("MercuryFilters.bs").unread,FLAGGED:"flag",PRIORITY:"important"},FOLDERS:{INBOX:(a=b("MessagingTag")).INBOX,ARCHIVED:a.ACTION_ARCHIVED,PAGE_BACKGROUND:a.PAGE_BACKGROUND,SPAM:a.OTHER}};e.exports=c}),null);
__d("BusinessInboxBizKitUtil",["ix","fbt","GeoBaseText.react","GeoHeading.react","GeoText.react","PageCommItemActionType","PagesManagerInboxStore","PagesManagerStore","React","asset","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=60,k=function(){return b("PagesManagerInboxStore").isInBizKit()&&b("gkx")("1326852")};a={isInBizKit:function(){return b("PagesManagerInboxStore").isInBizKit()},isBizKitBeta:function(){return k()},bizKitInitialItem:function(){return b("PagesManagerStore").getInitialViewingItem()},bizKitHeaderFbts:function(a){switch(a){case"ALL":return h._("All Messages");case"MESSENGER":return h._("Messenger");case"INSTAGRAM_DIRECT":return h._("Instagram Direct");case"FACEBOOK":return h._("Facebook");case"INSTAGRAM":return h._("Instagram");case"AUTOMATED_RESPONSES":return h._("Automated Responses");case"COMMERCE_EMAIL":return h._("Emails");case"EMAIL_CAMPAIGN":return h._("Marketing Emails");case"CONTACTS":return h._("Contacts");default:return""}},maybeApplyGeoHeaderStyle:function(a){return k()?i.jsx(b("GeoHeading.react"),{level:3,children:a}):a},maybeApplyGeoTextBoldStyle:function(a){return k()?i.jsx(b("GeoHeading.react"),{level:4,children:a}):a},maybeApplyGeoTextStyle:function(a){return k()&&a!=null?i.jsx(b("GeoText.react"),{children:a}):a},maybeApplyGeoGreyTextStyle:function(a,c){return k()&&a!=null&&c===!0?i.jsx(b("GeoBaseText.react"),{color:"value",display:"block",isDisabled:!0,size:"accent",children:a}):a},bizKitHeaderActionIcons:function(a){switch(a){case b("PageCommItemActionType").INBOX:return g("1329299");case b("PageCommItemActionType").FOLLOW_UP:return g("1330278");case b("PageCommItemActionType").UN_FOLLOW_UP:return g("400768");case b("PageCommItemActionType").DONE:return g("1266183");case b("PageCommItemActionType").MARK_READ:return g("1330254");case b("PageCommItemActionType").MARK_UNREAD:return g("1329299");case b("PageCommItemActionType").SPAM:return g("1330266");case b("PageCommItemActionType").DELETE:return g("1288367")}},bizKitDetailHeight:function(a){return k()?a+j:a}};e.exports=a}),null);
__d("BulkSelectionThreadAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SELECT:"select",UNSELECT:"unselect"})}),null);
__d("BusinessInboxBulkAdminAssignmentActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_admin_assignment_action_click");e.exports=a}),null);
__d("BusinessInboxBulkAdminAssignmentDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_admin_assignment_dialog_submit");e.exports=a}),null);
__d("BusinessInboxBulkDeleteActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_delete_action_click");e.exports=a}),null);
__d("BusinessInboxBulkDeleteDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_delete_dialog_submit");e.exports=a}),null);
__d("BusinessInboxBulkLabelActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_label_action_click");e.exports=a}),null);
__d("BusinessInboxBulkLabelDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_label_dialog_submit");e.exports=a}),null);
__d("BusinessInboxBulkMarkAsUnreadActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_mark_as_unread_action_click");e.exports=a}),null);
__d("BusinessInboxBulkMoveToFolderActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_move_to_folder_action_click");e.exports=a}),null);
__d("BusinessInboxBulkReplyActionClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_reply_action_click");e.exports=a}),null);
__d("BusinessInboxBulkReplyDialogSubmitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_bulk_reply_dialog_submit");e.exports=a}),null);
__d("BusinessInboxNuxImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_nux_impression");e.exports=a}),null);
__d("BusinessInboxThreadCheckboxClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_checkbox_click");e.exports=a}),null);
__d("BusinessInboxThreadCheckboxImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_checkbox_impression");e.exports=a}),null);
__d("BusinessInboxThreadCheckboxUpdateValueFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_checkbox_update_value");e.exports=a}),null);
__d("BusinessInboxMultiAdminAssignmentUpdateFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_multi_admin_assignment_update");e.exports=a}),null);
__d("BusinessInboxPostFolderUpdateFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_post_folder_update");e.exports=a}),null);
__d("BusinessInboxSwitchFolderClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_switch_folder_click");e.exports=a}),null);
__d("BusinessInboxThreadFolderUpdateFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_folder_update");e.exports=a}),null);
__d("PagesManagerInboxLogger",["BusinessInboxMultiAdminAssignmentUpdateFalcoEvent","BusinessInboxPostFolderUpdateFalcoEvent","BusinessInboxSwitchFolderClickFalcoEvent","BusinessInboxThreadFolderUpdateFalcoEvent","CurrentUser","PagesManagerInboxTypedLogger","PagesMessagingInboxActionsTypedLogger","PagesMessagingPerfTypedLogger","TimeSliceInteraction","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({ERROR_GRAPH_QL:null,ERROR_JS:null,INITIAL_DATA_LOADED:null,INITIAL_LIST_RENDERED:null,INITIAL_LOAD:null,ITEM_DETAILS_LOADED:null,ITEM_LOADED:null,START_LOADING_ITEM_DETAILS:null,START_LOADING_ITEM:null,BROADCAST_MESSAGE_FORMAT:null,ITEM_STATUS_CHANGED:null,ITEM_STATUS_CHANGED_THREAD:null,ITEM_STATUS_CHANGED_HEADER:null,FOLDER_CHANGE_CLICKED:null,PLATFORM_CHANGE_TAB_CLICKED:null,SEND_COMMENT:null,SEND_MESSAGE:null,SEARCH_CLICKED:null,CONTENT_SEARCH_CLICKED:null,CREATE_BROADCAST_BUTTON_RENDERED:null,CREATE_BROADCAST_BUTTON_CLICKED:null,SEND_BROADCAST_BUTTON_CLICKED:null,SEND_BROADCAST_CONFIRM_BUTTON_CLICKED:null,BROADCAST_HISTORY_ROW_CLICK:null,AUTOMATED_RESPONSES_ENTRYPOINT_RENDERED:null,AUTOMATION_ENABLED:null,AUTOMATION_DISABLED:null,AUTOMATED_RESPONSES_SAVE_CLICK:null}),h,i,j=!0,k,l={init:function(a){h=a,i=Date.now(),l.create(g.INITIAL_LOAD).setScreenHeight(screen.height).setScreenWidth(screen.width).log()},logInitialListRendered:function(a,c){if(!j)return;j=!1;l.create(g.INITIAL_LIST_RENDERED).setTimeSinceLoad(Date.now()-i).setPlatform(a).log();b("TimeSliceInteraction").informOnPage(g.INITIAL_LIST_RENDERED)},create:function(a){return new(b("PagesManagerInboxTypedLogger"))().setEventName(a).setPageID(h).setHref(window.location.href)},logErrorJS:function(a,b){l.create(g.ERROR_JS).setMessage(a.message).setStackTrace(a.stack).setModuleName(b).log()},logErrorGraphQL:function(a){l.create(g.ERROR_GRAPH_QL).setMessage(a.message).setStackTrace(a.stack).log()},startLoadingItem:function(a){if(k&&k.commItemID===a)return;k&&k.interaction.disable();k={commItemID:a,interaction:b("TimeSliceInteraction").create("pages_inbox_www.loading_item"),isCached:!0,startTimestamp:Date.now()};l.create(g.START_LOADING_ITEM).setPageCommItemID(a).log()},itemInitialDataLoaded:function(a){if(!k||k.commItemID!==a)return;k.interaction.inform("initial data loaded");l.create(g.INITIAL_DATA_LOADED).setPageCommItemID(a).setLoadTime(Date.now()-k.startTimestamp).log()},startLoadingItemDetails:function(a,b){if(!k||k.commItemID!==a)return;k.platform=b;k.isCached=!1;k.interaction.inform("loading details");l.create(g.START_LOADING_ITEM_DETAILS).setPageCommItemID(a).setPlatform(b).setLoadTime(Date.now()-k.startTimestamp).log()},itemDetailsLoaded:function(a,b){if(!k||k.commItemID!==a)return;k.interaction.inform("item details loaded");l.create(g.ITEM_DETAILS_LOADED).setPageCommItemID(a).setPlatform(b).setLoadTime(Date.now()-k.startTimestamp).log()},startLoadingThread:function(a,c){if(k&&k.commItemID===a)return;k&&k.interaction.disable();k={commItemID:a,interaction:b("TimeSliceInteraction").create("pages_inbox_www.loading_item"),isCached:!0,startTimestamp:Date.now()};l.create(g.START_LOADING_ITEM).setThreadToken(a).setPlatform(c).log();new(b("PagesMessagingPerfTypedLogger"))().setPageID(h).setThreadID(a).setPlatform(c).setEventName("messages_messagelist_load_start").log()},threadDetailsLoaded:function(a,c){if(!k||k.commItemID!==a)return;k.interaction.inform("item details loaded");var d=Date.now()-k.startTimestamp;l.create(g.ITEM_DETAILS_LOADED).setThreadToken(a).setPlatform(c).setLoadTime(d).log();new(b("PagesMessagingPerfTypedLogger"))().setPageID(h).setThreadID(a).setPlatform(c).setEventName("messages_messagelist_load_end").setPerfTime(d).log();k=null},itemRendered:function(a){if(!k||k.commItemID!==a)return;k.interaction.inform("item rendered");k.interaction.finish();l.create(g.ITEM_LOADED).setIsCached(k.isCached).setPageCommItemID(a).setLoadTime(Date.now()-k.startTimestamp).setPlatform(k.platform).setTraceID(k.interaction.getTraceID()).log();k=null},logBroadcastMessageFormat:function(a){l.create(g.BROADCAST_MESSAGE_FORMAT).setBroadcastMessageFormat(a).log()},getFolderEventLoggingData:function(a,c,d){var e="unknown",f="facebook";switch(a){case"FACEBOOK":case"GROUP":e="facebook";break;case"MESSENGER":e="messenger";break;case"INSTAGRAM":e="instagram";f="instagram";break;case"INSTAGRAM_DIRECT":e="instagram_direct";f="instagram";break;case"WEC":case"ALL":e="unified_threads";f="unknown";break}return{event_location:"unknown",page_id:h,ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:f,client_timestamp_ms:Date.now(),inbox_platform:e,thread_id:null,consumer_id:null,referrer:window.location.href,event_data:{source_folder:c,target_folder:d}}},itemStatusChanged:function(a,b,c,d){d=d||null;l.create(g.ITEM_STATUS_CHANGED).setPageCommItemID(a).setPageCommItemStatus(c).setPlatform(b).setPageCommSearchType(d).log()},itemStatusChangedInThread:function(a,c,d,e,f){var h=this;f=f||null;l.create(g.ITEM_STATUS_CHANGED_THREAD).setFolder(e).setPageCommItemID(a).setPageCommItemStatus(d).setPlatform(c).setPageCommSearchType(f).log();b("BusinessInboxThreadFolderUpdateFalcoEvent").log(function(){return h.getFolderEventLoggingData(c,d,e)})},itemStatusChangedInHeader:function(a,c,d,e){var f=this;l.create(g.ITEM_STATUS_CHANGED_HEADER).setFolder(e).setPageCommItemID(a).setPageCommItemStatus(d).setPlatform(c).log();b("BusinessInboxPostFolderUpdateFalcoEvent").log(function(){return f.getFolderEventLoggingData(c,d,e)})},logFolderChangeClick:function(a,b){l.create(g.FOLDER_CHANGE_CLICKED).setFolder(b).setPlatform(a).log()},logFolderSwitchClick:function(a,c,d){var e=this;b("BusinessInboxSwitchFolderClickFalcoEvent").log(function(){return e.getFolderEventLoggingData(a,c,d)})},logPlatformChangedClicked:function(a,b){l.create(g.PLATFORM_CHANGE_TAB_CLICKED).setPlatform(a).setViewMode(b).log()},logSendComment:function(a,c,d,e){d===void 0&&(d=null),e===void 0&&(e=null),new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("send_comment").setPlatform(a).addToExtraData("page_id",c).addToExtraData("comment_fbid",d).addToExtraData("post_fbid",e).log(),l.create(g.SEND_COMMENT).setPlatform(a).log()},logMarkAsUnread:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("mark_as_unread").addToExtraData("page_id",c).log()},logAdminAssignmentAction:function(a,c,d){var e={logged_in_user_id:b("CurrentUser").getID(),page_id:a,inbox_platform:"unified_threads",logged_in_user_type:"facebook",event_location:"unknown",event_data:{action:c,tag:d}};b("BusinessInboxMultiAdminAssignmentUpdateFalcoEvent").log(function(){return e})},logCommentReaction:function(a,c,d,e,f){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("reaction").setPlatform(a).addToExtraData("page_id",c).addToExtraData("comment_fbid",d).addToExtraData("post_fbid",e).addToExtraData("reaction_type",f).log()},logSendMessage:function(a,c,d){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("send_message").setPlatform(a).addToExtraData("page_id",c).addToExtraData("enter_to_send_enabled",d.toString()).log(),l.create(g.SEND_MESSAGE).setPlatform(a).log()},logReceiveMessage:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("receive_message").setPlatform(a).addToExtraData("page_id",c).log()},logSearchClick:function(a,b){l.create(g.SEARCH_CLICKED).setPageCommSearch(a).setPlatform(b).log()},logContentSearchClicked:function(a,b){l.create(g.CONTENT_SEARCH_CLICKED).setPageCommSearchType(a).setPageCommSearch(b).log()},logBroadcastButtonRendered:function(){l.create(g.CREATE_BROADCAST_BUTTON_RENDERED).log()},logBroadcastButtonClicked:function(){l.create(g.CREATE_BROADCAST_BUTTON_CLICKED).log()},logBroadcastSendButtonClicked:function(a){l.create(g.SEND_BROADCAST_BUTTON_CLICKED).setBroadcastAudience(a).log()},logBroadcastConfirmationButtonClicked:function(){l.create(g.SEND_BROADCAST_CONFIRM_BUTTON_CLICKED).log()},logBroadcastHistoryRowClicked:function(){l.create(g.BROADCAST_HISTORY_ROW_CLICK).log()},logAutomatedResponsesRendered:function(){l.create(g.AUTOMATED_RESPONSES_ENTRYPOINT_RENDERED).log()},logAutomatedResponsesEnabled:function(a){l.create(g.AUTOMATION_ENABLED).setAutomatedResponseTriggerType(a).log()},logAutomatedResponsesDisabled:function(a){l.create(g.AUTOMATION_DISABLED).setAutomatedResponseTriggerType(a).log()},logAutomatedResponsesSaveClicked:function(a,b){l.create(g.AUTOMATED_RESPONSES_SAVE_CLICK).setAutomatedResponseTriggerType(a).setHadError(b).log()}};e.exports=l}),null);
__d("PagesManagerBulkActionLogger",["BusinessInboxBulkAdminAssignmentActionClickFalcoEvent","BusinessInboxBulkAdminAssignmentDialogSubmitFalcoEvent","BusinessInboxBulkDeleteActionClickFalcoEvent","BusinessInboxBulkDeleteDialogSubmitFalcoEvent","BusinessInboxBulkLabelActionClickFalcoEvent","BusinessInboxBulkLabelDialogSubmitFalcoEvent","BusinessInboxBulkMarkAsUnreadActionClickFalcoEvent","BusinessInboxBulkMoveToFolderActionClickFalcoEvent","BusinessInboxBulkReplyActionClickFalcoEvent","BusinessInboxBulkReplyDialogSubmitFalcoEvent","BusinessInboxNuxImpressionFalcoEvent","BusinessInboxThreadCheckboxClickFalcoEvent","BusinessInboxThreadCheckboxImpressionFalcoEvent","BusinessInboxThreadCheckboxUpdateValueFalcoEvent","CurrentUser","PagesManagerInboxLogger","PagesManagerInboxStore","PagesMessagingInboxActionsTypedLogger","SimpleNUXMessageTypes"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=b("PagesManagerInboxStore").getConfig().pageID}var c=a.prototype;c.$2=function(){return{logged_in_user_id:b("CurrentUser").getID(),page_id:this.$1,inbox_platform:"unified_threads",logged_in_user_type:"facebook",event_location:"unknown"}};c.logLabelActionClick=function(a){var c=this.$2();b("BusinessInboxBulkLabelActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logReplyActionClick=function(a){var c=this.$2();b("BusinessInboxBulkReplyActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logDeleteActionClick=function(a){var c=this.$2();b("BusinessInboxBulkDeleteActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logMarkAsUnreadActionClick=function(a){var c=this.$2();b("BusinessInboxBulkMarkAsUnreadActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logAdminAssignmentActionClick=function(a){var c=this.$2();b("BusinessInboxBulkAdminAssignmentActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logMoveToFolderActionClick=function(a){var c=this.$2();b("BusinessInboxBulkMoveToFolderActionClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logSelectionCheckboxClick=function(a){var c=this.$2();b("BusinessInboxThreadCheckboxClickFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logThreadCheckboxSelect=function(a){var c=this.$2();b("BusinessInboxThreadCheckboxUpdateValueFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logThreadCheckboxImpression=function(){var a=this.$2();b("BusinessInboxThreadCheckboxImpressionFalcoEvent").log(function(){return babelHelpers["extends"]({},a,{event_data:{}})})};c.logNuxImpression=function(){var a=this.$2();b("BusinessInboxNuxImpressionFalcoEvent").log(function(){return babelHelpers["extends"]({},a,{event_data:{nux_id:Number(b("SimpleNUXMessageTypes").PAGES_INBOX_BULK_ACTIONS),tag:"bulk_actions"}})})};c.logAdminAssignmentDialogSubmit=function(a){var c=this.$2();b("BusinessInboxBulkAdminAssignmentDialogSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logDeleteDialogSubmit=function(a){var c=this.$2();b("BusinessInboxBulkDeleteDialogSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logReplyDialogSubmit=function(a){var c=this.$2();b("BusinessInboxBulkReplyDialogSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logLabelDialogSubmit=function(a){var c=this.$2();b("BusinessInboxBulkLabelDialogSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},c,a)})};c.logMarkedAsUnreadThreads=function(a){var c=new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform("MESSENGER").setInboxAction("mark_as_unread").addToExtraData("page_id",this.$1).addToExtraData("is_bulk_action","1");a.forEach(function(a){return c.log()})};c.logDeletedThreads=function(a){var c=new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform("MESSENGER").setInboxAction("delete_thread").addToExtraData("is_bulk_action","1");a.forEach(function(a){return c.log()})};c.logThreadsAssignedToAdmin=function(a){var c=this;a.forEach(function(a){b("PagesManagerInboxLogger").logAdminAssignmentAction(c.$1,"assign","bulk_actions")})};return a}();e.exports=new a()}),null);
__d("PagesManagerBulkActionsDetailSection.react",["cx","fbt","BulkSelectionThreadAction","LeftRight.react","PagesManagerAction","PagesManagerBulkActionLogger","React","Text.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.selectedThreads;a=a.height;function d(){b("PagesManagerBulkActionLogger").logSelectionCheckboxClick({event_data:{thread_action:b("BulkSelectionThreadAction").UNSELECT}}),b("PagesManagerAction").clearBulkSelection()}return i.jsxs(i.Fragment,{children:[i.jsxs(b("LeftRight.react"),{className:"_2pif _2pik",children:[i.jsx("div",{}),i.jsx("div",{className:"_8iwy _8iwz",onClick:d,role:"button",tabIndex:"0"})]}),i.jsx("div",{className:"_3qn7 _61-1 _3qng",style:{height:a},children:i.jsx("div",{className:"_8j4v",children:h._({"*":"{Number of conversations} conversations selected","_1":"{Number of conversations} conversation selected"},[h._param("Number of conversations",i.jsx(b("Text.react"),{style:{fontWeight:"bold"},children:c})),h._plural(c)])})})]})}e.exports=a}),null);
__d("PagesManagerInboxCometUtil",["cx","fbt","Env","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={shouldShowCometNewDesign:function(){return(i||(i=b("Env"))).isCQuick},cometSearchInputHeight:function(){return(i||(i=b("Env"))).isCQuick?54:0},cometBadgeCountText:function(a,b,c){var d="";a!=null&&(b==="MESSENGER"||b==="INSTAGRAM_DIRECT"?d=h._({"*":"{number} messages","_1":"1 message"},[h._plural(a,"number")]):(b==="FACEBOOK"||b==="INSTAGRAM")&&(d=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(a,"number")])));return k.showCometBadgeCountText(d,c)},showCometBadgeCountText:function(a,b){return j.jsxs("div",{className:"_8fgz",children:[j.jsx("div",{className:"_8fg5"}),j.jsx("div",{className:"_8fg6","data-testid":void 0,children:a})]})}};e.exports=k}),null);
__d("PagesManagerListDetailLayout.react",["cx","Arbiter","BusinessInboxBizKitUtil","GeoSpinner.react","Grid.react","JSResource","Layout.react","PagesManagerAction","PagesManagerBulkActionsDetailSection.react","PagesManagerInboxCometUtil","PagesManagerResizeListener","React","ReactDOM","ResizeListener","SubscriptionsHandler","Vector","XUICard.react","lazyLoadComponent","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";var h=b("BusinessInboxBizKitUtil").isBizKitBeta,i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("BizKitInboxLayout.react").__setRef("PagesManagerListDetailLayout.react")),k=b("Layout.react").Column,l=b("Layout.react").FillColumn,m=b("Grid.react").GridItem,n=200;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;e.recalculateHeight=function(){var a=b("Vector").getViewportDimensions().y-b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(e)).getBoundingClientRect().top;!e.props.fullScreen?(a-=30,a-=2):a-=1;a=Math.max(n,a);e.setState({height:a});h()===!0?b("PagesManagerAction").setLayoutHeight(a-85):b("PagesManagerAction").setLayoutHeight(a);a=e.props.fullScreen?0:8;e.setState({top:a})};e.state={top:0,height:n};return e}var d=c.prototype;d.componentDidMount=function(){var a=this;this.recalculateHeight();this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribe("reflow",function(){return b("setImmediate")(a.recalculateHeight)}),b("ResizeListener").add(function(){return a.recalculateHeight()}),b("PagesManagerResizeListener").addListener("change",function(){return a.recalculateHeight()}))};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.showDetailViewContainer=function(){return i.jsxs(b("Layout.react"),{className:"_5n4i",style:{height:this.state.height},children:[i.jsxs(l,{className:"_6skv",children:[i.jsx("div",{className:this.props.headerClassName,children:this.props.headerSection}),i.jsx("div",{className:this.props.detailClassName,children:this.props.detailSection})]}),i.jsx(k,{className:this.props.contextCardClassName,children:this.props.contextCardSection})]})};d.showCometDetailViewContainer=function(){return i.jsxs("div",{children:[i.jsx("div",{className:this.props.headerClassName,children:this.props.headerSection}),i.jsxs(b("Layout.react"),{className:"_5n4i",style:{height:this.state.height},children:[i.jsx(l,{className:"_6skv",children:i.jsx("div",{className:this.props.detailClassName,children:this.props.detailSection})}),i.jsx(k,{className:this.props.contextCardClassName,children:this.props.contextCardSection})]})]})};d.render=function(){var a,c=this.state.height,d=this.state.top,e=[];this.props.navigationSection&&e.push(i.jsx(m,{className:this.props.navigationSectionClassName,children:this.props.navigationSection},"navigationSection"));this.props.listSection&&e.push(i.jsx(m,{className:this.props.listClassName,"data-testID":"list_view",children:this.props.listSection},"listSection"));a=(a=this.props.selectedThreads)!=null?a:0;e.push(i.jsx(m,{className:"_3q3y",children:a===0?b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?this.showCometDetailViewContainer():this.showDetailViewContainer():i.jsx(b("PagesManagerBulkActionsDetailSection.react"),{height:this.state.height,selectedThreads:a})},"0"));return h()===!0?i.jsx(i.Suspense,{fallback:i.jsx(b("GeoSpinner.react"),{center:!0}),children:i.jsx(j,{contextCardClassName:"_2evq",contextCardSection:this.props.contextCardSection,detailClassName:"_2evr",detailSection:this.props.detailSection,fullScreen:!0,headerClassName:"_2evs",headerSection:this.props.headerSection,isMessaging:this.props.isMessaging,listClassName:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()&&this.state.navMode==="messages"?"_1-9p":this.props.listClassName,listSection:this.props.listSection,navigationSection:this.props.navigationSection,navigationSectionClassName:"_6idi",selectedThreads:a})}):i.jsx(b("XUICard.react"),{className:this.props.fullScreen?"_4sno":"",style:{height:c},children:i.jsx("div",{className:"_10ua",style:{top:d},children:i.jsx(b("Grid.react"),{alignv:"top",className:"_10ue",cols:e.length,children:e})})})};return c}(i.PureComponent);e.exports=a}),null);
__d("BizEmailMarketingNux.react",["fbt","FDSText.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="page_inbox_marketing_email_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNavNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2(i)),d.setState({shouldShowNavNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$2(i));return a};d.$2=function(a){return b("PagesManagerInboxNUX")[a]};d.render=function(){return h.jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,customwidth:240,offsetX:0,onCloseButtonClick:this.$3,position:"right",shown:this.state.shouldShowNavNUX,width:"custom",children:h.jsx(b("FDSText.react"),{color:"white",size:"body3",children:g._("Now you can send customized marketing emails to your email subscribers.")})})};return c}(h.PureComponent);e.exports=a}),null);
__d("InstagramMessageThreadItemWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2595554300462774"};b.getQueryID=function(){return"325943938338406"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("InstagramMessageThreadItemsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2581139891978691"};b.getQueryID=function(){return"548707749023766"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("InstagramBusinessMessageInboxQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2562177080536219"};b.getQueryID=function(){return"398982634310744"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("InstagramMessageThreadsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2742565699100943"};b.getQueryID=function(){return"1199894503543494"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("PagesManagerInboxUnifiedThreadlistUtil",["MediaManagerUtils","PagesManagerInboxStore"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerUtils").isMediaManagerApp;a={shouldShowUnifiedThreadlist:function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(a!=null){a=(a=(a=a.inboxRedesignConfig)==null?void 0:a.shouldShowUnifiedThreadlist)!=null?a:!1;return a&&!g()}else{var c;a=(c=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowUnifiedThreadlist)!=null?c:!1}return a&&!g()},shouldShowUnifiedThreadlistSeparatedTab:function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(a!=null){a=(a=(a=a.inboxRedesignConfig)==null?void 0:a.shouldShowUnifiedThreadlistSeparatedTab)!=null?a:!1;return a&&!g()}else{var c;a=(c=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowUnifiedThreadlistSeparatedTab)!=null?c:!1}return a&&!g()}};e.exports=a}),null);
__d("PageCommItemStatusUtil",["ix","cssVar","fbt","invariant","PageCommItemActionType","PageCommItemFolder","PageCommItemStatus","PagesManagerInboxCometUtil","PagesManagerInboxUnifiedThreadlistUtil","asset","fbglyph"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,l=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlistSeparatedTab,m="ARCHIVED",n=(a={},a[(c=b("PageCommItemFolder")).TODO]=i._("Main"),a[c.FOLLOW_UP]=i._("Follow up"),a[c.DONE]=i._("Done"),a[c.SPAM]=i._("Spam"),a[c.UNREAD]=i._("Unread"),a[c.MESSENGER_THREADS]=i._("Messenger"),a[c.INSTAGRAM_THREADS]=i._("Instagram Direct"),a[c.PRIORITY]=i._("Priority"),a),o={getFolders:function(a){var c;c=[(c=b("PageCommItemFolder")).TODO,c.FOLLOW_UP,c.DONE,c.SPAM];a===b("PageCommItemFolder").UNREAD?c.splice(0,0,b("PageCommItemFolder").UNREAD):c.splice(1,0,b("PageCommItemFolder").UNREAD);return c},getInboxFolders:function(a){a=[b("PageCommItemFolder").TODO,b("PageCommItemFolder").DONE,b("PageCommItemFolder").SPAM];return a},getFilters:function(a){var c=[b("PageCommItemFolder").FOLLOW_UP];a===b("PageCommItemFolder").UNREAD?c.splice(0,0,b("PageCommItemFolder").UNREAD):c.splice(1,0,b("PageCommItemFolder").UNREAD);a=k();var d=l();a&&!d&&c.unshift(b("PageCommItemFolder").MESSENGER_THREADS,b("PageCommItemFolder").INSTAGRAM_THREADS);return c},PageCommItemFolderLabelConfig:n,getLabel:function(a){return n[a]},getToolTipLabel:function(a){switch(a){case b("PageCommItemFolder").TODO:return i._("Move to main");case b("PageCommItemFolder").FOLLOW_UP:return i._("Mark as \"Follow up\"");case b("PageCommItemFolder").DONE:return i._("Move to Done");case b("PageCommItemFolder").SPAM:return i._("Move to Spam");default:j(0,1566,a)}},getStarLabel:function(a){switch(a){case b("PageCommItemStatus").FOLLOW_UP:return i._("Mark as \"Follow up\"");case b("PageCommItemStatus").TODO:return i._("Remove from \"Follow up\"");default:j(0,1567,a)}},getColor:function(a){switch(a){case b("PageCommItemStatus").FOLLOW_UP:return"#000000";case b("PageCommItemStatus").TODO:case b("PageCommItemStatus").DONE:case b("PageCommItemStatus").SPAM:return"#000000";case b("PageCommItemStatus").UNREAD:return"#000000";default:j(0,1568,a)}},getFolderStatus:function(a){switch(a){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").UNREAD:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_COMMENT:case b("PageCommItemFolder").MEDIA_MANAGER_TOP_MESSAGE:case b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:case b("PageCommItemFolder").MEDIA_MANAGER_STARS_COMMENT:case b("PageCommItemFolder").MEDIA_MANAGER_ALL_SECONDARY_FOLDER:return b("PageCommItemStatus").TODO;case b("PageCommItemFolder").FOLLOW_UP:return b("PageCommItemStatus").FOLLOW_UP;case b("PageCommItemFolder").DONE:return b("PageCommItemStatus").DONE;case b("PageCommItemFolder").SPAM:return b("PageCommItemStatus").SPAM;default:j(0,1568,status)}},getIGDirectFolder:function(a,c){var d=null;a===b("PageCommItemFolder").SPAM?d=b("PageCommItemFolder").SPAM:a===b("PageCommItemFolder").DONE?d=m:a===b("PageCommItemFolder").TODO&&(c===b("PageCommItemFolder").SPAM||c===b("PageCommItemFolder").DONE)&&(d=b("PageCommItemFolder").TODO);return d},getThreadsManagementStatus:function(a){return this.getIsFilter(a)?b("PageCommItemFolder").TODO:a},getIsFilter:function(a){return a===b("PageCommItemFolder").UNREAD||a===b("PageCommItemFolder").FOLLOW_UP||a===b("PageCommItemFolder").MESSENGER_THREADS||a===b("PageCommItemFolder").INSTAGRAM_THREADS},getActionParam:function(a,c,d,e){d===void 0&&(d=!0);var f=a==="INSTAGRAM_DIRECT",g=(a==="FACEBOOK"||a==="MESSENGER"||a==="INSTAGRAM"||a==="INSTAGRAM_DIRECT")&&c!==b("PageCommItemFolder").SPAM,h=e&&(e.is_read===!1||e.unread_count>0);e=e&&(e.comm_status===b("PageCommItemFolder").FOLLOW_UP||e.is_follow_up);g=c!==b("PageCommItemFolder").DONE&&g;var i=c===b("PageCommItemFolder").UNREAD;f=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()&&(f||a==="MESSENGER");return{showDone:g,showFollowUp:c!==b("PageCommItemFolder").FOLLOW_UP&&g&&!e,showInbox:c===b("PageCommItemFolder").SPAM||c===b("PageCommItemFolder").DONE,showMarkRead:h!=null?h&&g:i&&g,showMarkUnread:h!=null?!h&&g:!i&&g,showSpam:g,showUnFollowup:e!=null&&g?e:!1,showDelete:d,showMore:f}},getUnreadStatusForMutation:function(a,c,d){if(!c)return null;if(a===b("PageCommItemFolder").UNREAD||a===b("PageCommItemActionType").MARK_UNREAD)return!1;else if((a===b("PageCommItemFolder").TODO||a===b("PageCommItemActionType").MARK_READ)&&c.is_read===!1&&d!==b("PageCommItemFolder").SPAM&&d!==b("PageCommItemFolder").DONE)return!0;else return null},getFollowUpStatusForMutation:function(a,c,d){if(!c)return null;if(a===b("PageCommItemFolder").FOLLOW_UP)return!0;else if(a===b("PageCommItemFolder").TODO&&c.is_follow_up===!0&&d!==b("PageCommItemFolder").SPAM&&d!==b("PageCommItemFolder").DONE)return!1;else return null},getFolderColor:function(a){return o.getColor(o.getFolderStatus(a))},getIGDStatus:function(a){switch(a){case b("PageCommItemFolder").TODO:case b("PageCommItemFolder").UNREAD:case b("PageCommItemFolder").MESSENGER_THREADS:case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").PRIORITY:return b("PageCommItemStatus").TODO;case b("PageCommItemFolder").FOLLOW_UP:return b("PageCommItemStatus").FOLLOW_UP;case b("PageCommItemFolder").DONE:return b("PageCommItemStatus").DONE;case b("PageCommItemFolder").SPAM:return b("PageCommItemStatus").SPAM;default:return b("PageCommItemStatus").TODO}},getFolderImage:function(a){var c;switch(a){case b("PageCommItemFolder").TODO:c=g("982942");break;case b("PageCommItemFolder").FOLLOW_UP:c=g("982961");break;case b("PageCommItemFolder").DONE:c=g("786413");break;case b("PageCommItemFolder").SPAM:c=g("982949");break;case b("PageCommItemFolder").UNREAD:c=g("982928");break;case b("PageCommItemFolder").MESSENGER_THREADS:c=g("1104734");break;case b("PageCommItemFolder").INSTAGRAM_THREADS:c=g("1104724");break}return c},getMediaManagerFolderImage:function(a){var c;switch(a){case b("PageCommItemFolder").TODO:c=g("686001");break;case b("PageCommItemFolder").FOLLOW_UP:c=g("479365");break;case b("PageCommItemFolder").DONE:c=g("124181");break;case b("PageCommItemFolder").SPAM:c=g("585265");break;case b("PageCommItemFolder").UNREAD:c=g("483099");break;case b("PageCommItemFolder").PRIORITY:c=g("880209");break}return c}};e.exports=o}),null);
__d("PagesAdminToolUIActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONTEXT_CARD_CLICK_ADD_NOTE:"context_card_click_add_note",CONTEXT_CARD_CLICK_CONFIRM_ADD_NOTE:"context_card_click_confirm_add_note",CONTEXT_CARD_CLICK_DELETE_NOTE:"context_card_click_delete_note",CONTEXT_CARD_CLICK_CONFIRM_DELETE_NOTE:"context_card_click_confirm_delete_note",CONTEXT_CARD_CLICK_HISTORY:"context_card_click_history",CONTEXT_CARD_CLICK_PROFILE_LINK:"context_card_click_profile_link",CONTEXT_CARD_CLICK_SHARED_MEDIA:"context_card_click_shared_media",CONTEXT_CARD_LOAD_MORE_SHARED_MEDIA:"context_card_load_more_shared_media",CONTEXT_CARD_LOAD_MORE_NOTES:"context_card_load_more_notes",CONTEXT_CARD_LOAD_MORE_HISTORY:"context_card_load_more_history",CONTEXT_CARD_CLICK_SET_CUSTOM_TAG:"context_card_click_set_custom_tag",CONTEXT_CARD_CLICK_UNSET_CUSTOM_TAG:"context_card_click_unset_custom_tag",TAG_MANAGEMENT_CLICK_DELETE_LINK:"tag_management_click_delete_link",TAG_MANAGEMENT_CLICK_CONFIRM_DELETE:"tag_management_click_confirm_delete",TAG_MANAGEMENT_CLICK_COLOR_SELECTOR:"tag_management_click_color_selector",TAG_MANAGEMENT_CLICK_CHANGE_COLOR:"tag_management_click_change_color",TAG_MANAGEMENT_CLICK_ADD_TAG:"tag_management_click_add_tag",TAG_MANAGEMENT_CLICK_MERGE_TAG:"tag_management_click_merge_tag",MESSAGE_INBOX_SWITCH_FOLDER:"message_inbox_switch_folder",MESSAGE_INBOX_TOGGLE_FILTER_PANEL:"message_inbox_toggle_filter_panel",MESSAGE_INBOX_CLICK_MANAGE_TAGS:"message_inbox_click_manage_tags",MESSAGE_INBOX_CLICK_ADD_SEARCH_TAGS:"message_inbox_click_add_search_tags",MESSAGE_INBOX_CLICK_REMOVE_SEARCH_TAGS:"message_inbox_click_remove_search_tags",MESSAGE_INBOX_CLICK_SEARCH_NAMES:"message_inbox_click_search_names",MESSAGE_INBOX_CLICK_SEARCH_MESSAGES:"message_inbox_click_search_messages",MESSAGE_INBOX_CLICK_AWAY_TOGGLE:"message_inbox_click_away_toggle",MESSAGE_INBOX_CLICK_THREAD_BLOCK:"message_inbox_click_thread_block",MESSAGE_INBOX_CLICK_SEND_MESSAGE:"message_inbox_click_send_message",MESSAGE_INBOX_CLICK_MENU_ACTION:"message_inbox_click_menu_action",HOVERCARD_CLICK_EXPAND_FULL_VIEW:"hovercard_click_expand_full_view",HOVERCARD_CLICK_SEND_MESSAGE:"hovercard_click_send_message",HOVERCARD_CLICK_SEE_CONVERSATION:"hovercard_click_see_conversation",HOVERCARD_CLICK_VIEW_PROFILE:"hovercard_click_view_profile"})}),null);
__d("PagesManagerMessagingActionType",["PagesManagerActionType","keyMirrorRecursive"],(function(a,b,c,d,e,f){a=b("keyMirrorRecursive")({THREAD_LEVEL:{READ_STATUS:"",ARCHIVE_STATUS:"",SPAM_STATUS:"",UPDATE_THREAD:""},SET_SCROLL_HEIGHT:null,SET_APPOINTMENT_BANNER_HEIGHT:null,AWAY_STATE:{UPDATE:null,FETCH:null,SET:null},SET_IS_CONTEXT_CARD_HIDDEN:null,MESSAGE_SEARCH:{NAME_SEARCH_UPDATE:null,SNIPPET_SEARCH_UPDATE:null,LOAD_MORE_NAME_RESULT:null,LOAD_MORE_SNIPPET_RESULT:null},HOT_LIKE:{END:null,START:null},BAN:{RESET:null,UPDATE:null},CLASSIFIER:{INITIALIZE_STORE:null,CHECK_FOR_INTENT:null,NOTIFY_INTENT_CLASSIFIED:null,THREAD_INTENT_UPDATED:null,VERIFY_INTENT:null}});Object.assign(a,b("PagesManagerActionType"));e.exports=a}),null);
__d("PagesMessagingSearchMode",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ALL:"",NAME_SEARCH:"",KEYWORD_SEARCH:"",MESSAGE_SEARCH:"",NONE:""});e.exports=a}),null);
__d("PagesManagerMessagingThreadlistAction",["MercuryThreadlistConstants","PagesManagerDispatcher","PagesManagerLogger","PagesManagerMessagingActionType","PagesMessagingSearchMode"],(function(a,b,c,d,e,f){var g={initThreadlist:function(a){this.fetchThreadlist(a,0,b("MercuryThreadlistConstants").WEBMESSENGER_THREAD_COUNT)},fetchThreadlist:function(a,c,d){b("PagesManagerDispatcher").dispatch({offset:c,limit:d,pageID:a,type:b("PagesManagerMessagingActionType").LIST.FETCH})},updateThreadlist:function(a){b("PagesManagerDispatcher").dispatch({pageID:a,type:b("PagesManagerMessagingActionType").LIST.UPDATED})},updateThreadlistWithDelay:function(a,c){setTimeout(function(){b("PagesManagerDispatcher").dispatch({pageID:a,type:b("PagesManagerMessagingActionType").LIST.UPDATED})},c)},changeSearchTerm:function(a,c,d,e){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.CHANGE_SEARCH_TERM,searchTerm:c,pageID:a,activeFolder:d,searchMode:e})},changeIsSearchingNameStatus:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.NAME_SEARCH_UPDATE,isSearching:a})},changeIsSearchingSnippetStatus:function(a){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.SNIPPET_SEARCH_UPDATE,isSearching:a})},loadMoreNameResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.LOAD_MORE_NAME_RESULT,searchTerm:c,pageID:a,activeFolder:d})},loadMoreSnippetResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.LOAD_MORE_SNIPPET_RESULT,searchTerm:c,pageID:a,activeFolder:d})},resetSearch:function(a){g.changeSearchTerm(a,"","",b("PagesMessagingSearchMode").NONE)},addSearchCustomTag:function(a,c,d){b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_add_search_tags",a,{tag_name:c,position:d}),b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.ADD_SEARCH_CUSTOM_TAG,pageID:a,tagName:c}),b("PagesManagerDispatcher").dispatch({searchType:"LABEL",type:b("PagesManagerMessagingActionType").SEARCH.LABEL})},removeSearchCustomTag:function(a,c,d){b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_remove_search_tags",a,{tag_name:c,position:d}),b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SEARCH.REMOVE_SEARCH_CUSTOM_TAG,pageID:a,tagName:c}),b("PagesManagerDispatcher").dispatch({searchType:"LABEL",type:b("PagesManagerMessagingActionType").SEARCH.LABEL})},searchNameResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.CHANGE_NAME_SEARCH_TERM,searchTerm:c,pageID:a,activeFolder:d})},searchMessageResult:function(a,c,d){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerMessagingActionType").MESSAGE_SEARCH.CHANGE_MESSAGE_SEARCH_TERM,searchTerm:c,pageID:a,activeFolder:d})}};e.exports=g}),null);
__d("BusinessInboxContentSearchClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_content_search_click");e.exports=a}),null);
__d("BusinessInboxContentSearchResultRenderViewFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_content_search_result_render_view");e.exports=a}),null);
__d("BusinessInboxLabelSearchClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_label_search_click");e.exports=a}),null);
__d("BusinessInboxMessageListRenderViewFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_message_list_render_view");e.exports=a}),null);
__d("BusinessInboxMessageSendRequestFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_message_send_request");e.exports=a}),null);
__d("BusinessInboxPeopleSearchClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_people_search_click");e.exports=a}),null);
__d("BusinessInboxPlatformClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_platform_click");e.exports=a}),null);
__d("BusinessInboxSavedReplySendResponseFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_saved_reply_send_response");e.exports=a}),null);
__d("BusinessInboxSearchCancelClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_search_cancel_click");e.exports=a}),null);
__d("BusinessInboxSearchFocusClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_search_focus_click");e.exports=a}),null);
__d("BusinessInboxSearchResultRenderViewFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_search_result_render_view");e.exports=a}),null);
__d("BusinessInboxSuggestedLabelClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_suggested_label_click");e.exports=a}),null);
__d("BusinessInboxSuggestedLabelImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_suggested_label_impression");e.exports=a}),null);
__d("BusinessInboxThreadListRenderViewFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("business_inbox_thread_list_render_view");e.exports=a}),null);
__d("BIZInboxClientLogger",["BusinessInboxContentSearchClickFalcoEvent","BusinessInboxContentSearchResultRenderViewFalcoEvent","BusinessInboxLabelSearchClickFalcoEvent","BusinessInboxMessageListRenderViewFalcoEvent","BusinessInboxMessageSendRequestFalcoEvent","BusinessInboxPeopleSearchClickFalcoEvent","BusinessInboxPlatformClickFalcoEvent","BusinessInboxPostFolderUpdateFalcoEvent","BusinessInboxSavedReplySendResponseFalcoEvent","BusinessInboxSearchCancelClickFalcoEvent","BusinessInboxSearchFocusClickFalcoEvent","BusinessInboxSearchResultRenderViewFalcoEvent","BusinessInboxSuggestedLabelClickFalcoEvent","BusinessInboxSuggestedLabelImpressionFalcoEvent","BusinessInboxSwitchFolderClickFalcoEvent","BusinessInboxThreadFolderUpdateFalcoEvent","BusinessInboxThreadListRenderViewFalcoEvent","CurrentUser"],(function(a,b,c,d,e,f){"use strict";var g={getInboxPlatformAndUserType:function(a){var b,c="facebook";if(a==="ALL")b="unified_threads";else if(a==="INSTAGRAM_DIRECT")b="instagram_direct",c="instagram";else if(a==="INSTAGRAM")b="instagram",c="instagram";else if(a==="MESSENGER")b="messenger";else if(a==="FACEBOOK")b="facebook";else return null;return{inboxPlatform:b,userType:c}},logThreadListRenderView:function(a,c){var d=g.getInboxPlatformAndUserType(c);if(d==null)return;b("BusinessInboxThreadListRenderViewFalcoEvent").log(function(){return{event_location:"unknown",page_id:a,inbox_platform:d.inboxPlatform,event_data:{platform:d.inboxPlatform},ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:d.userType,client_timestamp_ms:Date.now(),thread_id:null,consumer_id:null,referrer:window.location.href}})},processThreadID:function(a){return a.replace("user:","")},logMessageListRenderView:function(a,c,d){if(d==null)return;var e=g.processThreadID(d),f=g.getInboxPlatformAndUserType(c);if(f==null)return;b("BusinessInboxMessageListRenderViewFalcoEvent").log(function(){return{event_location:"unknown",page_id:a,inbox_platform:f.inboxPlatform,event_data:{thread_id:e},ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:f.userType,client_timestamp_ms:Date.now(),thread_id:e,consumer_id:null,referrer:window.location.href}})},logMessageSend:function(a,c,d,e){if(a==null||d==null)return;var f=g.processThreadID(d),h=g.getInboxPlatformAndUserType(c);if(h==null)return;b("BusinessInboxMessageSendRequestFalcoEvent").log(function(){return{event_location:"unknown",page_id:a,inbox_platform:h.inboxPlatform,event_data:{message_type:e,thread_id:f},ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:h.userType,client_timestamp_ms:Date.now(),thread_id:f,consumer_id:null,referrer:window.location.href}})},logPlatformClick:function(a,c,d,e,f){if(c==null||e!=="messages"||f!=="messages")return;var h=g.getInboxPlatformAndUserType(c);if(h==null)return;b("BusinessInboxPlatformClickFalcoEvent").log(function(){return{event_location:"unknown",page_id:a,inbox_platform:h.inboxPlatform,event_data:{source:c,target:d},ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:h.userType,client_timestamp_ms:Date.now(),thread_id:null,consumer_id:null,referrer:window.location.href}})},logSuggestedLabelImpression:function(a,c,d,e,f){if(a==null||c==null||f==null)return;var h=g.getInboxPlatformAndUserType(c);if(h==null)return;b("BusinessInboxSuggestedLabelImpressionFalcoEvent").log(function(){return{event_location:"unknown",page_id:a,inbox_platform:h.inboxPlatform,event_data:{label_color:d,label_name:e,suggested_label_type:f},ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:h.userType,client_timestamp_ms:Date.now(),consumer_id:null,referrer:window.location.href}})},logSuggestedLabelClick:function(a,c,d,e,f){if(a==null||c==null||f==null)return;var h=g.getInboxPlatformAndUserType(c);if(h==null)return;b("BusinessInboxSuggestedLabelClickFalcoEvent").log(function(){return{event_location:"unknown",page_id:a,inbox_platform:h.inboxPlatform,event_data:{label_color:d,label_name:e,suggested_label_type:f},ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:h.userType,client_timestamp_ms:Date.now(),consumer_id:null,referrer:window.location.href}})},logSavedReplyClick:function(a,c,d,e){var f=g.getInboxPlatformAndUserType(c);if(f==null)return;b("BusinessInboxSavedReplySendResponseFalcoEvent").log(function(){return{event_location:"unknown",page_id:a,inbox_platform:f.inboxPlatform,event_data:{saved_reply_id:d,saved_reply_text:e},ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:f.userType,client_timestamp_ms:Date.now(),consumer_id:null,referrer:window.location.href}})},logSearchFocusClick:function(a,c){b("BusinessInboxSearchFocusClickFalcoEvent").log(function(){return{event_location:"unknown",page_id:a,inbox_platform:"unknown",event_data:{search_word:c},ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:"facebook",client_timestamp_ms:Date.now(),consumer_id:null,referrer:window.location.href}})},logSearchCancelClick:function(a){b("BusinessInboxSearchCancelClickFalcoEvent").log(function(){return{event_location:"unknown",page_id:a,inbox_platform:"unknown",event_data:{},ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:"facebook",client_timestamp_ms:Date.now(),consumer_id:null,referrer:window.location.href}})},logSearchResultRenderView:function(a){if(a==null)return;b("BusinessInboxSearchResultRenderViewFalcoEvent").log(function(){return{event_location:"unknown",page_id:a,inbox_platform:"unknown",event_data:{},ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:"facebook",client_timestamp_ms:Date.now(),consumer_id:null,referrer:window.location.href}})},logDifferentSearchClick:function(a,c,d){if(a==null)return;var e={event_location:"unknown",page_id:a,inbox_platform:"unknown",event_data:{search_word:c},ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:"facebook",client_timestamp_ms:Date.now(),consumer_id:null,referrer:window.location.href};switch(d){case"CONTENT":b("BusinessInboxContentSearchClickFalcoEvent").log(function(){return e});break;case"LABEL":b("BusinessInboxLabelSearchClickFalcoEvent").log(function(){return e});break;case"CUSTOMER":b("BusinessInboxPeopleSearchClickFalcoEvent").log(function(){return e});break;default:break}},logDifferentSearchResultRenderView:function(a,c,d){if(a==null)return;var e={event_location:"unknown",page_id:a,inbox_platform:"unknown",event_data:{search_word:c},ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:"facebook",client_timestamp_ms:Date.now(),consumer_id:null,referrer:window.location.href};switch(d){case"CONTENT":b("BusinessInboxContentSearchResultRenderViewFalcoEvent").log(function(){return e});break;default:break}},logSwitchFolderClick:function(a,c,d,e){var f=g.getInboxPlatformAndUserType(c);if(f==null)return;b("BusinessInboxSwitchFolderClickFalcoEvent").log(function(){return{event_location:"unknown",page_id:a,inbox_platform:f.inboxPlatform,event_data:{source_folder:d,target_folder:e},ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:f.userType,client_timestamp_ms:Date.now(),consumer_id:null,referrer:window.location.href}})},logFolderUpdate:function(a,c,d,e){if(a==null||d==null)return;var f=g.getInboxPlatformAndUserType(c);if(f==null)return;var h={event_location:"unknown",page_id:a,inbox_platform:f.inboxPlatform,event_data:{source_folder:d,target_folder:e},ig_account_id:null,business_presence_node_id:null,logged_in_user_id:b("CurrentUser").getID(),logged_in_user_type:f.userType,client_timestamp_ms:Date.now(),consumer_id:null,referrer:window.location.href};c==="FACEBOOK"||c==="INSTAGRAM"?b("BusinessInboxPostFolderUpdateFalcoEvent").log(function(){return h}):(c==="MESSENGER"||c==="INSTAGRAM_DIRECT")&&b("BusinessInboxThreadFolderUpdateFalcoEvent").log(function(){return h})}};e.exports=g}),null);
__d("CreatorStudioInboxMessengerRankedUsersActionTypes",["PagesManagerActionType","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:"",DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER:"",SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR:""});c=babelHelpers["extends"]({},a,b("PagesManagerActionType"));e.exports=c}),null);
__d("CreatorStudioInboxMessengerRankedUsersAction",["CreatorStudioInboxMessengerRankedUsersActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={fetchCreatorStudioInboxMessengerRankedUsersData:function(){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA})},setCreatorStudioInboxMessengerRankedUsersData:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,pageID:a,data:c})},refreshCreatorStudioInboxMessengerRankedUsersData:function(a){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,pageID:a})},deleteCreatorStudioInboxMessengerRankedUser:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER,pageID:a,userID:c})},setCreatorStudioInboxMessengerRankedUsersError:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR,pageID:a,error:c})}};e.exports=a}),null);
__d("CreatorStudioInboxMessengerRankedUsersDataTypes",["ImmutableRecordWithV4Types","filterNulls","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=a({rankedUsers:[]}),h=function(a){a=a.rankedUsers;return g({rankedUsers:a})};c=function(a){a=a==null?void 0:(a=a.messenger_ranked_users)==null?void 0:a.edges;if(a==null)return h({rankedUsers:b("immutable").List()});a=b("filterNulls")(a.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.id}));return h({rankedUsers:b("immutable").List(a)})};e.exports={createCreatorStudioInboxMessengerRankedUsersData:h,createCreatorStudioInboxMessengerRankedUsersDataFromRawData:c}}),null);
__d("CreatorStudioInboxMessengerRankedUsersStore",["CreatorStudioInboxMessengerRankedUsersAction","CreatorStudioInboxMessengerRankedUsersActionTypes","CreatorStudioInboxMessengerRankedUsersDataTypes","FluxLoadObjectStore","MercuryIDs","MessengerState.re","PageCommItemFolder","PagesManagerActionType","PagesManagerDispatcher","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","immutable","promiseDone","setImmediate","CreatorStudioInboxMessengerRankedUsersStoreQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CreatorStudioInboxMessengerRankedUsersDataTypes").createCreatorStudioInboxMessengerRankedUsersData,i=b("CreatorStudioInboxMessengerRankedUsersDataTypes").createCreatorStudioInboxMessengerRankedUsersDataFromRawData,j=b("RelayModern").fetchQuery;b("RelayModern").graphql;var k=g!==void 0?g:g=b("CreatorStudioInboxMessengerRankedUsersStoreQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.__isLoading=!0;return c}var d=c.prototype;d.getRankedUserMercuryThreadPayloadList=function(a){var c=this.getRankedUserIDs(a),d=[];c.forEach(function(c){c=b("MercuryIDs").getThreadIDFromUserID(c);c=b("MessengerState.re").getThreadMetaNow(a,c);c&&d.push(c)});return d};d.getRankedUserMercuryThreadPayloadListForAdmin=function(a,c){a=this.getRankedUserMercuryThreadPayloadList(a);var d=b("PagesManagerInboxFilterStore").getActiveFolder();d===b("PageCommItemFolder").FOLLOW_UP&&(a=a.filter(function(a){return a.comm_status&&a.comm_status.toUpperCase()===b("PageCommItemFolder").FOLLOW_UP}));c==="NONE"?a=a.filter(function(a){return a.comm_item_owners&&!a.comm_item_owners.nodes[0]}):c!=null&&(a=a.filter(function(a){return((a=a)!=null?(a=a.comm_item_owners)!=null?(a=a.nodes)!=null?(a=a[0])!=null?(a=a.admin)!=null?a.id:a:a:a:a:a)===c}));return a};d.getRankedUserIDs=function(a){a=this.get(a);a=a.getValue();var b=[];a&&(b=a.rankedUsers.toArray());return b};d.isLoading=function(){return this.__isLoading};d.__getActionTypes=function(){var a;return[this.getActionTypeStartLoad(),(a=b("CreatorStudioInboxMessengerRankedUsersActionTypes")).FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,a.SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,a.REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA,a.DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER,a.SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR]};d.reduce=function(a,c){var d=this;switch(c.type){case b("CreatorStudioInboxMessengerRankedUsersActionTypes").FETCHING_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:this.__isLoading=!0;return a;case b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:this.__isLoading=!1;return this.__handleOne(a,c.pageID,c.data);case b("CreatorStudioInboxMessengerRankedUsersActionTypes").REFRESH_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_DATA:this.__isLoading=!0;b("setImmediate")(function(){d.__load(c.pageID)});return a;case b("CreatorStudioInboxMessengerRankedUsersActionTypes").DELETE_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USER:var e=this.get(c.pageID);e=e.getValue();var f=[];if(e){e=e.rankedUsers.toArray();f=e.filter(function(a){return a!==c.userID})}e=h({rankedUsers:b("immutable").List(f)});return this.__handleOne(a,c.pageID,e);case b("CreatorStudioInboxMessengerRankedUsersActionTypes").SET_CREATOR_STUDIO_INBOX_MESSENGER_RANKED_USERS_ERROR:this.__isLoading=!1;return this.__handleOne(a,c.pageID,c.error);case b("PagesManagerActionType").NAVIGATION_UNIT.CHANGE:f=c.activeFolderFilter===b("PageCommItemFolder").PRIORITY&&b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER";e=c.activeTypeFilter==="MESSENGER"&&b("PagesManagerInboxFilterStore").getActiveFolder()===b("PageCommItemFolder").PRIORITY;(f||e)&&b("setImmediate")(function(){d.__load(c.pageID)});return a;default:return a}};d.__load=function(a){b("CreatorStudioInboxMessengerRankedUsersAction").fetchCreatorStudioInboxMessengerRankedUsersData();if(a==null){b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersError(a,new Error("Null ID"));return}b("promiseDone")(l(a),function(c){try{c=i(c);b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersData(a,c)}catch(c){b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersError(a,c)}},function(c){b("CreatorStudioInboxMessengerRankedUsersAction").setCreatorStudioInboxMessengerRankedUsersError(a,c)})};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;function l(a){a={pageID:a};return j(b("RelayFBEnvironment"),k,a)}e.exports=new a()}),null);
__d("MediaManagerInboxLogUtils",["MediaManagerFbPagePickerStore","MediaManagerInboxUtils","MediaManagerTypedLogger"],(function(a,b,c,d,e,f){var g=b("MediaManagerInboxUtils").InboxTabType;function h(a,c){c=c;c==null&&(c=new(b("MediaManagerTypedLogger"))());c=c.setEvent(a).setEventSource("inbox_tab").setSelectedSinglePageID(b("MediaManagerFbPagePickerStore").selectedSinglePageID()).setSelectedTab(g());c.log()}function a(a,c,d,e){var f=new(b("MediaManagerTypedLogger"))();c!==null&&(f=f.setPlatformRowID(String(c)));d!=null&&(f=f.setInboxPlatform(d));e!=null&&(f=f.setEventData(e));h(a,f)}function c(a){switch(a){case"MESSENGER":case"INSTAGRAM_DIRECT":return"MESSAGE";case"FACEBOOK":case"INSTAGRAM":return"COMMENT";default:return null}}function d(a){switch(a){case"MESSENGER":case"INSTAGRAM_DIRECT":return"THREAD";case"FACEBOOK":case"INSTAGRAM":return"POST";default:return null}}e.exports={getMediaManagerNotificationType:c,getMediaManagerPlatformRowType:d,mediaManagerInboxLoggingEvent:a}}),null);
__d("MediaManagerInboxContext.react",["FacebookAppIDs","MediaManagerInboxLogUtils","PageCommItemActionType","PageCommItemStatus","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerInboxLogUtils").getMediaManagerNotificationType,h=b("MediaManagerInboxLogUtils").getMediaManagerPlatformRowType,i=b("MediaManagerInboxLogUtils").mediaManagerInboxLoggingEvent;a=b("React");var j=(c={},c[(d=b("PageCommItemStatus")).DELETED]="mark_deleted",c[d.DONE]="mark_done",c[d.FOLLOW_UP]="mark_follow_up",c[d.TODO]="mark_todo",c[d.SPAM]="mark_spam",c),k=(f={},f[b("PageCommItemActionType").MARK_READ]="mark_read",f[b("PageCommItemActionType").MARK_UNREAD]="mark_unread",f);d={appID:b("FacebookAppIDs").MEDIA_MANAGER,logClickPlatform:function(a,b){i("click_platform",null,a,{filter:b})},logClickRow:function(a,b){i("click_row",a,b)},logMarkReadStatusActions:function(a,b,c,d,e){i(k[d],a,b,{filter:c,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:e!=null?e.toString():""})},logMarkStatusActions:function(a,b,c,d,e){i(j[e],a,b,{filter:d,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:c!=null?c.toString():""})},logRowImpression:function(a,b,c,d){i("row_impression",a,b,{filter:d,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:c!=null?c.toString():""})},logRowPreviewImpression:function(a,b,c,d){i("row_preview_impression",a,b,{filter:d,notification_type:g(b)||"",platform_row_type:h(b)||"",rowIndex:c!=null?c.toString():""})},logSendMessageToTargetUser:function(a,b,c,d){i("send_message_to_target_user",a,b,{filter:d,notification_type:"MESSAGE",platform_row_type:"THREAD",rowIndex:c!=null?c.toString():""})},logSendStickerToTargetUser:function(a,b,c,d,e){i("send_sticker_to_target_user",a,b,{filter:e,inbox_messenger_send_sticker_id:d,notification_type:"MESSAGE",platform_row_type:"THREAD",rowIndex:c!=null?c.toString():""})},logClickMessageCta:function(a,b,c,d,e){i("fb_comms_tip_cta_clicked",a,b,{filter:e,notification_type:b||"",platform_row_type:c||"",rowIndex:d!=null?d.toString():""})}};f=a.createContext({appID:null,logClickPlatform:c=b("emptyFunction"),logClickRow:c,logMarkReadStatusActions:c,logMarkStatusActions:c,logRowImpression:c,logRowPreviewImpression:c,logSendMessageToTargetUser:c,logSendStickerToTargetUser:c,logClickMessageCta:c});e.exports={MediaManagerInboxContext:f,MediaManagerInboxContextValue:d}}),null);
__d("PageCommItemReadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemReadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommItemReadEditMutation.graphql");function a(a,c){var d=a.ids.map(function(a){return{id:a,is_read:!0}});d={page_comm_item_mark_as_read:{page_comm_items:d}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.actor_id,ids:a.ids}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemStatusEditMutation",["PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListAction","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemStatusEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PageCommItemStatusEditMutation.graphql");function a(a,c){var d=function(c){var d=c.get(a.actor_id);if(!d)return;a.ids.forEach(function(e){var f=c.get(e);if(!f)return;f.setValue(a.status,"comm_status");var g=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:a.oldValue,with_comm_platform:f.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});g&&h.deleteNode(g,e);g=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:a.status,with_comm_platform:f.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});if(g){e=h.createEdge(c,g,f,"PageCommItemsEdge");h.insertEdgeAfter(g,e)}})},e=function(){a.isViewing&&b("PagesManagerAction").clearViewListItem(),c&&c.onSuccess()};a.isUndo||b("PagesManagerInboxListAction").itemFolderChange(a.ids,a.status,a.oldValue);return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:a.isUndo?void 0:d,updater:d,variables:{input:{actor_id:a.actor_id,ids:a.ids,reminder_time:a.reminderTime,status:a.status}},onCompleted:e,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemUnreadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemUnreadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommItemUnreadEditMutation.graphql");function a(a,c){var d=function(){var b=a.ids.map(function(a){return{id:a,is_read:!1}});return{page_comm_item_mark_as_unread:{page_comm_items:b}}}();return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.actor_id,ids:a.ids}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxMercuryUtil",["PagesManagerInboxFilterStore"],(function(a,b,c,d,e,f){"use strict";a={shouldUseMercury:function(){return b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER"||b("PagesManagerInboxFilterStore").getActiveType()==="WEC"||b("PagesManagerInboxFilterStore").getActiveType()==="INSTAGRAM_DIRECT"},shouldUseMercuryForFollowUp:function(){return b("PagesManagerInboxFilterStore").getActiveType()!=="MESSENGER"?!1:!0}};e.exports=a}),null);
__d("XMessagingSetPreferencesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/preferences/",{send_on_enter:{type:"Bool",defaultValue:!1}})}),null);
__d("PagesManagerInboxActionContainer.react",["BIZInboxClientLogger","CreatorStudioInboxMessengerRankedUsersAction","CreatorStudioInboxMessengerRankedUsersStore","FluxContainer","MediaManagerInboxContext.react","MediaManagerUtils","MercuryIDs","MessagingTag","PageCommItemActionType","PageCommItemFolder","PageCommItemReadEditMutation","PageCommItemStatus","PageCommItemStatusEditMutation","PageCommItemStatusUtil","PageCommItemUnreadEditMutation","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListStore","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","PagesManagerInboxStore","PagesManagerMessagesInterface","PagesManagerMessagingThreadlistAction","PagesManagerStore","React","RelayModern","emptyFunction","nullthrows","PagesManagerInboxActionContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";var g;a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var h=b("React");c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){b("PagesManagerInboxLogger").itemStatusChanged(b("nullthrows")(d.props.item.id),d.props.item.comm_type,a);b("PagesManagerInboxLogger").itemStatusChangedInHeader(b("nullthrows")(d.props.item.id),d.props.item.comm_type,a,d.state.commItemFolder);b("BIZInboxClientLogger").logFolderUpdate(d.state.pageID,d.state.commPlatform,d.state.commItemFolder,a);var e=d.state.pageID;b("PagesManagerInboxMercuryUtil").shouldUseMercury()?d.$2(d.props.item,a):e!=null&&b("PageCommItemStatusEditMutation").commit({ids:[b("nullthrows")(d.props.item.id)],actor_id:e,isViewing:d.state.viewingItem===d.props.item.id,oldValue:d.props.item.comm_status,reminderTime:c,status:a});d.context&&d.context.logMarkStatusActions!==b("emptyFunction")&&d.context.logMarkStatusActions(b("nullthrows")(d.props.item.id),d.state.commPlatform,d.props.mediaManagerInboxRowIndex,d.state.commItemFolder,a)},d.$3=function(a){var c=d.state.pageID;if(c!=null){var e=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(d.props.item.target_id));a===b("PageCommItemActionType").MARK_READ?(b("PagesManagerMessagesInterface").changeThreadReadStatus(c,e,!0),b("PageCommItemReadEditMutation").commit({ids:[b("nullthrows")(d.props.item.id)],actor_id:c})):a===b("PageCommItemActionType").MARK_UNREAD&&(b("PagesManagerMessagesInterface").changeThreadReadStatus(c,e,!1),b("PageCommItemUnreadEditMutation").commit({ids:[b("nullthrows")(d.props.item.id)],actor_id:c}));e=d.state.commItemFolder===b("PageCommItemFolder").PRIORITY&&b("MediaManagerUtils").isMediaManagerApp();e&&b("CreatorStudioInboxMessengerRankedUsersAction").refreshCreatorStudioInboxMessengerRankedUsersData(c)}d.context&&d.context.logMarkReadStatusActions!==b("emptyFunction")&&(a===b("PageCommItemActionType").MARK_READ||a===b("PageCommItemActionType").MARK_UNREAD)&&d.context.logMarkReadStatusActions(b("nullthrows")(d.props.item.id),d.state.commPlatform,d.state.commItemFolder,a,d.props.mediaManagerInboxRowIndex)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxListStore"),b("CreatorStudioInboxMessengerRankedUsersStore")]};c.calculateState=function(a,c){c=b("PagesManagerInboxFilterStore").getActiveType();var d=null,e=[],f=!1,g=!1,h=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(h!=null){var i;d=(i=h.pageConfig)==null?void 0:i.pageID;f=Boolean((i=h.messengerConfig)==null?void 0:i.showDeleteConversationButton);g=Boolean((i=h.messengerConfig)==null?void 0:i.isBackgroundFolderEnabled)}else{h=b("PagesManagerInboxStore").getConfig();d=h.pageID;f=h.platformConfigs.MESSENGER;g=h.platformConfigs.MESSENGER.isBackgroundFolderEnabled}f=f&&c==="MESSENGER";i=c==="MESSENGER"?b("PagesManagerInboxFilterStore").getActiveOwner().id:null;if(d!=null){h=(a==null?void 0:a.commItemFolder)===b("PageCommItemFolder").PRIORITY&&b("MediaManagerUtils").isMediaManagerApp();h?e=b("CreatorStudioInboxMessengerRankedUsersStore").getRankedUserMercuryThreadPayloadListForAdmin(d,i).filter(function(a){return a.thread_fbid===b("PagesManagerStore").getViewingListItem()}):e=b("PagesManagerInboxListStore").getItemsForAdmin(d,i).filter(function(a){return a.thread_fbid===b("PagesManagerStore").getViewingListItem()})}return{pageID:d,viewingItem:b("PagesManagerStore").getViewingListItem(),commItemFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),shouldShowDeleteButton:f,commPlatform:c,viewingThreadItem:e,backgroundFolderEnabled:g}};var d=c.prototype;d.$2=function(a,c){var d=a.thread_id,e=a.thread_fbid,f=null;this.state.commPlatform==="WEC"&&(f=b("PagesManagerInboxStore").getMailboxID(this.state.commPlatform));a.thread_id===void 0&&(d=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(this.props.item.target_id)),e=b("nullthrows")(this.props.item.target_id));var g=this.state.commItemFolder===b("PageCommItemFolder").PRIORITY&&b("MediaManagerUtils").isMediaManagerApp();switch(c){case b("PageCommItemStatus").DONE:this.state.backgroundFolderEnabled?b("PagesManagerMessagesInterface").changeThreadFolderToBackground(b("nullthrows")(this.state.pageID),d,a.comm_status):this.state.pageID!=null&&b("PagesManagerMessagesInterface").changeThreadFolderToDone(this.state.pageID,d,a.comm_status,g);this.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").TODO:this.state.pageID!=null&&b("PagesManagerMessagesInterface").changeThreadFolderToInbox(this.state.pageID,d,e,a.comm_status,this.state.backgroundFolderEnabled);break;case b("PageCommItemStatus").FOLLOW_UP:this.state.pageID!=null&&b("PagesManagerMessagesInterface").markThreadAsFollowUp(this.state.pageID,d,e,!0,a.comm_status,g);break;case b("PageCommItemStatus").SPAM:this.state.pageID!=null&&b("PagesManagerMessagesInterface").markThreadAsSpam(this.state.pageID,[d],b("MessagingTag").OTHER,b("PageCommItemStatus").SPAM,a.comm_status,a.folder,a.is_archived,g);this.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").DELETED:this.state.pageID!=null&&b("PagesManagerMessagesInterface").markThreadAsDeleted(this.state.pageID,d,f,g);this.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;default:break}this.state.pageID!=null&&b("PagesManagerMessagingThreadlistAction").updateThreadlist(this.state.pageID)};d.render=function(){var a=this.props,c=a.ChildActionClass;a=babelHelpers.objectWithoutPropertiesLoose(a,["ChildActionClass"]);return h.jsx(c,babelHelpers["extends"]({},a,{actionParam:b("PageCommItemStatusUtil").getActionParam(this.state.commPlatform,this.state.commItemFolder,this.state.shouldShowDeleteButton,this.state.viewingThreadItem[0]),onReadStatusChange:this.$3,onStatusChange:this.$1,userID:(c=this)!=null?(c=c.props)!=null?(c=c.item)!=null?(c=c.page_customer)!=null?c.user_id:c:c:c:c}))};return c}(h.PureComponent);d.contextType=a;f=b("FluxContainer").create(d,{withProps:!0});e.exports={PagesManagerInboxActionContainerInner:f,PagesManagerInboxActionContainer:c(f,{item:g!==void 0?g:g=b("PagesManagerInboxActionContainer_item.graphql")})}}),null);
__d("XInstagramDirectMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/unified_inbox/instagram_direct/send/",{request_user_id:{type:"FBID"},client_thread_id:{type:"String"},offline_threading_id:{type:"String"},source:{type:"String"},action_type:{type:"Enum",enumType:1}})}),null);
__d("PageCommItemAssignUniqueOwnerMutation",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemAssignUniqueOwnerMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PageCommItemAssignUniqueOwnerMutation.graphql");function a(a,c){var d=function(c){var d=c.get(a.pageID);if(!d)return;c=c.get(a.commItemID);if(!c)return;var e=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());d=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:e,with_comm_platform:c.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});e=b("PagesManagerInboxFilterStore").getActiveOwner().id;d&&e&&e!==a.adminID&&h.deleteNode(d,a.commItemID)},e={assign_unique_comm_item_owner:{page_comm_item:{id:a.commItemID,comm_item_owners:{nodes:[{admin:{id:a.adminID,name:a.adminName,profile_picture:{uri:a.adminPhotoUrl}}}]}}}};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,optimisticResponse:e,updater:d,variables:{input:{actor_id:a.pageID,admin_id:a.adminID,comm_item_id:a.commItemID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PageCommItemClearOwnersMutation",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PageCommItemClearOwnersMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PageCommItemClearOwnersMutation.graphql");function a(a,c){var d=function(c){var d=c.get(a.pageID);if(!d)return;c=c.get(a.commItemID);if(!c)return;var e=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());d=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:e,with_comm_platform:c.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});e=b("PagesManagerInboxFilterStore").getActiveOwner().id;d&&e&&e!==a.adminID&&h.deleteNode(d,a.commItemID)},e={clear_comm_item_owners:{page_comm_item:{id:a.commItemID,comm_item_owners:{nodes:[]}}}};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,optimisticResponse:e,variables:{input:{actor_id:a.pageID,comm_item_id:a.commItemID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxAdminAssigner.react",["ix","cx","fbt","CurrentUser","IGMessageDataMutateAction","IGMessageServerActions","Image.react","Link.react","MercuryIDs","MercuryThreadActions","PageCommItemAssignUniqueOwnerMutation","PageCommItemClearOwnersMutation","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesManagerAdminSearchSource","PagesManagerInboxCometUtil","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","React","RelayModern","SearchableDropdownInput.contrib","SearchableEntry","Tooltip","UnifiedInboxSearchableDropdownInput.contrib","asset","nullthrows","PagesManagerInboxAdminAssigner_commItem.graphql","PagesManagerInboxAdminAssigner_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function m(){return l.jsx("div",{className:"_wy6"})}function n(a){return[l.jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onRemoveAssigned},b("Tooltip").propsFor(i._("Remove person assigned")),{children:l.jsx("div",{className:"_wy4"})}),"PagesManagerInboxAdminAssigner.removeAssigned"),l.jsx(m,{},"PagesManagerInboxAdminAssigner.divider"),l.jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onAssignToSelf},b("Tooltip").propsFor(i._("Assign to me")),{children:l.jsx("div",{className:"_wy5"})}),"PagesManagerInboxAdminAssigner.assignToMe")]}c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$6=function(a){var d=b("nullthrows")(c.props.page.id);if(c.props.isIGDirect===!0&&c.props.mailboxID!==null&&c.props.mailboxID!==void 0&&c.props.threadID!==null&&c.props.threadID!==void 0){var e=c.props.mailboxID,f=c.props.threadID;b("IGMessageDataMutateAction").updateThreadAdminStatus(e,f,a.getUniqueID(),a.getTitle(),a.getPhoto());e=b("IGMessageServerActions").getForFBID(e);e.updateThreadAdminStatus(f,a.getUniqueID());return}b("PageCommItemAssignUniqueOwnerMutation").commit({adminID:a.getUniqueID(),adminName:a.getTitle(),adminPhotoUrl:a.getPhoto(),commItemID:b("nullthrows")(c.props.commItem.id),pageID:d});e=b("nullthrows")(c.props.commItem.target_id);c.$7([e],a.getTitle(),a.getUniqueID(),a.getPhoto());b("PagesLogger").log(d,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").MULTI_ADMIN_ASSIGNMENT,"unified_inbox");b("PagesManagerInboxLogger").logAdminAssignmentAction(d,"assign","other")};c.$8=function(){if(c.props.isIGDirect===!0&&c.props.mailboxID!==null&&c.props.mailboxID!==void 0&&c.props.threadID!==null&&c.props.threadID!==void 0){var a=c.props.mailboxID,d=c.props.threadID;b("IGMessageDataMutateAction").updateThreadAdminStatus(a,d,null,null,null);a=b("IGMessageServerActions").getForFBID(a);a.updateThreadAdminStatus(d);return}b("PageCommItemClearOwnersMutation").commit({commItemID:b("nullthrows")(c.props.commItem.id),pageID:b("nullthrows")(c.props.page.id)});c.$5.close();a=b("nullthrows")(c.props.commItem.target_id);c.$7([a],null,null,null);b("PagesManagerInboxLogger").logAdminAssignmentAction(b("nullthrows")(c.props.page.id),"unassign","other")};c.$9=function(){var a=b("nullthrows")(c.props.page.page_admin_users).nodes;a=a.filter(function(a){return a.id===b("CurrentUser").getID()})[0];a=(a=a)!=null?(a=a.profile_picture)!=null?a.uri:a:a;b("PageCommItemAssignUniqueOwnerMutation").commit({adminID:b("CurrentUser").getID(),adminName:b("CurrentUser").getName(),adminPhotoUrl:b("nullthrows")(a),commItemID:b("nullthrows")(c.props.commItem.id),pageID:b("nullthrows")(c.props.page.id)});c.$5.close();var d=b("nullthrows")(c.props.commItem.target_id);c.$7([d],b("CurrentUser").getName(),b("CurrentUser").getID(),a);b("PagesManagerInboxLogger").logAdminAssignmentAction(b("nullthrows")(c.props.page.id),"assign","other")};c.$10=function(a){return l.jsx(b("Image.react"),{className:(c.props.shouldShowNewMultiAdminAssignment?"":"_16ny")+(c.props.shouldShowNewMultiAdminAssignment?" _8q1z":""),src:a.getPhoto()})};c.$3=new(b("SearchableEntry"))({uniqueID:0,title:""});c.$4=new(b("PagesManagerAdminSearchSource"))();return c}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=b("nullthrows")(this.props.page.page_admin_users);this.$4.cacheData(a.nodes)};d.$7=function(a,c,d,e){if(b("PagesManagerInboxMercuryUtil").shouldUseMercury()){var f=b("nullthrows")(this.props.page.id);a=a.map(function(a){return b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a))});b("MercuryThreadActions").getForFBID(f).updateCommItemOwner(a,c,d,e)}};d.render=function(){var a=this,c;this.$1=((c=this.props.commItem)==null?void 0:(c=c.comm_item_owners)==null?void 0:(c=c.nodes[0])==null?void 0:(c=c.admin)==null?void 0:c.name)||this.props.adminName;this.$2=((c=this.props.commItem)==null?void 0:(c=c.comm_item_owners)==null?void 0:(c=c.nodes[0])==null?void 0:(c=c.admin)==null?void 0:c.id)||this.props.adminID;(this.$1===null||this.$1===void 0)&&(this.$1=this.props.page.name);this.$3=new(b("SearchableEntry"))({uniqueID:(c=this.$2)!=null?c:0,title:""});return this.props.shouldShowNewMultiAdminAssignment?l.jsx(b("UnifiedInboxSearchableDropdownInput.contrib"),{chevron:l.jsx(b("Image.react"),{src:g("502188")}),className:"_8q1-"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"":" _8q9w")+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?" _8q7-":""),getLeftContentForEntry:this.$10,isRemoveDisabled:this.$2==null,listClassName:"_8q0u",onRemove:this.$8,onSelect:this.$6,ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!0,title:this.$1!==this.props.page.name?i._("Assigned to {admin_name}",[i._param("admin_name",this.$1)]).toString():i._("Assign conversation").toString(),value:this.$1!==null&&this.$1!==void 0&&this.$1!==""?this.$3:null}):l.jsx(b("SearchableDropdownInput.contrib"),{className:"_ol6 _72of",getLeftContentForEntry:this.$10,header:l.jsx(n,{onAssignToSelf:this.$9,onRemoveAssigned:this.$8}),headerClassName:"_wxd",listClassName:"_4wkt",onSelect:this.$6,placeholder:i._("Unassigned"),ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!1,title:i._("Assigned to {admin_name}",[i._param("admin_name",this.$1!==null&&this.$1!==void 0&&this.$1!==""?this.$1:"")]).toString(),value:this.$1!==null&&this.$1!==void 0&&this.$1!==""?this.$3:null})};return c}(l.PureComponent);e.exports=a(c,{commItem:j!==void 0?j:j=b("PagesManagerInboxAdminAssigner_commItem.graphql"),page:k!==void 0?k:k=b("PagesManagerInboxAdminAssigner_page.graphql")})}),null);
__d("PagesManagerInboxQueryRenderer.react",["invariant","ErrorBoundary.react","PagesManagerInboxLogger","React","RelayFBEnvironment","RelayFBLiveEnvironment","RelayModern"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("RelayModern").QueryRenderer;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("ErrorBoundary.react"),{onHandleError:this.$1,children:h.jsx(i,babelHelpers["extends"]({cacheConfig:{force:!1},environment:this.props.isLiveQuery===!0?b("RelayFBLiveEnvironment"):b("RelayFBEnvironment")},this.props,{render:function(b){return a.$2(b)}}))})};d.$1=function(a,c){b("PagesManagerInboxLogger").logErrorJS(a,c)};d.$2=function(a){a.error&&b("PagesManagerInboxLogger").logErrorGraphQL(a.error);var c=this.props.render;c||g(0,2743);return c(a)};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxAdminAssignerRoot.react",["PagesManagerInboxAdminAssigner.react","PagesManagerInboxAdminAssignerNUXContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxAdminAssignerRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxAdminAssignerRootQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?[h.jsx(b("PagesManagerInboxAdminAssigner.react"),babelHelpers["extends"]({ref:function(b){a.assigner=b},shouldShowNewMultiAdminAssignment:a.props.shouldShowNewMultiAdminAssignment},c),"PagesManagerInboxAdminAssignerRoot.assigner"),h.jsx(b("PagesManagerInboxAdminAssignerNUXContainer.react"),{contextRef:function(){return a.assigner}},"PagesManagerInboxAdminAssignerRoot.NUX")]:null},variables:{pageID:this.props.pageID,commItemID:this.props.commItemID}})};return c}(h.Component);e.exports=a}),null);
__d("PageAutomationTrigger",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({POSITIVE_RECOMMENDATION:"positive_recommendation",NEGATIVE_RECOMMENDATION:"negative_recommendation",CRM_REENGAGEMENT:"crm_reengagement",SMART_REPLY_CONTACT:"smart_reply_contact",SMART_REPLY_HOURS:"smart_reply_hours",SMART_REPLY_LOCATION:"smart_reply_location",SMART_REPLY_NEGATIVE_FEEDBACK:"smart_reply_negative_feedback",SMART_REPLY_POSITIVE_FEEDBACK:"smart_reply_positive_feedback",JOB_APPLICATION:"job_application",AWAY_MESSAGE:"away_message",INSTANT_REPLY:"instant_reply",APPOINTMENT_REMINDER:"appointment_reminder",SAVED_REPLY:"saved_reply",MBS_REENGAGEMENT:"mbs_reengagement",ICEBREAKER:"icebreaker",AUTOMATED_CHECKOUT:"automated_checkout",BUYER_INFORMATION_FORM:"buyer_information_form",ORGANIC_INTAKE_FORM:"organic_intake_form",CUSTOM_QUESTIONS:"custom_questions",APPOINTMENT_FOLLOW_UP:"appointment_follow_up"})}),null);
__d("PagesMessagingInboxActionLogger",["PagesMessagingInboxActionsTypedLogger","SavedResponsesUtils"],(function(a,b,c,d,e,f){"use strict";var g;a={init:function(a){g=a},logConnectInstagramDirectButtonClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().addToExtraData("page_id",g).addToExtraData("has_comments_connected",a.toString()).setPlatform("INSTAGRAM_DIRECT").setInboxAction("connect_button_click").log()},logConnectInstagramButtonClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().addToExtraData("page_id",g).addToExtraData("can_connect_igdirect",a.toString()).setPlatform("INSTAGRAM").setInboxAction("connect_button_click").log()},logInitialListRendered:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("inbox_loaded").setPlatform(a).addToExtraData("page_id",c).log()},logSearchButtonClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("search_button_clicked").log()},logPeopleSearchClicked:function(a,c,d,e){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("people_search_clicked").setPlatform(a).addToExtraData("search_type",d).addToExtraData("search_term",c).addToExtraData("customer_platform",e).log()},logSearchResultClicked:function(a,c,d,e){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction(a).setPlatform(c).addToExtraData("search_type",e).addToExtraData("search_term",d).log()},logSearchResultOpened:function(a,c,d){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("search_results_clicked").setPlatform(a).addToExtraData("search_type",c).addToExtraData("item_id",d).log()},logDeleteThreadClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("delete_thread").log()},logGroupActions:function(a,c){new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction(c).addToExtraData("page_id",g).log()},logApplySavedReply:function(a,c,d,e,f,h,i){var j=b("SavedResponsesUtils").extraMacrosFromSavedResponse(e);new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("saved_reply_applied").addToExtraData("page_id",g).addToExtraData("recipient_id",i).addToExtraData("search_term",d).addToExtraData("shortcut_match_term",c).addToExtraData("message",e).addToExtraData("shortcut",f).addToExtraData("has_image",h.toString()).addToExtraData("personalizations",j.join(",")).addToExtraData("automation_type","saved_reply").log()},logUpdateSavedReply:function(a,c,d,e,f,h,i){var j=new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("saved_reply_updated").addToExtraData("page_id",g).addToExtraData("automation_type","saved_reply");if(a!==null){var k;k=b("SavedResponsesUtils").extraMacrosFromSavedResponse((k=a)!=null?k:"");j.addToExtraData("prev_message",(a=a)!=null?a:"").addToExtraData("prev_image_id",(a=f)!=null?a:"").addToExtraData("prev_shortcut",(f=d)!=null?f:"").addToExtraData("prev_macro_list",k.join(","))}if(c!==null){d=b("SavedResponsesUtils").extraMacrosFromSavedResponse((a=c)!=null?a:"");j.addToExtraData("new_message",(f=c)!=null?f:"").addToExtraData("new_image_id",(k=h)!=null?k:"").addToExtraData("new_shortcut",(a=e)!=null?a:"").addToExtraData("new_macro_list",d.join(",")).addToExtraData("corresponding_question",(c=i)!=null?c:"")}j.log()},logSavedReplySortClicked:function(a){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("saved_reply_sorted").addToExtraData("page_id",g).addToExtraData("automation_type","saved_reply").addToExtraData("sorting_key",a).log()},logSavedReplyButtonClicked:function(a,c,d){var e=new(b("PagesMessagingInboxActionsTypedLogger"))().setPlatform(a).setInboxAction("saved_reply_button_clicked").addToExtraData("page_id",g).addToExtraData("shortcut_match_term",c);d&&d.forEach(function(a,b){e.addToExtraData(b,a)});e.log()},logSendButtonClicked:function(a,c,d){new(b("PagesMessagingInboxActionsTypedLogger"))().setInboxAction("send_button_clicked").setPlatform(a).addToExtraData("shortcut_match_term",c).addToExtraData("page_id",g).addToExtraData("enter_to_send_enabled",d.toString()).log()}};e.exports=a}),null);
__d("JobEmployerUtils",["RelayModern","JobEmployerUtils_page.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;function a(a){var b=(a==null?void 0:a.name)||"",c=(a==null?void 0:a.id)||"";return(a==null?void 0:a.username)||b+"-"+c}g!==void 0?g:g=b("JobEmployerUtils_page.graphql");e.exports={getPageToken:a}}),null);
__d("PagesManagerInboxHeaderJobBanner.react",["ix","cx","ActionList.react","CenteredContainer.react","Image","JobEmployerUtils","JobsATSSetStatusDropdown.react","JobSearchATSLogger","JobSearchStrings","Layout.react","LayoutColumn.react","LayoutFillColumn.react","Link.react","React","RelayModern","XPagesManagerManageJobsController","asset","cxMargin","PagesManagerInboxHeaderJobBanner_jobApplication.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;c=a.call(this,c)||this;c.$1=new(b("JobSearchATSLogger"))((d=c.props.jobApplication)==null?void 0:(d=d.job_opening)==null?void 0:(d=d.employer)==null?void 0:d.id,(d=c.props.jobApplication)==null?void 0:(d=d.job_opening)==null?void 0:d.id);return c}var d=c.prototype;d.componentDidMount=function(){this.$1.logJobsMessengerBannerImpression()};d.$2=function(){var a;a=(a=this.props.jobApplication)==null?void 0:(a=a.job_opening)==null?void 0:a.employer;a=b("JobEmployerUtils").getPageToken(a);return b("XPagesManagerManageJobsController").getURIBuilder().setString("page_token",a).setFBID("job_application_id",(a=this.props.jobApplication)==null?void 0:a.id).setEnum("referer_mechanism","page_messenger_banner").setEnum("source","messenger").getURI()};d.render=function(){var a;return j.jsxs(b("Layout.react"),{className:"_7esf",children:[j.jsx(b("LayoutColumn.react"),{className:"_3-8t",children:j.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:j.jsx("div",{className:"_7jvj",children:j.jsx(b("Image"),{className:"_7jvk",source:g("616091")})})})}),j.jsx(b("LayoutFillColumn.react"),{children:j.jsxs("div",{className:"_7esi",children:[j.jsxs(b("ActionList.react"),{className:"_7esj",children:[(a=this.props.jobApplication)==null?void 0:(a=a.job_opening)==null?void 0:(a=a.title)==null?void 0:a.text,(a=this.props.jobApplication)==null?void 0:(a=a.job_opening)==null?void 0:(a=a.long_subtitle)==null?void 0:a.text]}),j.jsx(b("Link.react"),{className:"_7jvl",href:this.$2(),children:b("JobSearchStrings").VIEW_APPLICATION})]})}),j.jsx(b("LayoutColumn.react"),{className:"_3-8t",children:j.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:j.jsx(b("JobsATSSetStatusDropdown.react"),{jobApplication:this.props.jobApplication,logger:this.$1})})})]})};return c}(j.PureComponent);e.exports=a(c,{jobApplication:i!==void 0?i:i=b("PagesManagerInboxHeaderJobBanner_jobApplication.graphql")})}),null);
__d("PageCommItemTypeUtil",[],(function(a,b,c,d,e,f){"use strict";a={isUserCreated:function(a){switch(a){case"FB_MESSAGE":case"FB_REVIEW":case"FB_USER_POST":case"FB_GROUP_POST":case"FB_RECOMMENDATION":case"IG_MESSAGE":return!0}return!1},toPageCommPlatform:function(a){switch(a){case"FB_MESSAGE":return"MESSENGER";case"INSTAGRAM_POST":return"INSTAGRAM";case"WEC_MESSAGE":return"WEC";default:return"FACEBOOK"}}};e.exports=a}),null);
__d("PagesManagerInboxProfilePicContainer.react",["PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","React","RelayModern","nullthrows","PagesManagerInboxProfilePicContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i="/images/pages/wec/wec-group-silhouette.png",j="/images/pages/wec/wec-silhouette.png";c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c,d;d=(d=this.props)!=null?(d=d.item)!=null?(d=d.thumbnail)!=null?d.uri:d:d:d;c=b("nullthrows")((c=this.props)!=null?(c=c.item)!=null?c.comm_type:c:c);a=b("nullthrows")((a=this.props)!=null?(a=a.item)!=null?a.comm_platform:a:a);d!=null&&(d.includes("wec-silhouette.png")?d=j:d.includes("wec-group-silhouette.png")&&(d=i));if(this.props.item.page_comm_item){var e;d=(e=this.props.item.page_comm_item.thumbnail)==null?void 0:e.uri}return h.jsx(b("PagesManagerInboxProfilePic.react"),{commType:c,commPlatform:a,imageSize:this.props.imageSize,imageURI:d,showPlatformBadge:this.props.showPlatformBadge})};return c}(h.PureComponent);c.defaultProps={imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,showPlatformBadge:!0};e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxProfilePicContainer_item.graphql")})}),null);
__d("PagesManagerInboxCometHeaderView.react",["cx","fbt","invariant","ActionList.react","BoostedComponentAppID","BoostedComponentDialogButtonV2Wrapper.react","CenteredContainer.react","Layout.react","PagesManagerAction","PagesManagerInboxActionContainer.react","PagesManagerInboxAdminAssignerRoot.react","PagesManagerInboxCometDetailHeaderAction.react","PagesManagerInboxHeaderJobBanner.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerInboxProfilePicContainer.react","PagesManagerInboxStore","React","RelayModern","Timestamp.react","formatDate","nullthrows","PagesManagerInboxCometHeaderView_commItem.graphql","PagesManagerInboxCometHeaderView_igPost.graphql","PagesManagerInboxCometHeaderView_story.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainer,n=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var o=b("Layout.react").Column,p=b("Layout.react").FillColumn,q=116,r="PageCommItemPart",s=40;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.shouldShowJobsBanner()?b("PagesManagerAction").setHeaderHeight(2*q):b("PagesManagerAction").setHeaderHeight(q)};d.shouldShowJobsBanner=function(){var a,b;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:(a=a[0])==null?void 0:a.job_opening;return a!==null&&a!==void 0&&((b=a.title)==null?void 0:b.text)!==null&&((b=a.title)==null?void 0:b.text)!==void 0&&a.job_status==="OPEN"?!0:!1};d.showBoostButton=function(){var a,c=this.props.commItem.comm_type;a=(a=this.props)!=null?(a=a.story)!=null?a.legacy_story_hideable_id:a:a;return a===null||a===void 0||a===""||c!=="FB_PAGE_POST"?null:n.jsx(b("BoostedComponentDialogButtonV2Wrapper.react"),{appID:b("BoostedComponentAppID").BOOSTED_POST,pageID:this.props.mailboxID,placement:"pages-inbox",targetID:a})};d.showHeaderSubtitle=function(){var a;switch(this.props.commItem.comm_platform){case"INSTAGRAM":var c=null;this.props.igPost.like_count!==null&&this.props.igPost.like_count!==void 0&&this.props.igPost.like_count!==0&&(c=h._({"*":"{number} likes","_1":"1 like"},[h._plural(this.props.igPost.like_count,"number")]));var d=null;this.props.igPost.comment_count!==null&&this.props.igPost.comment_count!==void 0&&this.props.igPost.comment_count!==0&&(d=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.igPost.comment_count,"number")]));return n.jsxs(b("ActionList.react"),{children:[c,d,n.jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.igPost.creation_time,"M j"),time:this.props.igPost.creation_time})]});case"FACEBOOK":d=(c=this.props.story)!=null?(c=c.feedback)!=null?(c=c.reactors)!=null?c.count:c:c:c;c=(c=this.props.story)!=null?(c=c.feedback)!=null?(c=c.comments)!=null?c.count:c:c:c;a=(a=this.props.story)!=null?a.creation_time:a;var e=null;d!==null&&d!==void 0&&d!==0&&(e=h._({"*":"{number} reactions","_1":"1 reaction"},[h._plural(this.props.story.feedback.reactors.count,"number")]));d=null;c!==null&&c!==void 0&&c!==0&&(d=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.story.feedback.comments.count,"number")]));return n.jsxs(b("ActionList.react"),{children:[e,d,a!==null&&a!==void 0&&a!==0&&n.jsx(b("Timestamp.react"),{text:b("formatDate")(a,"M j"),time:a})]});case"MESSENGER":if(!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;this.props.commItem.id!==null&&this.props.commItem.id!==void 0&&this.props.commItem.id!==""||i(0,491);return n.jsx(b("PagesManagerInboxAdminAssignerRoot.react"),{commItemID:this.props.commItem.id,pageID:this.props.mailboxID,shouldShowNewMultiAdminAssignment:this.props.shouldShowNewMultiAdminAssignment})}return null};d.escapedTitle=function(){var a=this.props.commItem.comm_title;return a!==null&&a!==void 0&&a!==""?a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)}):null};d.revampCommentHeaderPic=function(){var a,c,d,e;e=b("nullthrows")((e=this.props)!=null?(e=e.commItem)!=null?e.comm_platform:e:e);d=b("nullthrows")((d=this.props)!=null?(d=d.commItem)!=null?d.comm_type:d:d);a=(a=this.props.commItem)==null?void 0:(a=a.facebook_comment)==null?void 0:(a=a.author)==null?void 0:(a=a.profile_picture)==null?void 0:a.uri;c=(c=this.props.commItem)==null?void 0:c.__typename;return n.jsx(b("PagesManagerInboxProfilePic.react"),{className:"_8g7f",commPlatform:e,commType:d,commentType:c,imageSize:s,imageURI:a,showPlatformBadge:!1})};d.render=function(){var a,c;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:a[0];a=this.shouldShowJobsBanner()&&a!==null&&a!==void 0?n.jsx(b("PagesManagerInboxHeaderJobBanner.react"),{jobApplication:a}):null;if(((c=this.props.commItem)==null?void 0:c.__typename)===r){return n.jsx("div",{children:n.jsxs(b("Layout.react"),{className:"_8g7a",children:[n.jsx(o,{className:"_8g7b",children:n.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.revampCommentHeaderPic()})}),n.jsx(p,{children:n.jsx("div",{className:"_8g7g",children:n.jsx("div",{className:"_8g7h",children:(c=this.props.commItem)==null?void 0:(c=c.facebook_comment)==null?void 0:(c=c.author)==null?void 0:c.name})})})]})})}return n.jsxs("div",{children:[n.jsxs(b("Layout.react"),{className:"_8g7a",children:[n.jsx(o,{className:"_8g7b",children:n.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:n.jsx(b("PagesManagerInboxProfilePicContainer.react"),{imageSize:b("PagesManagerInboxPicSize").CometDetailViewHeaderPicSize,item:this.props.commItem,showPlatformBadge:!1})})}),n.jsx(p,{children:n.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:n.jsx("div",{className:"_8g7g",children:n.jsxs("div",{children:[n.jsx("div",{className:"_8g7e",children:this.escapedTitle()}),n.jsx("div",{className:"_8g7i",children:this.showHeaderSubtitle()})]})})})}),n.jsx(o,{children:n.jsx(m,{ChildActionClass:b("PagesManagerInboxCometDetailHeaderAction.react"),item:this.props.commItem,leftActions:this.showBoostButton(),pageID:this.props.mailboxID})})]}),a]})};return c}(n.PureComponent);e.exports=a(c,{commItem:j!==void 0?j:j=b("PagesManagerInboxCometHeaderView_commItem.graphql"),igPost:k!==void 0?k:k=b("PagesManagerInboxCometHeaderView_igPost.graphql"),story:l!==void 0?l:l=b("PagesManagerInboxCometHeaderView_story.graphql")})}),null);
__d("PagesManagerInboxCometAccordion.react",["cx","Link.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onClick&&c.props.onClick()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return this.props.detailViewMode==="messages"?h.jsxs("div",{children:[this.props.header,this.props.children]}):h.jsxs("div",{className:this.props.className,children:[h.jsx(b("Link.react"),{className:"_6q2e"+(this.props.useDefaultCursor===!0?" _6_nb":""),onClick:this.$1,children:this.props.header}),this.props.children]})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometNavBarHeaderRowCard.react",["cx","fbt","ClickableArea.react","Image.react","PagesManagerInboxCometUtil","React","Tooltip.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=null;this.props.count>20?a=h._("20+"):this.props.count>0&&(a=this.props.count);return i.jsx(b("ClickableArea.react"),{onClick:this.props.onClick,children:i.jsxs("div",{className:(this.props.isSelected?"":"_8e35")+(this.props.isSelected?" _8e36":"")+" _6ph8 _6w26","data-testid":void 0,ref:this.props.rowRef,children:[i.jsx(b("Tooltip.react"),{position:"right",tooltip:this.props.isCollapsed?this.props.title:null,children:i.jsxs("div",{className:(this.props.isSelected?"_8e37":"")+(this.props.isSelected?"":" _8e38")+(this.props.isCollapsed?" _8f5x":""),children:[a!==null&&this.props.isCollapsed?i.jsx("div",{className:(this.props.isSelected?"_8fgv":"")+(this.props.isSelected?"":" _8fgw")+" _8fgx"}):null,i.jsx(b("Image.react"),{className:"_8e39",src:this.props.image})]})}),i.jsxs("div",{className:"_8e3a",children:[this.props.title,a!==null?b("PagesManagerInboxCometUtil").cometBadgeCountText(a,"MESSENGER","messenger_message_count"):null]})]})})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometNavBarMessengerRowCard.react",["ix","cx","fbt","Image.react","LineClamp.react","Link.react","MessengerState.bs","PagesManagerInboxCometUtil","React","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=i._("Messenger"),d=this.props.hideBadgeCount===!0?this.props.isSelected?g("498405"):g("499161"):this.props.isSelected?g("481154"):g("499161");return j.jsx(b("MessengerState.bs").jsComponent,{fbid:this.props.pageID,children:function(e){e=b("MessengerState.bs").unreadCounts(e).inbox?b("MessengerState.bs").unreadCounts(e).inbox.size:b("MessengerState.bs").initialUnreadCounts(e).inbox;a.props.setCountForPlatform("MESSENGER",e);e>20?e=i._("20+"):e===0&&(e=null);return j.jsxs(b("Link.react"),{className:(a.props.isSelected?"":"_8e35")+(a.props.isSelected?" _8e36":"")+" _6ph8 _6w26"+(a.props.hideBadgeCount===!0&&a.props.isCollapsed===!1?" _8e3d":""),"data-testid":void 0,onClick:a.props.onClick,children:[j.jsx(b("Tooltip.react"),{position:"right",tooltip:a.props.isCollapsed?c:null,children:j.jsxs("div",{className:"_6ph7",children:[a.props.hideBadgeCount!==!0&&e!==null&&a.props.isCollapsed?j.jsx("div",{className:(a.props.isSelected?"":"_8fgw")+" _8fgx"}):null,j.jsx("div",{className:(a.props.isSelected&&a.props.hideBadgeCount!==!0?"_8e37":"")+(!a.props.isSelected&&a.props.hideBadgeCount!==!0?" _8e38":""),children:j.jsx(b("Image.react"),{className:"_8e39",src:d})})]})}),j.jsxs("div",{className:"_8e3a",children:[j.jsx(b("LineClamp.react"),{lines:1,children:a.props.isCollapsed?null:c}),a.props.hideBadgeCount!==!0&&e!==null?b("PagesManagerInboxCometUtil").cometBadgeCountText(e,"MESSENGER","messenger_message_count"):j.jsx("div",{className:"_7hm0","data-testid":void 0})]})]})}})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerIGTabUpsell.react",["ix","Image.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesMessagingInboxActionLogger","React","asset"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="page_inbox_instagram_direct_upsell";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;!c.props.isSelected&&!c.$1()&&b("PagesManagerInboxStore").shouldShowNUX(i)&&b("PagesManagerInboxNUXAction").logView(c.$2());return c}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(a!=null){return((a=a.instagramDirectConfig)==null?void 0:a.igAccountID)!==""}else return b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT.igAccountID!==null};d.$2=function(){return b("PagesManagerInboxNUX")[i]};d.render=function(){b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(this.props.isSelected||this.$1()){b("PagesManagerInboxNUXAction").dismiss(this.$2());return null}return b("PagesManagerInboxStore").shouldShowNUX(i)?h.jsx(b("Image.react"),{src:g("638982")}):null};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerPageCommItemEditSubscriptionHandler",[],(function(a,b,c,d,e,f){"use strict";var g=new Map(),h=0,i={_generateToken:function(){return"page_comm_item_edit_subscription_"+h++},addCallback:function(a){var b=i._generateToken();g.set(b,a);return b},removeCallback:function(a){g["delete"](a)},trigger:function(a){g.forEach(function(b){return b(a)})}};e.exports=i}),null);
__d("PagesManagerInboxCometNavBarRowCard.react",["ix","cx","fbt","FluxContainer","IGMessageInboxStore","Image.react","LineClamp.react","Link.react","PagesCommsInboxTypedLogger","PagesManagerIGTabUpsell.react","PagesManagerInboxCometUtil","PagesManagerPageCommItemEditSubscriptionHandler","React","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a){switch(a){case"MESSENGER":return"messenger_message_count";default:return""}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={count:c.props.initialCount},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){if(c.platform==="INSTAGRAM_DIRECT"){a=b("IGMessageInboxStore").getLocallyUpdatedUnreadCount();if(a!=null)return{count:a}}return{count:c.initialCount}};var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("PagesManagerPageCommItemEditSubscriptionHandler").addCallback(function(c){switch(a.props.platform){case"FACEBOOK":var d=c.page_comm_item_edit_subscribe.page.comms_hub_config.facebook_badge_count;a.state.count!==d&&(a.props.setCountForPlatform("FACEBOOK",d),a.setState({count:d}));break;case"INSTAGRAM":a.state.count!==c.page_comm_item_edit_subscribe.page.comms_hub_config.instagram_badge_count&&(a.props.setCountForPlatform("INSTAGRAM",c.page_comm_item_edit_subscribe.page.comms_hub_config.instagram_badge_count),a.setState({count:c.page_comm_item_edit_subscribe.page.comms_hub_config.instagram_badge_count}));break;case"MESSENGER":a.state.count!==c.page_comm_item_edit_subscribe.page.comms_hub_config.fb_messenger_badge_count&&(a.props.setCountForPlatform("MESSENGER",c.page_comm_item_edit_subscribe.page.comms_hub_config.fb_messenger_badge_count),new(b("PagesCommsInboxTypedLogger"))().setEvent("graphql_subscription_received").setFunnel("messenger_badging").setMessageID(c.page_comm_item_edit_subscribe.page_comm_item.id).setMessagingPlatform("messenger").setClientTime(Date.now()).log(),a.setState({count:c.page_comm_item_edit_subscribe.page.comms_hub_config.fb_messenger_badge_count}));break;case"WEC":a.state.count!==c.page_comm_item_edit_subscribe.page.comms_hub_config.wec_badge_count&&(a.props.setCountForPlatform("WEC",c.page_comm_item_edit_subscribe.page.comms_hub_config.wec_badge_count),a.setState({count:c.page_comm_item_edit_subscribe.page.comms_hub_config.wec_badge_count}));break}})};d.componentDidUpdate=function(a,b){this.props.platform==="INSTAGRAM_DIRECT"&&b!=null&&b.count!==this.state.count&&this.props.setCountForPlatform(this.props.platform,this.state.count)};d.componentWillUnmount=function(){this.$1!==null&&this.$1!==void 0&&b("PagesManagerPageCommItemEditSubscriptionHandler").removeCallback(this.$1)};d.render=function(){var a,c;switch(this.props.platform){case"MESSENGER":a=this.props.isSelected?g("481154"):g("499161");c=i._("Messenger");break;case"INSTAGRAM_DIRECT":a=this.props.hideBadgeCount===!0?this.props.isSelected?g("1100607"):g("1115909"):this.props.isSelected?g("1082530"):g("1115909");c=i._("Instagram Direct");break;case"FACEBOOK":a=this.props.isSelected?g("804741"):g("835335");c=i._("Facebook");this.props.isCollapsed&&(c=i._("Facebook comments"));break;case"INSTAGRAM":a=this.props.isSelected?g("687389"):g("687386");c=i._("Instagram");this.props.isCollapsed&&(c=i._("Instagram comments"));break}var d=null;this.state.count!==null&&this.state.count!==void 0&&this.state.count>0&&(d=this.state.count>20?i._("20+"):this.state.count);var e=null;this.props.platform==="INSTAGRAM_DIRECT"&&(e=j.jsx(b("PagesManagerIGTabUpsell.react"),{isSelected:this.props.isSelected}));return j.jsxs(b("Link.react"),{className:(this.props.isSelected?"":"_8e35")+(this.props.isSelected?" _8e36":"")+" _6ph8 _6w26"+(this.props.isSelected&&this.props.platform==="MESSENGER"?" _6jio":"")+(this.props.isSelected&&this.props.platform==="FACEBOOK"?" _6jip":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM"?" _6jiq":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM_DIRECT"?" _6z7o":"")+(this.props.hideBadgeCount===!0&&this.props.isCollapsed===!1?" _8e3d":""),"data-testid":void 0,onClick:this.props.onClick,children:[j.jsx(b("Tooltip.react"),{position:"right",tooltip:this.props.isCollapsed?c:null,children:j.jsxs("div",{className:"_6ph7",children:[d!==null&&this.props.isCollapsed&&this.props.hideBadgeCount!==!0?j.jsx("div",{className:(this.props.isSelected?"":"_8fgw")+" _8fgx"}):null,j.jsx("div",{className:(this.props.isSelected&&this.props.hideBadgeCount!==!0?"_8e37":"")+(!this.props.isSelected&&this.props.hideBadgeCount!==!0?" _8e38":""),children:j.jsx(b("Image.react"),{className:"_8e39",src:a})}),j.jsx("div",{children:this.props.isCollapsed&&this.props.platform==="INSTAGRAM_DIRECT"?j.jsx("div",{className:"_7kx1",children:e}):null})]})}),j.jsxs("div",{className:"_8e3a",children:[j.jsx(b("LineClamp.react"),{lines:1,children:this.props.isCollapsed?null:c}),d!==null&&this.props.platform!=null&&this.props.hideBadgeCount!==!0?b("PagesManagerInboxCometUtil").cometBadgeCountText(d,this.props.platform,k(this.props.platform)):j.jsx("div",{className:"_7hm0","data-testid":void 0})]}),e]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxCometNavBlock.react",["cx","PagesManagerInboxCometAccordion.react","PagesManagerInboxCometNavBarHeaderRowCard.react","PagesManagerInboxCometNavBarMessengerRowCard.react","PagesManagerInboxCometNavBarRowCard.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={counts:c.$1()},c.$2=function(a,b){c.setState(function(c){c=c.counts;c[a]=b;return c})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a={};this.props.rows.forEach(function(b){if(!b.shouldShow)return;b.count!==void 0&&(a[b.platform]=b.count)});return a};d.$3=function(){var a=this,b=0;this.props.rows.forEach(function(c){if(!c.shouldShow)return;b+=a.state.counts[c.platform]});return b};d.$4=function(a){return this.props.detailViewMode==="messages"?h.jsx("div",{className:"_8hs9",children:this.props.isCollapsed?null:this.props.headerTitle}):h.jsx(b("PagesManagerInboxCometNavBarHeaderRowCard.react"),{count:this.$3(),countId:this.props.countID,image:a?this.props.selectedIcon:this.props.unselectedIcon,isCollapsed:this.props.isCollapsed,isSelected:a,onClick:b("emptyFunction"),rowId:this.props.rowId,rowRef:this.props.rowRef,title:this.props.headerTitle})};d.render=function(){var a=this;if(this.props.shouldShow===!1)return null;var c=!1;this.props.rows.length>0?this.props.rows.forEach(function(b){if(!b.shouldShow)return;a.props.detailViewMode===a.props.selectedNavMode&&!c&&(c=b.platform===a.props.filterSelected)}):c=this.props.selectedNavMode===this.props.detailViewMode;return h.jsx(b("PagesManagerInboxCometAccordion.react"),{detailViewMode:this.props.detailViewMode,disableCollapse:!c,header:this.$4(c),onClick:function(){c||(a.props.rows.length>0?a.props.formatChange(a.props.rows[0].platform,a.props.detailViewMode):a.props.formatChange(a.props.filterSelected,a.props.detailViewMode))},children:this.props.rows&&this.props.rows.map(function(d,e){return d.shouldShow?d.platform==="MESSENGER"?h.jsx("div",{children:h.jsx(b("PagesManagerInboxCometNavBarMessengerRowCard.react"),{initialCount:d.count,isCollapsed:a.props.isCollapsed,isSelected:a.props.filterSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$2},d.rowPlatformId)},d.rowPlatformId):h.jsx("div",{children:h.jsx(b("PagesManagerInboxCometNavBarRowCard.react"),{initialCount:d.count!==null&&d.count!==void 0?d.count:0,isCollapsed:a.props.isCollapsed,isSelected:a.props.filterSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,platform:d.platform,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$2,shouldShowNewCommentFlow:!!a.props.shouldShowNewCommentFlow})},d.rowPlatformId):null})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavBarSavedResponsesNUX.react",["fbt","FDSText.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="saved_responses_to_automated_responses",j="business_inbox_ig_direct_automated_response";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowSaveResponseNUX:d.$1(),shouldShowIGAutomatedResponseNUX:d.$2()},d.$4=function(){d.state.shouldShowSaveResponseNUX===!0?(b("PagesManagerInboxNUXAction").dismiss(d.$3(i)),d.setState({shouldShowSaveResponseNUX:!1})):d.state.shouldShowIGAutomatedResponseNUX&&(b("PagesManagerInboxNUXAction").dismiss(d.$3(j)),d.setState({shouldShowIGAutomatedResponseNUX:!1}))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$3(i));return a};d.$2=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(j);a&&b("PagesManagerInboxNUXAction").logView(this.$3(j));return a};d.$3=function(a){return b("PagesManagerInboxNUX")[a]};d.render=function(){return h.jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,customwidth:240,offsetX:8,onCloseButtonClick:this.$4,position:"below",shown:this.state.shouldShowSaveResponseNUX||this.state.shouldShowIGAutomatedResponseNUX,width:"custom",children:h.jsxs(b("FDSText.react"),{color:"white",size:"body3",children:[this.state.shouldShowSaveResponseNUX?g._("Edit your instant reply and away message in the Automated responses tab."):null,this.state.shouldShowIGAutomatedResponseNUX?g._("Now you can send instant replies and away messages on both Messenger and Instagram."):null]})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxUnifiedThreadlistCometNavBlock.react",["cx","fbt","PagesManagerInboxCometAccordion.react","PagesManagerInboxCometNavBarHeaderRowCard.react","PagesManagerInboxCometNavBarMessengerRowCard.react","PagesManagerInboxCometNavBarRowCard.react","React","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={counts:c.$1()},c.$2=function(a,b){c.setState(function(c){c=c.counts;c[a]=b;return c})},c.$4=function(){c.props.formatChange("ALL",c.props.detailViewMode)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a={};this.props.rows.forEach(function(b){if(!b.shouldShow)return;b.count!==void 0&&(a[b.platform]=b.count)});return a};d.$3=function(){var a=this,b=0;this.props.rows.forEach(function(c){if(!c.shouldShow)return;b+=a.state.counts[c.platform]});return b};d.$5=function(a){return i.jsxs(i.Fragment,{children:[this.props.shouldShowUnifiedThreadlistSeparatedTab===!0?i.jsx("div",{className:"_8hs9",children:this.props.isCollapsed?null:this.props.headerTitle}):null,i.jsx(b("PagesManagerInboxCometNavBarHeaderRowCard.react"),{count:this.$3(),countId:this.props.countID,image:a?this.props.selectedIcon:this.props.unselectedIcon,isCollapsed:this.props.isCollapsed,isSelected:a,onClick:this.$4,rowId:this.props.rowId,rowRef:this.props.rowRef,title:this.props.shouldShowUnifiedThreadlistSeparatedTab===!0?h._("All messages"):this.props.headerTitle})]})};d.render=function(){var a=this;if(this.props.shouldShow===!1)return null;var c=this.props.rows.some(function(b){return b.shouldShow&&b.platform===a.props.filterSelected})&&this.props.selectedNavMode===this.props.detailViewMode;return i.jsx(b("PagesManagerInboxCometAccordion.react"),{detailViewMode:this.props.detailViewMode,disableCollapse:!c,header:this.$5(this.props.utlFolderSelected==="ALL"&&c),onClick:b("emptyFunction"),children:this.props.rows&&this.props.rows.map(function(d,e){return d.shouldShow?d.platform==="MESSENGER"?i.jsx("div",{className:a.props.shouldShowUnifiedThreadlistSeparatedTab!==!0?"_8nzr":"",children:i.jsx(b("PagesManagerInboxCometNavBarMessengerRowCard.react"),{hideBadgeCount:!0,initialCount:d.count,isCollapsed:a.props.isCollapsed,isSelected:a.props.utlFolderSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$2},d.rowPlatformId)},d.rowPlatformId):i.jsx("div",{className:a.props.shouldShowUnifiedThreadlistSeparatedTab!==!0?"_8nzr":"",children:i.jsx(b("PagesManagerInboxCometNavBarRowCard.react"),{hideBadgeCount:!0,initialCount:d.count!==null&&d.count!==void 0?d.count:0,isCollapsed:a.props.isCollapsed,isSelected:a.props.utlFolderSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,platform:d.platform,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$2,shouldShowNewCommentFlow:!!a.props.shouldShowNewCommentFlow})},d.rowPlatformId):null})})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxUtils",["fbt","AdsMessengerPartialAutomatedCreationTypes","BIZInboxClientLogger","IGMessageDataMutateAction","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAction","PagesManagerInboxFilterAction","PagesManagerInboxLogger","PagesManagerInboxUnifiedThreadlistUtil","URI","ads-lib-urllib","getUniqueValuesForStringArray","shallowArrayEqual"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,j=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,k=1,l=1440;a=function(a,c,d,e,f,g){d!==a&&b("PagesManagerInboxFilterAction").changeFolder(f,g!=null?g:b("PageCommItemFolder").TODO,a),b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerInboxFilterAction").toggleFolderSelector(!1),b("PagesManagerInboxLogger").logPlatformChangedClicked(a,c),b("PagesManagerInboxFilterAction").changeType(f,a),b("PagesManagerInboxAction").setNavMode(c),b("BIZInboxClientLogger").logPlatformClick(f,d,a,e,c)};c=function(a,c,d,e,f){b("PagesManagerInboxFilterAction").changeActiveUTLFolder(a),d!==a&&b("PagesManagerInboxFilterAction").changeFolder(f,b("PageCommItemFolder").TODO,a),a!=="ALL"?b("PagesManagerInboxFilterAction").changePlatform(a,f):b("PagesManagerInboxFilterAction").changeType(f,"MESSENGER"),b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerInboxFilterAction").toggleFolderSelector(!1),b("PagesManagerInboxLogger").logPlatformChangedClicked(a,c),b("PagesManagerInboxAction").setNavMode(c),b("BIZInboxClientLogger").logPlatformClick(f,d,a,e,c)};d=function a(b){var c=b;Array.isArray(b)?c=b.map(a):b===Object(b)&&(c={},Object.keys(b).forEach(function(d){return c[d]=a(b[d])}));return c};var m=function(a,c,d,e,f,g,j,k){var l={mediaError:null,ctaErrors:[],welcomeTextError:null,imageTitleError:null,errorText:k.errorText,questionnaireWelcomeTextError:null,questionnaireThanksTextError:null,questionnaireStopQuestionsError:null,questionnaireReminderError:null,questionnaireErrors:[]},m=!1;a=a.trim();a||(l.welcomeTextError=k.welcomeTextError,m=!0);if(c&&c.length>0){var n=(a=k)!=null?(a=a.ctaErrors)!=null?(a=a[0])!=null?a.ctaLabelError:a:a:a,o=(a=k)!=null?(a=a.ctaErrors)!=null?(a=a[0])!=null?a.ctaURLError:a:a:a,p=(a=k)!=null?(a=a.ctaErrors)!=null?(a=a[1])!=null?a.ctaURLError:a:a:a;c.forEach(function(a,c){var d=null,e=null,f=a.content&&a.content.toString().trim();!f&&n&&(d=n,m=!0);f=a.url;!f?o&&(e=o,m=!0):a.type==="button"&&(!b("ads-lib-urllib").isUrl(f)||!(h||(h=b("URI"))).isValidURI(b("ads-lib-urllib").normalize(f)))&&p&&(e=p,m=!0);a={buttonNumber:c,ctaLabelError:d,ctaURLError:e};l.ctaErrors.push(a)})}if(e==="image")if(!d)l.mediaError=k.mediaError,l.imageTitleError=k.imageTitleError,m=!0;else{a=d.title&&d.title.trim();(d.type!=="image"||!d.url)&&(l.mediaError=k.mediaError,m=!0);!a&&((c=k)!=null?c.imageTitleError:c)&&(l.imageTitleError=k.imageTitleError,m=!0)}e==="video"&&(!d||!d.url||d.type!=="video")&&(l.mediaError=k.mediaError,m=!0);if(f){f.introMessage.trim()||(l.questionnaireWelcomeTextError=k.questionnaireWelcomeTextError,m=!0);f.thankYouMessage.trim()||(l.questionnaireThanksTextError=k.questionnaireThanksTextError,m=!0);(!g||!g.trim())&&(l.questionnaireStopQuestionsError=k.questionnaireStopQuestionsError,m=!0);(!j||!j.trim())&&(l.questionnaireReminderError=k.questionnaireReminderError,m=!0);a=!1;f.questionMessages.forEach(function(b,c){b.message.trim()&&(a=!0);if(b.answerType===i.MULTIPLE_CHOICE){b=b.answers.filter(function(a){return a.trim().length});if(b.length<2){c={questionNumber:c,error:(b=k.questionnaireErrors[1])==null?void 0:b.error};l.questionnaireErrors.push(c);m=!0}}});if(!a){e={questionNumber:0,error:(c=k.questionnaireErrors[0])==null?void 0:c.error};l.questionnaireErrors.push(e);m=!0}}if(!m)return null;l.errorText=k.errorText;return l};f=function(a,c){var d=null,e=a.reengagementMessages;for(var f=0;f<e.length;f++){var h=e[f];d=m(h.messageText,h.ctas,h.attachment,h.attachmentType,null,null,null,c);d===null&&(h.triggerTimeMin>l||h.triggerTimeMin<k)&&(d=n(g._("Message must include a valid send time.")));if(d!==null)break}h=a.reengagementRules;c=h.mainRules.concat(h.andRules).concat(h.notRules);f=b("getUniqueValuesForStringArray")(c);d===null&&(h.mainRules.length<1||!b("shallowArrayEqual")(c,f))&&(d=n(g._("Rule must include valid events.")));return d};var n=function(a){return{mediaError:null,ctaErrors:[],welcomeTextError:null,imageTitleError:null,errorText:a,questionnaireWelcomeTextError:null,questionnaireThanksTextError:null,questionnaireStopQuestionsError:null,questionnaireReminderError:null,questionnaireErrors:[]}},o=function(a,c,d){a!==b("PageCommItemFolder").INSTAGRAM_THREADS&&a!==b("PageCommItemFolder").MESSENGER_THREADS&&(c==="INSTAGRAM_DIRECT"||j())&&b("IGMessageDataMutateAction").forceFetchInbox(d,20,b("PageCommItemFolder").TODO,!1,!1,null,!1)};e.exports={changeInboxTab:a,changeSelectedUTLFolder:c,clone:d,getErrorSpecsForComposer:m,getErrorSpecsForReengagement:f,setDefaultIGDirectFolder:o}}),null);
__d("PagesManagerInboxCometNavBar.react",["ix","cssVar","cx","fbt","FDSLink.react","FDSText.react","PagesManagerInboxCometNavBlock.react","PagesManagerInboxLogger","PagesManagerInboxNavBarSavedResponsesNUX.react","PagesManagerInboxUnifiedThreadlistCometNavBlock.react","PagesManagerInboxUtils","React","RoundImage.react","TetraUnitHeader.react","XPagesProfileHomeController","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("PagesManagerInboxUtils").changeInboxTab,l=b("PagesManagerInboxUtils").changeSelectedUTLFolder,m=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isCollapsed:window.innerWidth<=parseInt("1279px",10)},c.$4=function(){var a=window.innerWidth<=parseInt("1279px",10);c.setState({isCollapsed:a})},c.$5=function(a,b){k(a,b,c.props.filterSelected,c.props.selectedNavMode,c.props.pageID)},c.$6=function(a,b){l(a,b,c.props.utlFolderSelected,c.props.selectedNavMode,c.props.pageID)},c.$7=function(a){c.$1=a},c.$8=function(a){c.$2=a},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$3(),window.addEventListener("resize",this.$4)};d.$3=function(){b("PagesManagerInboxLogger").logAutomatedResponsesRendered()};d.$9=function(){var a=b("XPagesProfileHomeController").getURIBuilder().setString("page_token",this.props.pageID).getURI();return this.state.isCollapsed?m.jsx("div",{className:"_8f5v",children:m.jsx(b("FDSLink.react"),{display:"block",href:a,children:m.jsx(b("RoundImage.react"),{height:36,src:this.props.pageProfilePicURI,width:36})})}):m.jsx(b("TetraUnitHeader.react"),{headline:j._("Inbox"),level:2,meta:m.jsxs(b("FDSText.react"),{color:"secondary",size:"body3",weight:"normal",children:[" ",j._("{Page's name} > Inbox",[j._param("Page's name",m.jsx(b("FDSLink.react"),{display:"truncateInline",href:a,children:this.props.pageName}))])]}),metaLocation:"above"})};d.$10=function(a){return m.jsx("div",{className:(this.state.isCollapsed?"":"_8hsn")+(this.state.isCollapsed?" _8hsa":""),style:{marginTop:a?12:17}})};d.render=function(){var a=this;return m.jsxs("div",{children:[this.$9(),m.jsxs("div",{className:"_8dau","data-testid":"list_nav_container",style:{height:this.props.height},children:[this.$10(!0),this.props.shouldShowUnifiedThreadlist===!0?m.jsx(b("PagesManagerInboxUnifiedThreadlistCometNavBlock.react"),{countID:"message_count",detailViewMode:"messages",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Messages"),initialExpanded:!0,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"messages_header_row_card",rowRef:this.$7,rows:[{shouldShow:!0,platform:"MESSENGER",rowPlatformId:"messenger_row_card",count:this.props.badgeCountMap.MESSENGER},{shouldShow:this.props.showIGDirect,platform:"INSTAGRAM_DIRECT",rowPlatformId:"ig_direct_row_card",count:this.props.badgeCountMap.INSTAGRAM_DIRECT}],selectedIcon:g("561663"),selectedNavMode:this.props.selectedNavMode,shouldShowUnifiedThreadlistSeparatedTab:this.props.shouldShowUnifiedThreadlistSeparatedTab,shouldUpdateBadgeCountLocally:!0,unselectedIcon:g("591503"),utlFolderSelected:this.props.utlFolderSelected}):m.jsx(b("PagesManagerInboxCometNavBlock.react"),{countID:"message_count",detailViewMode:"messages",filterSelected:this.props.filterSelected,formatChange:this.$5,headerTitle:j._("Messages"),initialExpanded:!0,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"messages_header_row_card",rowRef:this.$7,rows:[{shouldShow:!0,platform:"MESSENGER",rowPlatformId:"messenger_row_card",count:this.props.badgeCountMap.MESSENGER},{shouldShow:this.props.showWEC,platform:"WEC",count:this.props.badgeCountMap.WEC,rowPlatformId:"wec_row_card"},{shouldShow:this.props.showIGDirect,platform:"INSTAGRAM_DIRECT",rowPlatformId:"ig_direct_row_card",count:this.props.badgeCountMap.INSTAGRAM_DIRECT}],selectedIcon:g("561663"),selectedNavMode:this.props.selectedNavMode,shouldUpdateBadgeCountLocally:!0,unselectedIcon:g("591502")}),this.props.isDelegatePage?null:this.$10(!1),m.jsx(b("PagesManagerInboxCometNavBlock.react"),{countID:"comment_count",detailViewMode:"messages",filterSelected:this.props.filterSelected,formatChange:this.$5,headerTitle:j._("Comments & More"),initialExpanded:!0,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"comments_header_row_card",rows:[{shouldShow:!0,platform:"FACEBOOK",count:this.props.badgeCountMap.FACEBOOK,rowPlatformId:"facebook_row_card"},{shouldShow:!0,platform:"INSTAGRAM",count:this.props.badgeCountMap.INSTAGRAM,rowPlatformId:"ig_row_card"}],selectedIcon:g("561689"),selectedNavMode:this.props.selectedNavMode,shouldShow:!this.props.isDelegatePage,shouldShowNewCommentFlow:this.props.shouldShowNewCommentFlow,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("567245")}),this.$10(!1),m.jsx(b("PagesManagerInboxCometNavBlock.react"),{detailViewMode:"automated_responses",filterSelected:this.props.filterSelected,formatChange:this.$5,headerTitle:j._("Automated Responses"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"automation_card",rowRef:this.$8,rows:[],selectedIcon:g("587537"),selectedNavMode:this.props.selectedNavMode,shouldShow:!0,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("587536")}),m.jsx(b("PagesManagerInboxNavBarSavedResponsesNUX.react"),{contextRef:function(){return a.$2}}),m.jsx(b("PagesManagerInboxCometNavBlock.react"),{detailViewMode:"email_campaign",filterSelected:this.props.filterSelected,formatChange:this.$5,headerTitle:j._("Email"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"commerce_email",rows:[],selectedIcon:g("494521"),selectedNavMode:this.props.selectedNavMode,shouldShow:this.props.showCommerceEmail,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("506660")}),m.jsx(b("PagesManagerInboxCometNavBlock.react"),{detailViewMode:"email_campaign",filterSelected:this.props.filterSelected,formatChange:this.$5,headerTitle:j._("Marketing Emails"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"email_card",rows:[],selectedIcon:g("494521"),selectedNavMode:this.props.selectedNavMode,shouldShow:this.props.showEmailCampaign,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("506660")}),m.jsx(b("PagesManagerInboxCometNavBlock.react"),{detailViewMode:"contacts",filterSelected:this.props.filterSelected,formatChange:this.$5,headerTitle:j._("Contacts"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"contact_card",rows:[],selectedIcon:g("709456"),selectedNavMode:this.props.selectedNavMode,shouldShow:this.props.showEmailCampaign,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("709455")}),m.jsx(b("PagesManagerInboxCometNavBlock.react"),{detailViewMode:"lead_email",filterSelected:this.props.filterSelected,formatChange:this.$5,headerTitle:j._("Email"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"lead_email",rows:[],selectedIcon:g("494521"),selectedNavMode:this.props.selectedNavMode,shouldShow:this.props.showLeadEmail,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("506660")})]})]})};return c}(m.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometNavContainer.react",["FluxContainer","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxCometNavBar.react","PagesManagerInboxFilterStore","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,h=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlistSeparatedTab,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a){a=b("PagesManagerInboxStore").getConfig();var c=a.validPlatformTypes,d=b("PagesManagerInboxFilterStore").getActiveFolder();d!==b("PageCommItemFolder").TODO&&(c=c.filter(function(a){return a!=="WEC"}));d=b("PagesManagerInboxFilterStore").getActiveType();var e=b("PagesManagerInboxFilterStore").getActiveUTLFolder();return{filterType:d,layoutHeight:b("PagesManagerStore").getLayoutHeight(),validPlatformTypes:c,showCommerceEmail:a.showCommerceEmail,showEmailCampaign:a.showEmailCampaign,showLeadEmail:a.showLeadEmail,navMode:b("PagesManagerInboxStore").getCurrentNavMode(),badgeCountMap:a.badgeCounts,shouldShowNewCommentFlow:a.platformConfigs.FACEBOOK.selectedCommentView==="TOP_LEVEL_COMMENT",utlFolderSelected:e}};var d=c.prototype;d.render=function(){return i.jsx(b("PagesManagerInboxCometNavBar.react"),{badgeCountMap:this.state.badgeCountMap,filterSelected:this.state.filterType,height:this.state.layoutHeight,isDelegatePage:b("PagesManagerInboxStore").getConfig().isDelegatePage,pageID:this.props.pageID,pageName:this.props.pageName,pageProfilePicURI:this.props.pageProfilePicURI,selectedNavMode:this.state.navMode,shouldShowNewCommentFlow:this.state.shouldShowNewCommentFlow,shouldShowUnifiedThreadlist:g(),shouldShowUnifiedThreadlistSeparatedTab:h(),showCommerceEmail:this.state.showCommerceEmail,showEmailCampaign:this.state.showEmailCampaign,showIGDirect:this.state.validPlatformTypes.includes("INSTAGRAM_DIRECT"),showLeadEmail:this.state.showLeadEmail,showWEC:this.state.validPlatformTypes.includes("WEC"),utlFolderSelected:this.state.utlFolderSelected})};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("MediaManagerFBCommsDetailView.react",["cx","AYMTClientSideLogging","FlexLayout.react","FlexLayoutItem.react","Layout.react","LayoutFillColumn.react","LineClamp.react","MediaManagerInboxContext.react","PageCommItemFolder","React","SUIButton.react","SUICard.react","SUIText.react","URI","cxMargin","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var i=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){if(this.props.item!=null&&this.context&&this.context.logRowPreviewImpression!==b("emptyFunction")){this.context.logRowPreviewImpression(this.props.item.node.id,"MEDIA_MANAGER_FB_COMMS",this.props.mediaManagerInboxRowIndex,b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS);var a=this.props.item.node;a.tipName!=null&&a.channelID!=null&&a.tipName!==""&&b("AYMTClientSideLogging").logImpression(a.id,a.channelID)}};d.$1=function(a,c){var d=this;return function(){d.context.logClickMessageCta(d.props.item.node.id,"MEDIA_MANAGER_FB_COMMS","FB_COMMS_AYMT",d.props.mediaManagerInboxRowIndex,b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS);var e=d.props.item.node;e.tipName!=null&&e.channelID!=null&&e.tipName!==""&&b("AYMTClientSideLogging").logClick(e.id,e.channelID);c?(h||(h=b("URI"))).go(a):(h||(h=b("URI"))).goURIOnNewWindow(a)}};d.render=function(){if(this.props.item==null)return null;var a=this.props.item.node;return i.jsx(b("Layout.react"),{style:{height:this.props.height},children:i.jsx(b("LayoutFillColumn.react"),{className:"_8ax6",children:i.jsx(b("SUICard.react"),{margin:"_3-8u _3-8z",children:i.jsxs(b("FlexLayout.react"),{className:"_8v_x",direction:"vertical",children:[i.jsxs(b("FlexLayout.react"),{className:"_8v_y",direction:"vertical",children:[i.jsx(b("LineClamp.react"),{enableTooltipOnOverflow:!0,lines:2,children:i.jsx(b("SUIText.react"),{color:"primary",margin:"_3-95",size:"body1",weight:"bold",children:a.title})}),i.jsx(b("LineClamp.react"),{enableTooltipOnOverflow:!0,lines:5,children:i.jsx(b("SUIText.react"),{color:"primary",size:"body2",children:a.body})})]}),i.jsx(b("FlexLayoutItem.react"),{align:"end",children:i.jsx(b("SUIButton.react"),{label:a.cta.label,onClick:this.$1(a.cta.action,a.cta.shouldLoadInSameWindow),use:"confirm"})})]})})})})};return c}(i.PureComponent);c.contextType=a;e.exports=c}),null);
__d("MediaManagerInboxFBCommsActions",["MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES,pageID:a})};c=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES,pageID:a})};d=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_FINISHED,pageID:a,messagesObject:c})};f=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_ERROR,pageID:a,error:c})};var h=function(a,c,d){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_FB_COMMS_SET_MESSAGE_SEEN,pageID:a,message:c,clickedTime:d})},i=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_BADGE_COUNT,pageID:a})},j=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_BADGE_COUNT_FINISHED,pageID:a,badgeCount:c})},k=function(a,c){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_BADGE_COUNT_ERROR,pageID:a,error:c})},l=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_FB_COMMS_DECREMENT_BADGE_COUNT,pageID:a})};e.exports={loadFBCommsMessages:a,loadMoreFBCommsMessages:c,loadFBCommsMessagesFinished:d,loadFBCommsMessagesError:f,setFBCommsMessageSeen:h,loadFBCommsBadgeCount:i,loadFBCommsBadgeCountFinished:j,loadFBCommsBadgeCountError:k,decrementFBCommsBadgeCount:l}}),null);
__d("MediaManagerFBCommsStore",["fbt","FluxLoadObjectStore","MediaManagerActionTypes","MediaManagerInboxFBCommsActions","MediaManagerInboxLogUtils","PagesManagerDispatcher","RelayFBEnvironment","RelayModern","immutable","promiseDone","MediaManagerFBCommsStoreQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("MediaManagerActionTypes").MediaManagerActionTypes,j=b("MediaManagerInboxFBCommsActions").loadFBCommsMessagesError,k=b("MediaManagerInboxFBCommsActions").loadFBCommsMessagesFinished,l=b("MediaManagerInboxLogUtils").mediaManagerInboxLoggingEvent,m=b("RelayModern").fetchQuery;b("RelayModern").graphql;var n=h!==void 0?h:h=b("MediaManagerFBCommsStoreQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return[this.getActionTypeStartLoad(),i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_FINISHED,i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES,i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_ERROR,i.MEDIA_MANAGER_INBOX_FB_COMMS_SET_MESSAGE_SEEN]};d.reduce=function(a,b){var c;switch(b.type){case i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES:c=(c=a.get(b.pageID))==null?void 0:c.getValue();(c==null||c.hasNextPage)&&this.__load(b.pageID);return a;case i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_FINISHED:l("fb_comms_tips_loaded",null,"MEDIA_MANAGER_FB_COMMS",{num_tips:b.messagesObject.messages.size.toString()});return this.__handleOne(a,b.pageID,b.messagesObject);case i.MEDIA_MANAGER_INBOX_LOAD_FB_COMMS_MESSAGES_ERROR:return this.__handleOne(a,b.pageID,b.error);case i.MEDIA_MANAGER_INBOX_FB_COMMS_SET_MESSAGE_SEEN:c=a.get(b.pageID);if(c.hasValue()){c=c.getValue();if(c!=null){var d=c.messages;d=d.find(function(a){return a.node.id===b.message.node.id});d.node.clickedTime=b.clickedTime;return this.__handleOne(a,b.pageID,c)}}return a;default:return a}};d.__load=function(a){var c=this.get(a).getValue(),d=c!=null?c.endCursor:null;l("fb_comms_load_tips",null,"MEDIA_MANAGER_FB_COMMS",{end_cursor:d!=null?d:""});b("promiseDone")(m(b("RelayFBEnvironment"),n,{page_id:String(a),after:d}),function(d){var e;e=(e=d.viewer)==null?void 0:(e=e.inbox_fb_comms_rows)==null?void 0:e.nodes;var f={endCursor:null,hasNextPage:!1,messages:b("immutable").List()};if(e!=null){var h;h=(h=d.viewer)==null?void 0:(h=h.inbox_fb_comms_rows)==null?void 0:(h=h.page_info)==null?void 0:h.end_cursor;d=(d=(d=d.viewer)==null?void 0:(d=d.inbox_fb_comms_rows)==null?void 0:(d=d.page_info)==null?void 0:d.has_next_page)!=null?d:!1;var i=null,j=null,l=null,m=null,n=null,o=null,p=null,q=!1,r=null,s=null;e=e.reduce(function(b,c){if(c.__typename==="InboxAYMTRow"){var d=c.content;i=d==null?void 0:d.id;j=d==null?void 0:d.tip_name;l=d==null?void 0:d.channel_id;m=d==null?void 0:d.title;n=d==null?void 0:d.body;o=d==null?void 0:d.button_label;p=d==null?void 0:d.button_uri;q=!!(d==null?void 0:d.should_load_uri_in_same_window);r=d==null?void 0:d.validation_timestamp;s=d==null?void 0:d.clicked_timestamp}else if(c.__typename==="InboxNotifRow"){d=c.ent_notif;i=d==null?void 0:d.id;j="";m=d==null?void 0:(c=d.body)==null?void 0:c.text;n="";o=g._("See More");p=d==null?void 0:d.url;r=d==null?void 0:d.notif_sent_time;s=d==null?void 0:d.first_read_time}if(i==null||j==null||m==null||n==null||o==null||p==null||r==null)return b;b.push({node:{id:i,pageID:a,tipName:j,channelID:l,title:m,body:n,cta:{label:o,action:p,shouldLoadInSameWindow:q},validationTime:r,clickedTime:s,productType:"MONETIZATION"}});return b},[]);f={endCursor:h,hasNextPage:d,messages:c!=null?c.messages.concat(e):b("immutable").List(e)}}k(a,f)},function(b){var c=b.getErrorDescriptionString();l("fb_comms_tips_loading_error",null,"MEDIA_MANAGER_FB_COMMS",{page_id:a,error:c!=null?c:""});j(a,b)})};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerDispatcher"))}),null);
__d("MediaManagerFBCommsDetailViewContainer.react",["FluxContainer","MediaManagerFBCommsDetailView.react","MediaManagerFBCommsStore","PagesManagerInboxStore","React","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore"),b("MediaManagerFBCommsStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getMailboxID("MEDIA_MANAGER_FB_COMMS");a=b("MediaManagerFBCommsStore").get(a);a=a.hasValue()?a.getValueEnforcing().messages:b("immutable").List();return{messages:a}};var d=c.prototype;d.render=function(){var a=this;if(this.state.messages==null||this.props.viewingItem==null)return null;var c=this.state.messages.find(function(b){return b.node.id===a.props.viewingItem});return g.jsx(b("MediaManagerFBCommsDetailView.react"),{height:this.props.height,item:c,mediaManagerInboxRowIndex:this.props.mediaManagerInboxRowIndex})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaManagerInboxPriorityTabStore",["FluxReduceStore","ImmutableRecordWithV4Types","MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;var g=b("MediaManagerActionTypes").MediaManagerActionTypes,h=a({onViewingItemPriorityType:"NONE"});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return h()};c.reduce=function(a,b){switch(b.type){case g.MEDIA_MANAGER_INBOX_ON_VIEWING_PRIORITY_ITEM:return a.set("onViewingItemPriorityType",b.priorityType);default:return a}};c.getOnViewingPriorityRowType=function(){return this.getState().get("onViewingItemPriorityType")};return b}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("PagesManagerDispatcher"))}),null);
__d("SUIPagesManagerSpinnerUniform",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";a={activeColor:"#4080ff",backgroundColor:"#e2e9f9",darkActiveColor:"#FFFFFF",darkBackgroundColor:"rgba(255, 255, 255, 0.4)",sizes:{large:{border:4,diameter:72},small:{border:2,diameter:36}}};e.exports=a}),null);
__d("SUIPagesManagerTheme",["SUIPagesManagerSpinnerUniform","SUITheme"],(function(a,b,c,d,e,f){"use strict";a=new(b("SUITheme"))({id:"pages_manager",components:{SUISpinner:b("SUIPagesManagerSpinnerUniform")}});e.exports=a}),null);
__d("PagesManagerInboxDetailLoading.react",["CenteredContainer.react","React","SUIPagesManagerTheme","SUISpinner.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx("div",{style:{backgroundColor:this.props.backgroundColor,height:this.props.height},children:g.jsx(b("CenteredContainer.react"),{fullHeight:!0,vertical:!0,children:g.jsx(b("SUISpinner.react"),{theme:b("SUIPagesManagerTheme")})})})};return c}(g.PureComponent);e.exports=a}),null);
__d("MediaManagerInboxFocusCommentStore",["FluxStore","PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$MediaManagerInboxFocusCommentStore1="";c.$MediaManagerInboxFocusCommentStore2=null;return c}var d=c.prototype;d.__onDispatch=function(a){switch(a.type){case b("PagesManagerActionType").LIST.VIEW:a.postID&&(this.$MediaManagerInboxFocusCommentStore1=a.postID,this.$MediaManagerInboxFocusCommentStore2=a.focusCommentID,this.__emitChange());break}};d.get=function(a){if(a!=null&&this.$MediaManagerInboxFocusCommentStore1===a)return this.$MediaManagerInboxFocusCommentStore2;else{this.$MediaManagerInboxFocusCommentStore1="";this.$MediaManagerInboxFocusCommentStore2=null;return null}};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxDetailViewContainer.react",["PagesManagerInboxDetailView.react","PagesManagerMessagesInterface","React","RelayModern","UserActivity","PagesManagerInboxDetailViewContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(a){this.$2()};d.$2=function(){var a=this;b("UserActivity").isOnTab()&&b("UserActivity").isActive()?this.$3():this.$1||(this.$1=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(a.$4(),a.$3())}))};d.$3=function(){!this.props.isRead&&this.props.threadID&&b("PagesManagerMessagesInterface").changeThreadReadStatus(this.props.pageID,this.props.threadID,!0)};d.$4=function(){this.$1&&this.$1.unsubscribe(),this.$1=null};d.render=function(){return h.jsx(b("PagesManagerInboxDetailView.react"),babelHelpers["extends"]({},this.props,{commPlatform:this.props.item.comm_platform,commType:this.props.item.comm_type,token:this.props.item.id}))};return c}(h.PureComponent);e.exports=a(c,{item:g!==void 0?g:g=b("PagesManagerInboxDetailViewContainer_item.graphql")})}),null);
__d("XPagesManagerInboxFacebookPostController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/inbox/fb_post/",{})}),null);
__d("NotificationPermalinkTimeSpentFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("notification_permalink_time_spent");e.exports=a}),null);
__d("PageAdminRepliedFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("page_admin_replied");e.exports=a}),null);
__d("MBNotifLoggingUtils",["NotificationPermalinkTimeSpentFalcoEvent","PageAdminRepliedFalcoEvent","URI"],(function(a,b,c,d,e,f){"use strict";var g,h={_getNotifData:function(a){a=a.getQueryData();var b=Number(a.notif_id);a=String(a.notif_t);return a!=="page_message"&&a!=="page_message_reminder"||!Boolean(b)?null:{notif_id:b,notif_t:a}},getAdminReplyType:function(a){var b;switch(a){case"photo":case"text_plus_photo":b="text_with_attachments";break;case"sticker":b="sticker_or_like";break;case"text":default:b="text_only";break}return b},logAdminReply:function(a){var c=(g||(g=b("URI"))).getRequestURI(),d=h._getNotifData(c);if(d==null)return;b("PageAdminRepliedFalcoEvent").log(function(){return{notif_type:d.notif_t,notif_id:d.notif_id,action_sub_type:a}})},logNavTargetExit:function(a,c,d){d=d!=null?d:(g||(g=b("URI"))).getRequestURI();var e=h._getNotifData(d);if(e==null)return;b("NotificationPermalinkTimeSpentFalcoEvent").log(function(){return{duration_ms:Date.now()-c,exit_event:a,notif_id:e.notif_id,notif_type:e.notif_t}})}};e.exports=h}),null);
__d("XWECMessagingSendController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/wec/send/",{})}),null);
__d("PagesManagerMessagingMessagelistDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("XPagesBanUserStatusFetchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/admin/ban_user/status/",{page_id:{type:"FBID",required:!0},user_id:{type:"FBID",required:!0}})}),null);
__d("PagesManagerMessagingMessagelistAction",["AsyncRequest","PagesManagerMessagingActionType","PagesManagerMessagingMessagelistDispatcher","XPagesBanUserStatusFetchController"],(function(a,b,c,d,e,f){var g=b("PagesManagerMessagingActionType").LIST,h=new Map(),i={updateMessagelist:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOADED,pageID:a,threadID:c,data:d})},setHotLikeEnd:function(){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").HOT_LIKE.END})},setHotLikeStart:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").HOT_LIKE.START,preview:a})},contentSearchSelectedIndex:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.CONTENT_SEARCH_SELECTED_INDEX,contentSearchSelectedIndex:a})},setIsLoading:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOADING,isLoading:a})},setIsLoadingMore:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g.LOAD_MORE,isLoadingMore:a})},setScrollAreaHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT,height:a})},setAppointmentBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},setAppointmentScheduleBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},setAppointmentStatusBannerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT,appointmentBannerHeight:a})},updateThread:function(a,c){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD,pageID:a,threadID:c})},setIsContextCardHidden:function(a,c){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN,pageID:a,isHidden:c})},updateIsUserBanned:function(a,c,d){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:b("PagesManagerMessagingActionType").BAN.UPDATE,pageID:a,userID:c,isBanned:d})},_getBanningMapKey:function(a,b){return a+"_"+b},fetchIsUserBanned:function(a,c){var d=this._getBanningMapKey(a,c);if(h.has(d)&&h.get(d))return;var e=b("XPagesBanUserStatusFetchController").getURIBuilder().setFBID("page_id",a).setFBID("user_id",c).getURI();new(b("AsyncRequest"))().setURI(e).setHandler(function(b){i.updateIsUserBanned(a,c,b.payload)}).send();h.set(d,!0)},resetIsUserBanned:function(a,b){h.set(this._getBanningMapKey(a,b),!1)}};e.exports=i}),null);
__d("XPagesContextCardSetIsHiddenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/customer/context_card/set_is_hidden/",{})}),null);
__d("PagesManagerMessagingMessagelistStore",["ActorURI","AsyncRequest","FluxStore","MercuryThreadlistConstants","MessengerState.bs","PagesManagerMessagingActionType","PagesManagerMessagingMessagelistDispatcher","XPagesContextCardSetIsHiddenController"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerMessagingMessagelistDispatcher"))||this;c.$PagesManagerMessagingMessagelistStore1="";c.$PagesManagerMessagingMessagelistStore2=!1;c.$PagesManagerMessagingMessagelistStore3=!1;c.$PagesManagerMessagingMessagelistStore4=!1;c.$PagesManagerMessagingMessagelistStore6=[];c.$PagesManagerMessagingMessagelistStore7=0;c.$PagesManagerMessagingMessagelistStore9=new Map();c.$PagesManagerMessagingMessagelistStore10=0;c.$PagesManagerMessagingMessagelistStore11=0;return c}var d=c.prototype;d.__onDispatch=function(a){switch(a.type){case b("PagesManagerMessagingActionType").LIST.LOADED:this.$PagesManagerMessagingMessagelistStore12(a);this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.LOADING:this.$PagesManagerMessagingMessagelistStore2=a.isLoading;this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.LOAD_MORE:this.$PagesManagerMessagingMessagelistStore3=a.isLoadingMore;this.__emitChange();break;case b("PagesManagerMessagingActionType").SET_SCROLL_HEIGHT:var c=a.height;c!==this.$PagesManagerMessagingMessagelistStore7&&(this.$PagesManagerMessagingMessagelistStore7=c,this.__emitChange());break;case b("PagesManagerMessagingActionType").SET_APPOINTMENT_BANNER_HEIGHT:this.$PagesManagerMessagingMessagelistStore10=a.appointmentBannerHeight;this.__emitChange();break;case b("PagesManagerMessagingActionType").THREAD_LEVEL.UPDATE_THREAD:this.__emitChange();break;case b("PagesManagerMessagingActionType").SET_IS_CONTEXT_CARD_HIDDEN:this.$PagesManagerMessagingMessagelistStore13(a.pageID,a.isHidden);this.__emitChange();break;case b("PagesManagerMessagingActionType").HOT_LIKE.END:this.$PagesManagerMessagingMessagelistStore4=!1;this.$PagesManagerMessagingMessagelistStore5=null;break;case b("PagesManagerMessagingActionType").HOT_LIKE.START:this.$PagesManagerMessagingMessagelistStore4=!0;this.$PagesManagerMessagingMessagelistStore5=a.preview;this.__emitChange();break;case b("PagesManagerMessagingActionType").BAN.UPDATE:this.$PagesManagerMessagingMessagelistStore14(a.pageID,a.userID,a.isBanned);this.__emitChange();break;case b("PagesManagerMessagingActionType").LIST.CONTENT_SEARCH_SELECTED_INDEX:this.$PagesManagerMessagingMessagelistStore11=a.contentSearchSelectedIndex;this.__emitChange();break;default:return}};d.$PagesManagerMessagingMessagelistStore12=function(a){this.$PagesManagerMessagingMessagelistStore2=!1,this.$PagesManagerMessagingMessagelistStore1=a.threadID,this.$PagesManagerMessagingMessagelistStore6=a.data.messages};d.isLoading=function(){return this.$PagesManagerMessagingMessagelistStore2};d.isLoadingMore=function(){return this.$PagesManagerMessagingMessagelistStore3};d.getMessagelist=function(a,c){if(c!=this.$PagesManagerMessagingMessagelistStore1)return b("MessengerState.bs").getThreadMessagesRangeNow(a,c,0,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_MESSAGES_COUNT).reverse();if(this.$PagesManagerMessagingMessagelistStore4&&this.$PagesManagerMessagingMessagelistStore5){a=this.$PagesManagerMessagingMessagelistStore6.slice();this.$PagesManagerMessagingMessagelistStore5&&a.push(this.$PagesManagerMessagingMessagelistStore5);return a}return this.$PagesManagerMessagingMessagelistStore6};d.getScrollHeight=function(){return this.$PagesManagerMessagingMessagelistStore7};d.isCardHidden=function(){return this.$PagesManagerMessagingMessagelistStore8===void 0||this.$PagesManagerMessagingMessagelistStore8===null?null:this.$PagesManagerMessagingMessagelistStore8};d.getAppointmentBannerHeight=function(){return this.$PagesManagerMessagingMessagelistStore10};d.$PagesManagerMessagingMessagelistStore13=function(a,c){this.$PagesManagerMessagingMessagelistStore8=c;a=b("ActorURI").create(b("XPagesContextCardSetIsHiddenController").getURIBuilder().getURI(),a);new(b("AsyncRequest"))().setURI(a).setData({is_hidden:c}).setMethod("POST").send()};d.$PagesManagerMessagingMessagelistStore15=function(a,b){return a+"_"+b};d.getIsUserBanned=function(a,b){return this.$PagesManagerMessagingMessagelistStore9.get(this.$PagesManagerMessagingMessagelistStore15(a,b))};d.$PagesManagerMessagingMessagelistStore14=function(a,b,c){this.$PagesManagerMessagingMessagelistStore9.set(this.$PagesManagerMessagingMessagelistStore15(a,b),c)};d.getContentSearchSelectedIndex=function(){return this.$PagesManagerMessagingMessagelistStore11};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerMessagingMessagelistDispatcher"))}),null);
__d("PagesManagerInboxMessengerDetailView.react",["MediaManagerInboxContext.react","MercuryIDs","PagesManagerInboxDetailView.react","PagesManagerMessagesInterface","React","UserActivity","emptyFunction"],(function(a,b,c,d,e,f){"use strict";a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var g=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(a){this.context&&this.context.logRowPreviewImpression!==b("emptyFunction")&&this.context.logRowPreviewImpression(b("MercuryIDs").getUserIDFromThreadID(this.props.threadID),"MESSENGER",this.props.mediaManagerInboxRowIndex,this.props.selectedFolder),this.$2()};d.$2=function(){var a=this;b("UserActivity").isOnTab()&&b("UserActivity").isActive()?this.$3():this.$1||(this.$1=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(a.$4(),a.$3())}))};d.$3=function(){!this.props.isRead&&this.props.threadID&&b("PagesManagerMessagesInterface").changeThreadReadStatus(this.props.pageID,this.props.threadID,!0)};d.$4=function(){this.$1&&this.$1.unsubscribe(),this.$1=null};d.render=function(){return g.jsx(b("PagesManagerInboxDetailView.react"),babelHelpers["extends"]({},this.props,{commPlatform:"MESSENGER",commType:"FB_MESSAGE",token:this.props.threadID}))};return c}(g.PureComponent);c.contextType=a;e.exports=c}),null);
__d("PagesManagerInboxComposerStateReasonType",[],(function(a,b,c,d,e,f){"use strict";e.exports={DISABLE_LEFT_GROUP:"DISABLE_LEFT_GROUP",ENABLE_NOT_GROUP:"ENABLE_NOT_GROUP",ENABLE_IN_GROUP:"ENABLE_IN_GROUP"}}),null);
__d("PagesManagerMessagingComposerActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ATTACHMENT:{ALL_COMPLETE:"",ATTACH_CACHED:"",ATTACH_COMPLETE:"",ATTACH_START:"",CANCEL:"",DETACH:"",DETACH_ALL:""},AUTOMATED_CHECKOUT:{SET_AUTOMATED_CHECKOUT_ID:""},MESSAGE:{CLEAR:"",SET:""},PARTICIPANT:{SET:""},SAVED_REPLIES:{LOADING:"",SET:"",SET_REPLIES:"",SET_TOKENS:"",SET_UPSELL_NUX:"",SET_UPSELL_TOAST:""},SHARE_UPLOADER:{READY:"",CLEAR:""},UPLOADER:{READY:""},COMPOSER_STATE_REASON:""});e.exports=a}),null);
__d("PagesManagerMessagingComposerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationReactDispatcher"))({strict:!0})}),null);
__d("PagesManagerMessagingComposerActions",["PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={clearMessage:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR})},clearShareLinkUploader:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR})},completeAllAttachments:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE})},completeAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE,attachment:a})},detachAllAttachments:function(){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL})},detachAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH,uploadID:a})},fileUploaderReady:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").UPLOADER.READY,uploader:a})},setAutomatedCheckoutId:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").AUTOMATED_CHECKOUT.SET_AUTOMATED_CHECKOUT_ID,automatedCheckoutID:a})},setIsSavedRepliesLoading:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING,isLoading:a})},setMessage:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").MESSAGE.SET,message:a})},setParticipant:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET,participant:a})},setSavedReplies:function(a,c){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET,replies:a,tokens:c})},setSavedReplyResponses:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_REPLIES,replies:a})},setSavedReplyTokens:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_TOKENS,tokens:a})},setShouldShowSavedReplyUpsellToast:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_TOAST,shouldShowSavedReplyUpsellToast:a})},setShouldShowSavedReplyUpsellNUX:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_NUX,shouldShowSavedReplyUpsellNUX:a})},setShareLinkUploader:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY,uploader:a})},startAttachment:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START,files:a})},setComposerStateReason:function(a){b("PagesManagerMessagingComposerDispatcher").dispatch({actionType:b("PagesManagerMessagingComposerActionTypes").COMPOSER_STATE_REASON,composerStateReason:a})}};e.exports=a}),null);
__d("XWECMessagingAttachmentUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/wec/upload/",{request_user_id:{type:"Int"}})}),null);
__d("PagesManagerMessagingComposerStore",["FluxStore","MercuryConfig","PagesManagerMessagingComposerActionTypes","PagesManagerMessagingComposerDispatcher","PagesMessagingConfig","SavedResponsesUtils","URI","XWECMessagingAttachmentUploadController"],(function(a,b,c,d,e,f){"use strict";var g;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.$PagesManagerMessagingComposerStore1=new Map();b.$PagesManagerMessagingComposerStore3=null;b.$PagesManagerMessagingComposerStore4=!1;b.$PagesManagerMessagingComposerStore5="";b.$PagesManagerMessagingComposerStore6=null;b.$PagesManagerMessagingComposerStore7=!1;b.$PagesManagerMessagingComposerStore8=!1;b.$PagesManagerMessagingComposerStore9=[];b.$PagesManagerMessagingComposerStore10={};b.$PagesManagerMessagingComposerStore11="";b.$PagesManagerMessagingComposerStore12=null;b.$PagesManagerMessagingComposerStore13=null;return b}var d=c.prototype;d.getAllAttachmentsMeta=function(){var a=this.$PagesManagerMessagingComposerStore14(),b=[];for(var c=this.$PagesManagerMessagingComposerStore1.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;(f.id&&a.indexOf(f.id)!==-1||f.isUploading)&&b.push(f)}return b};d.getAttachedAttachmentIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getAttachments():[]};d.getAttachedImageIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getImageFiles():[]};d.getAttachedAnimatedImageIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getAnimatedImageFiles():[]};d.getAttachedVideoIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getVideoFiles():[]};d.getAttachedAudioFilesIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getAudioFiles():[]};d.getAttachedFilesIds=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.getFiles():[]};d.getAutomatedCheckoutId=function(){return this.$PagesManagerMessagingComposerStore2};d.getFileUploader=function(){return this.$PagesManagerMessagingComposerStore3};d.getIsAttachmentUploading=function(){return this.$PagesManagerMessagingComposerStore3?this.$PagesManagerMessagingComposerStore3.isUploading():!1};d.getMessage=function(){return this.$PagesManagerMessagingComposerStore5};d.getQuickReplyMode=function(){return b("PagesMessagingConfig").sendOnEnter};d.getShouldShowSavedReplyUpsellNUX=function(){return this.$PagesManagerMessagingComposerStore7};d.getShouldShowSavedReplyUpsellToast=function(){return this.$PagesManagerMessagingComposerStore8};d.getParticipant=function(){return this.$PagesManagerMessagingComposerStore6};d.getSavedReplyResponses=function(){return this.$PagesManagerMessagingComposerStore9};d.getSavedReplyTokens=function(){return this.$PagesManagerMessagingComposerStore10};d.getMatchingShortcut=function(){return this.$PagesManagerMessagingComposerStore11};d.getShareLink=function(){if(this.$PagesManagerMessagingComposerStore12)return this.$PagesManagerMessagingComposerStore12.getAttachData()};d.getUploadActionFromUserID=function(a,c){if(!c)return null;return a==="WEC"?b("XWECMessagingAttachmentUploadController").getURIBuilder().setInt("request_user_id",c).getURI().toString():new(g||(g=b("URI")))(b("MercuryConfig").upload_url).addQueryData("request_user_id",c).toString()};d.$PagesManagerMessagingComposerStore15=function(a,b){this.$PagesManagerMessagingComposerStore1.set(b.upload_id,{id:"",isUploading:!0,name:b.metadata.filename,type:b.metadata.filetype,uploadID:b.upload_id})};d.$PagesManagerMessagingComposerStore16=function(a){var b=this;a.map(function(a){b.$PagesManagerMessagingComposerStore1.set(a.upload_id,{id:"",isUploading:!0,name:a.metadata.name,type:a.metadata.type,uploadID:a.upload_id})})};d.$PagesManagerMessagingComposerStore17=function(){this.$PagesManagerMessagingComposerStore5="",this.$PagesManagerMessagingComposerStore11=""};d.$PagesManagerMessagingComposerStore18=function(a){this.$PagesManagerMessagingComposerStore1.has(a)&&this.$PagesManagerMessagingComposerStore1["delete"](a)};d.$PagesManagerMessagingComposerStore19=function(){this.$PagesManagerMessagingComposerStore12&&this.$PagesManagerMessagingComposerStore12.clear()};d.$PagesManagerMessagingComposerStore20=function(a){var b;this.$PagesManagerMessagingComposerStore1.has(a.upload_id)&&(b=this.$PagesManagerMessagingComposerStore1.get(a.upload_id),b.id=this.$PagesManagerMessagingComposerStore21(a),b.isUploading=!1,this.$PagesManagerMessagingComposerStore1.set(a.upload_id,b))};d.$PagesManagerMessagingComposerStore14=function(){if(!this.$PagesManagerMessagingComposerStore3)return[];var a=this.$PagesManagerMessagingComposerStore3;return[].concat(a.getAttachments(),a.getImageFiles(),a.getAnimatedImageFiles(),a.getVideoFiles(),a.getAudioFiles(),a.getFiles())};d.$PagesManagerMessagingComposerStore21=function(a){return a.metadata.image_id||a.metadata.gif_id||a.metadata.video_id||a.metadata.audio_id||a.metadata.file_id};d.__onDispatch=function(a){switch(a.actionType){case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ALL_COMPLETE:this.$PagesManagerMessagingComposerStore22();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_COMPLETE:this.$PagesManagerMessagingComposerStore20(a.attachment);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.ATTACH_START:this.$PagesManagerMessagingComposerStore16(a.files);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH:this.$PagesManagerMessagingComposerStore23(a.uploadID);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").ATTACHMENT.DETACH_ALL:this.$PagesManagerMessagingComposerStore24();this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").AUTOMATED_CHECKOUT.SET_AUTOMATED_CHECKOUT_ID:this.$PagesManagerMessagingComposerStore25(a.automatedCheckoutID);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").MESSAGE.CLEAR:this.$PagesManagerMessagingComposerStore17();break;case b("PagesManagerMessagingComposerActionTypes").MESSAGE.SET:this.$PagesManagerMessagingComposerStore26(a.message);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").PARTICIPANT.SET:this.$PagesManagerMessagingComposerStore27(a.participant);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.LOADING:this.$PagesManagerMessagingComposerStore28(a.isLoading);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_REPLIES:this.$PagesManagerMessagingComposerStore29(a.replies);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_TOKENS:this.$PagesManagerMessagingComposerStore30(a.tokens);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_NUX:this.$PagesManagerMessagingComposerStore31(a.shouldShowSavedReplyUpsellNUX);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SAVED_REPLIES.SET_UPSELL_TOAST:this.$PagesManagerMessagingComposerStore32(a.shouldShowSavedReplyUpsellToast);this.__emitChange();break;case b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.READY:this.$PagesManagerMessagingComposerStore33(a.uploader);break;case b("PagesManagerMessagingComposerActionTypes").SHARE_UPLOADER.CLEAR:this.$PagesManagerMessagingComposerStore19();break;case b("PagesManagerMessagingComposerActionTypes").UPLOADER.READY:this.$PagesManagerMessagingComposerStore34(a.uploader);this.$PagesManagerMessagingComposerStore35();break;case b("PagesManagerMessagingComposerActionTypes").COMPOSER_STATE_REASON:this.$PagesManagerMessagingComposerStore13=a.composerStateReason;this.__emitChange();break}};d.$PagesManagerMessagingComposerStore24=function(){this.$PagesManagerMessagingComposerStore3&&(this.$PagesManagerMessagingComposerStore3.removeAttachments(),this.$PagesManagerMessagingComposerStore1.clear())};d.$PagesManagerMessagingComposerStore23=function(a){this.$PagesManagerMessagingComposerStore3&&(this.$PagesManagerMessagingComposerStore3.removeOneAttachment(a),this.$PagesManagerMessagingComposerStore18(a))};d.$PagesManagerMessagingComposerStore22=function(){var a=this;this.$PagesManagerMessagingComposerStore1.forEach(function(b,c){b.isUploading&&a.$PagesManagerMessagingComposerStore1["delete"](b.uploadID)})};d.$PagesManagerMessagingComposerStore25=function(a){this.$PagesManagerMessagingComposerStore2=a};d.$PagesManagerMessagingComposerStore34=function(a){this.$PagesManagerMessagingComposerStore3=a};d.$PagesManagerMessagingComposerStore28=function(a){this.$PagesManagerMessagingComposerStore4=a};d.$PagesManagerMessagingComposerStore26=function(a){this.$PagesManagerMessagingComposerStore5=a,a.length>=3&&b("SavedResponsesUtils").checkHasMatchingShortcut(a,this.$PagesManagerMessagingComposerStore9)?this.$PagesManagerMessagingComposerStore11=a.toLowerCase():this.$PagesManagerMessagingComposerStore11=""};d.$PagesManagerMessagingComposerStore27=function(a){this.$PagesManagerMessagingComposerStore6=a};d.$PagesManagerMessagingComposerStore29=function(a){this.$PagesManagerMessagingComposerStore9=a};d.$PagesManagerMessagingComposerStore30=function(a){var b=Object.keys(this.$PagesManagerMessagingComposerStore10).length;this.$PagesManagerMessagingComposerStore10=a;b===0&&this.$PagesManagerMessagingComposerStore9!==null&&this.$PagesManagerMessagingComposerStore29(this.$PagesManagerMessagingComposerStore9)};d.$PagesManagerMessagingComposerStore31=function(a){this.$PagesManagerMessagingComposerStore7=a};d.$PagesManagerMessagingComposerStore32=function(a){this.$PagesManagerMessagingComposerStore8=a};d.$PagesManagerMessagingComposerStore33=function(a){this.$PagesManagerMessagingComposerStore12=a};d.$PagesManagerMessagingComposerStore35=function(){var a=this.$PagesManagerMessagingComposerStore3;a&&a.subscribe("cached-file-added",this.$PagesManagerMessagingComposerStore15.bind(this))};d.getComposerStateReason=function(){return this.$PagesManagerMessagingComposerStore13};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("PagesManagerMessagingComposerDispatcher"))}),null);
__d("MessengerConversionEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REPLY_ACTION:"reply",FIRST_REPLY_ACTION:"first_reply",OPEN_THREAD_ACTION:"open_thread",ACCEPT_MESSENGER_REQUEST_ACTION:"accept_messenger_request",IGNORE_MESSENGER_REQUEST_ACTION:"ignore_messenger_request",DELETE_THREAD:"delete",BLOCK_THREAD:"block",MARK_SPAM_THREAD:"mark_spam",PROMOTIONAL_OFF_THREAD:"promotional_off",DELETE_MESSAGE:"delete_message",READ_RECEIPT:"read_receipt",DELIVERY_RECEIPT:"delivery_receipt",LABEL_ADDED:"label_added",LABEL_REMOVED:"label_removed",PAGE_MESSAGE_SENT:"page_message_sent",PURCHASE:"purchase",PAGE_CLICK_CHANGE_CURRENCY:"page_click_change_currency",PAGE_CLICK_INVOICE_BUTTON:"page_click_invoice_button",PAGE_SEND_CONFIRM_RECEIPT:"page_send_confirm_receipt",PAGE_SEND_CONFIRM_TRANSACTION:"page_send_confirm_transaction",PAGE_CLICK_CONFIRM_RECEIPT:"page_click_confirm_receipt",PAGE_CLICK_CONFIRM_TRANSACTION:"page_click_confirm_transaction",PAGE_SHOW_CONFIRM_RECEIPT:"page_show_confirm_receipt",PAGE_SHOW_CONFIRM_TRANSACTION:"page_show_confirm_transaction",PAGE_CLICK_MARK_AS_PAID_NUX:"page_click_mark_as_paid_nux",PAGE_START_MARK_AS_PAID:"page_start_mark_as_paid",PAGE_INSIGHTS_VIEW_ORDER_SECTION:"page_insights_view_order_section",PAGE_CONFIRM_PAID:"page_confirm_paid",USER_OPEN_RECEIPT:"user_open_receipt",PAGE_OPEN_RECEIPT:"page_open_receipt",CONVERSATION_START_7_DAY:"conversation_start_7_day",PAGE_START_TAG_PRODUCTS:"page_start_tag_products",PAGE_COMPLETE_TAG_PRODUCTS:"page_complete_tag_products",DEEP_CONVERSATION:"deep_conversation",AUTOMATED_FLOW_COMPLETE:"automated_flow_complete",AUTOMATED_FLOW_CANCELLED:"automated_flow_cancelled",NOTIFICATION_MESSAGE_READ:"notification_message_read",NOTIFICATION_MESSAGE_CLICKED:"notfication_message_clicked",PAGE_MARK_AS_PAID_CHANGE_AMOUNT:"page_mark_as_paid_change_amount",PAGE_MARK_AS_PAID_CHNAGE_NOTE:"page_mark_as_paid_change_note",CONVERSION_QUICK_PROMOTION_IMPRESSION:"ads_conversions_qp_impression",CONVERSION_QUICK_PROMOTION_CLICK:"ads_conversions_quick_promotion_click",CONVERSION_QUICK_PROMOTION_TRIGGERED:"ads_conversions_quick_promotion_triggered",BUYER_INFORMATION_SETUP_IMPRESSION:"buyer_information_setup_impression",BUYER_INFORMATION_SETUP_CREATION:"buyer_information_setup_creation",BUYER_INFORMATION_TRIGGER_IMPRESSION:"buyer_information_trigger_impression",BUYER_INFORMATION_TRIGGER_CLICK:"buyer_information_trigger_click",BUYER_INFORMATION_SEQUENCE_FINISH:"buyer_information_sequence_finish",BUYER_INFORMATION_NUX_IMPRESSION:"buyer_information_nux_impression",BUYER_INFORMATION_NUX_CLICK:"buyer_information_nux_click",INBOX_ACTIVITY_MUTATION_FAILURE:"inbox_activity_mutation_failure",PAGE_AD_INTERACTION_PAYMENT_RECEIVED_WITHOUT_DETAILS:"page_ad_interaction_payment_received_without_details",PAGE_AD_INTERACTION_PAYMENT_RECEIVED_WITH_DETAILS:"page_ad_interaction_payment_received_with_details",PAGE_AD_INTERACTION_APPOINTMENT_BOOKED_WITHOUT_DETAILS:"page_ad_interaction_appointment_booked_without_details",PAGE_AD_INTERACTION_APPOINTMENT_BOOKED_WITH_DETAILS:"page_ad_interaction_appointment_booked_with_details",PAGE_AD_INTERACTION_ORDER_PLACED_WITHOUT_DETAILS:"page_ad_interaction_order_placed_without_details",PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS:"page_ad_interaction_order_placed_with_details",PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS_ERROR:"page_ad_interaction_order_placed_with_details_error",PAGE_AD_INTERACTION_ORDER_SHIPPED_WITHOUT_DETAILS:"page_ad_interaction_order_shipped_without_details",PAGE_AD_INTERACTION_ORDER_SHIPPED_WITH_DETAILS:"page_ad_interaction_order_shipped_with_details",PAGE_AD_INTERACTION_ORDER_SHIPPED_WITH_DETAILS_ERROR:"page_ad_interaction_order_shipped_with_details_error",PAGE_CLICK_ADD_ACTIVITY:"page_click_add_activity",PAGE_CLICK_ADD_ACTIVITY_NUX:"page_click_add_activity_nux",PAGE_CLICK_APPOINTMENT_BOOKED_CTA:"page_click_appointment_booked_cta",PAGE_CLICK_PAYMENT_RECEIVED_CTA:"page_click_payment_received_cta",SAVED_REPLY_CREATED:"saved_reply_created",ORDER_DETAILS_CREATE_ORDER:"order_details_create_order",ORDER_DETAILS_CREATE_ORDER_ERROR:"order_details_create_order_error",ORDER_DETAILS_CREATE_PRODUCT:"order_details_create_product",ORDER_DETAILS_SELECT_PRODUCT:"order_details_select_product",ORDER_DETAILS_DISCOUNT:"order_details_discount",ORDER_DETAILS_SHIPPING_COST:"order_details_shipping_cost",APPOINTMENT_OPT_OUT_MESSAGE_SENT:"appointment_opt_out_message_sent",PAGE_ADMIN_OPTED_OUT_REQUEST_APPOINTMENT:"page_admin_opted_out_request_appointment"})}),null);
__d("GraphQLSubscribeModes",[],(function(a,b,c,d,e,f){"use strict";a={SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe"};e.exports=a}),null);
__d("GraphQLMutationDataHandler",["invariant"],(function(a,b,c,d,e,f,g){"use strict";a={getMutationType:function(a){!!a&&Object.keys(a).length===1||g(0,3445);return Object.keys(a)[0]}};e.exports=a}),null);
__d("GraphQLSubscriptionTracker",[],(function(a,b,c,d,e,f){"use strict";var g={};a={trackSubscription:function(a,b){g[b]=a},getSubscription:function(a){return g[a]},removeSubscription:function(a){delete g[a]}};e.exports=a}),null);
__d("RelayGraphQLSubscriptionNetworkLayer",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h;a={injectGraphQLSubscriber:function(a){h=a},sendSubscribeRequest:function(a){h||g(0,1910),h.sendSubscribeRequest(a)}};e.exports=a}),null);
__d("RQLSubscription",["invariant","GraphQLMutationDataHandler","GraphQLSubscribeModes","GraphQLSubscriptionTracker","RelayGraphQLSubscriptionNetworkLayer"],(function(a,b,c,d,e,f,g){"use strict";a={sendSubscribe:function(a,c,d,e,f){b("RelayGraphQLSubscriptionNetworkLayer").sendSubscribeRequest({mode:b("GraphQLSubscribeModes").SUBSCRIBE,subscription:a,subscriptionQueryID:e,params:c,clientSubscriptionID:d,topic:f})},sendUnsubscribe:function(a,c,d,e,f){b("RelayGraphQLSubscriptionNetworkLayer").sendSubscribeRequest({mode:b("GraphQLSubscribeModes").UNSUBSCRIBE,subscription:a,subscriptionQueryID:e,params:c,clientSubscriptionID:d,topic:f})},handleSubscriptionPayload:function(a){var c=b("GraphQLMutationDataHandler").getMutationType(a);a[c]||g(0,5237);var d="client_subscription_id"in a[c];if(!d)return;d=a[c].client_subscription_id;d||g(0,5238);c=b("GraphQLSubscriptionTracker").getSubscription(d);c&&c.handlePayload(a)}};e.exports=a}),null);
__d("RelayGraphQLSubscriber",["Promise","GraphQLSubscribeModes","GraphQLSubscriptionsTypedLogger","RelayRTIUtils","RQLSubscription","SkywalkerManager","nullthrows","react-relay-deprecated/classic/query/RelayQuery","react-relay-deprecated/classic/route/RelayMetaRoute","react-relay-deprecated/classic/traversal/flattenRelayQuery","react-relay-deprecated/classic/traversal/printRelayQuery"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayRTIUtils").getTopicAndTransformContext_DEPRECATED,h={},i="155160167952447";function a(a){return{sendSubscribeRequest:function(c){var d=this,e,f=this._prepareData(c);c.mode===b("GraphQLSubscribeModes").SUBSCRIBE?e=g(a,f.queryText,f.queryID,f.queryParams,f.topic).then(function(a){var b=a.topic;a=a.transformContext;f.topic=b;a.appID=i;return d._subscribe(f,a)}):c.mode===b("GraphQLSubscribeModes").UNSUBSCRIBE?e=this._unsubscribe(f):e=b("Promise").reject("invalid mode");e["catch"](function(a){return!1})},_prepareData:function(a){var c={input:JSON.stringify(babelHelpers["extends"]({},a.params,{client_subscription_id:a.clientSubscriptionID}))},d=b("react-relay-deprecated/classic/query/RelayQuery").Subscription.create(a.subscription,b("react-relay-deprecated/classic/route/RelayMetaRoute").get("$GraphQLSubscriber"),c),e=b("react-relay-deprecated/classic/traversal/printRelayQuery")(b("nullthrows")(b("react-relay-deprecated/classic/traversal/flattenRelayQuery")(d))).text;return{queryText:e,queryID:a.subscriptionQueryID!=null?Number(a.subscriptionQueryID):null,queryParams:c,topic:a.topic!=null?String(a.topic):null,tokenKey:JSON.stringify({params:a.params,text:e}),logger:new(b("GraphQLSubscriptionsTypedLogger"))().setSubscriptionCall(d.getCall().name).setQueryParams(c)}},_subscribe:function(a,c){var d=a.topic,e=a.tokenKey,f=a.logger;return new(b("Promise"))(function(a){var g={context:{transformContext:JSON.stringify(c)}};h[e]=b("SkywalkerManager").subscribe(b("nullthrows")(d),function(a){a=JSON.parse(a.payload);f.setEvent("receivepayload").log();b("RQLSubscription").handleSubscriptionPayload(a)},g);f.setEvent("client_subscribe").log();a()})},_unsubscribe:function(a){var c=a.tokenKey,d=a.logger;return new(b("Promise"))(function(a){h[c].unsubscribe(),delete h[c],d.setEvent("client_unsubscribe").log(),a()})}}}e.exports=a}),null);
__d("ServicesAppointmentComposerBadgeQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2239139299490883"};b.getQueryID=function(){return"476383886201370"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1687920431245100"};b.getQueryID=function(){return"184933352139512"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ServicesMessengerAppointmentActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({MESSENGER_APPOINTMENT_TOGGLE_DIALOG:null});e.exports=a}),null);
__d("ServicesMessengerAppointmentActions",["ServicesCTAUnificationDispatcher","ServicesMessengerAppointmentActionTypes"],(function(a,b,c,d,e,f){"use strict";var g=b("ServicesMessengerAppointmentActionTypes").MESSENGER_APPOINTMENT_TOGGLE_DIALOG;a={toggleDialog:function(a,c,d,e,f){b("ServicesCTAUnificationDispatcher").dispatch({type:g,payload:{additionalLoggingData:c,onUpdateCompleted:f,referrerData:d,shouldShowDialog:a,startTime:e}})}};e.exports=a}),null);
__d("ServicesMessengerAppointmentStore",["FluxReduceStore","ServicesCTAUnificationDispatcher","ServicesMessengerAppointmentActionTypes","emptyFunction","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("ServicesMessengerAppointmentActionTypes").MESSENGER_APPOINTMENT_TOGGLE_DIALOG,h={referrerUIComponent:"composer",referrerUISurface:"message"},i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({additionalLoggingData:null,onUpdateCompleted:null,referrerData:null,shouldShowDialog:!1,startTime:null}));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new i()};d.reduce=function(a,b){var c=b.type;b=b.payload;switch(c){case g:return a.set("shouldShowDialog",b.shouldShowDialog).set("additionalLoggingData",b.additionalLoggingData).set("referrerData",b.referrerData).set("startTime",b.startTime).set("onUpdateCompleted",b.onUpdateCompleted);default:return a}};d.getShouldShowDialog=function(){var a;return(a=this.getState().shouldShowDialog)!=null?a:!1};d.getAdditionalLoggingData=function(){return this.getState().additionalLoggingData};d.getReferrerData=function(){var a;return(a=this.getState().referrerData)!=null?a:h};d.getStartTime=function(){return this.getState().startTime};d.getOnUpdateCompleted=function(){var a;return(a=this.getState().onUpdateCompleted)!=null?a:b("emptyFunction")};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("ServicesCTAUnificationDispatcher"))}),null);
__d("XDliteGraphQLSkywalkerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/dlite/skywalker_topic/",{})}),null);
__d("PagesManagerInboxComposerCreateAppointmentButton.react",["cx","fbt","ChannelManager","CurrentUser","DateConsts","FluxContainer","Instant","Link.react","PagesInboxThreadActionSystemDispatcher","PagesPlatformBookingMessageViewer","React","ReactDOM","RelayGraphQLSubscriptionNetworkLayer","RelayGraphQLSubscriber","ServicesEventsLogger","ServicesAppointmentBadgeSubscription","ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation","ServicesAppointmentComposerBadgeQueryWebGraphQLQuery","ServicesAppointmentDialogRoot.react","ServicesAppointmentManagementDialogEnum","ServicesMessengerAppointmentActions","ServicesCTAUnificationDispatcher","ServicesDateTimeUtils","ServicesMessengerAppointmentNUXActions","ServicesMessengerAppointmentNUXStore","ServicesMessengerAppointmentStore","WebGraphQL","XDliteGraphQLSkywalkerController","XUIAmbientNUX.react","emptyFunction","promiseDone","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";b("ChannelManager");var i=b("React"),j={referrerUIComponent:"composer",referrerUISurface:"message"};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.composerBadgeSubscription=null,d.$1=!1,d.handleClick=function(){d.state.showComposerBadge&&b("WebGraphQL").exec(new(b("ServicesAppointmentComposerBadgeResetMutationWebGraphQLMutation"))({input:{actor_id:b("CurrentUser").getAccountID(),client_mutation_id:b("uuid")(),page_id:d.props.pageID,user_id:d.props.recipientID}})),d.handleToggleDialog(!0),d.setState({showComposerBadge:!1})},d.handleToggleDialog=function(a){b("ServicesMessengerAppointmentActions").toggleDialog(a,null,j,d.$2(),d.$3)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ServicesMessengerAppointmentNUXStore"),b("ServicesMessengerAppointmentStore")]};c.calculateState=function(a){if(!a)return{additionalLoggingData:null,dialogShown:!1,onUpdateCompleted:b("emptyFunction"),referrerData:j,showComposerBadge:!1,showComposerNUX:!1,startTime:null,timeMentioned:null,timezoneID:b("ServicesDateTimeUtils").getDefaultTimezoneID()};var c=b("ServicesMessengerAppointmentNUXStore").getState();return babelHelpers["extends"]({},a,{additionalLoggingData:b("ServicesMessengerAppointmentStore").getAdditionalLoggingData(),dialogShown:b("ServicesMessengerAppointmentStore").getShouldShowDialog(),onUpdateCompleted:b("ServicesMessengerAppointmentStore").getOnUpdateCompleted(),referrerData:b("ServicesMessengerAppointmentStore").getReferrerData(),showComposerNUX:c.showComposerNUX,startTime:b("ServicesMessengerAppointmentStore").getStartTime()})};var d=c.prototype;d.componentDidMount=function(){b("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("ServicesMessengerAppointmentNUXActions").loadNUXEligibility(),this.log("booking_admin_composer_icon_impression"),b("RelayGraphQLSubscriptionNetworkLayer").injectGraphQLSubscriber(b("RelayGraphQLSubscriber")(b("XDliteGraphQLSkywalkerController").getURIBuilder().getURI())),this.initShowComposerBadge(),this.subscribeToShowComposerBadge(),this.$1=!0};d.componentWillUnmount=function(){this.composerBadgeSubscription&&(this.composerBadgeSubscription=null),this.$1=!1};d.componentDidUpdate=function(a,b){!b.showComposerBadge&&this.state.showComposerBadge&&this.log("booking_admin_thread_intent_composer_badging_impression")};d.log=function(a){b("ServicesEventsLogger").log(this.props.pageID,a,this.state.referrerData,{customer_id:this.props.recipientID,custom_session_id:b("uuid")()})};d.initShowComposerBadge=function(){var a=this;b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesAppointmentComposerBadgeQueryWebGraphQLQuery"))({page_id:this.props.pageID,user_id:this.props.recipientID})),function(c){if(!c)return;c=((c=c)!=null?(c=c.page)!=null?c.services_vertical_info:c:c)||{};var d=c.messenger_appointment_intent_data||{},e=c.time_zone_name;if(!a.$1)return;a.setState({showComposerBadge:!!c.should_show_composer_badge,timeMentioned:d.time_mentioned||null,timezoneID:b("ServicesDateTimeUtils").getTimezoneByNameOrLocal(e)})},function(a){})};d.subscribeToShowComposerBadge=function(){var a=this;this.composerBadgeSubscription=b("ServicesAppointmentBadgeSubscription").subscribe({page_id:this.props.pageID,user_id:this.props.recipientID},function(b){b=((b=b)!=null?b.services_appointment_badge_subscribe:b)||{};if(!a.$1)return;a.setState({showComposerBadge:!!b.should_show_badge,timeMentioned:b.timestamp||null})})};d.$3=function(a,c){a&&b("PagesInboxThreadActionSystemDispatcher").dispatch(!0)};d.$2=function(){var a=this.state.timeMentioned;return a&&!(a<b("Instant").now()-b("DateConsts").SEC_PER_WEEK*2)?b("ServicesDateTimeUtils").getClosestDateWithSameTime(a,this.state.timezoneID):null};d.renderCreateAppointmentDialog=function(){var a=this,c=this.state.dialogShown;return!c?null:i.jsx(b("ServicesAppointmentDialogRoot.react"),{additionalLoggingData:this.state.additionalLoggingData,causalElementRef:function(){return a},dialogType:b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT,jobSearchSurface:"messenger",onToggle:this.handleToggleDialog,onUpdateCompleted:this.state.onUpdateCompleted,pageID:this.props.pageID,referrerData:this.state.referrerData,showMessengerButton:!1,shown:this.state.dialogShown,startTime:this.state.startTime,userID:this.props.recipientID,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})};d.renderComposerNUX=function(){if(!this.button)return null;var a=this.state.showComposerNUX;a&&b("ServicesMessengerAppointmentNUXActions").showNUX(5292);return i.jsx(b("XUIAmbientNUX.react"),{alignment:"right",context:b("ReactDOM").findDOMNode(this.button),shown:a,onCloseButtonClick:function(){return b("ServicesMessengerAppointmentNUXActions").closeNUX(5292)},position:"above",width:"normal",children:h._("Create an appointment from any conversation so that customers can get automatic reminders")})};d.render=function(){var a=this,c=h._("Create appointment");return i.jsxs("div",{children:[i.jsxs(b("Link.react"),{"aria-label":this.props.showTooltip?c:null,className:"_2em3","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?c:null,onClick:this.handleClick,ref:function(b){return a.button=b},children:[i.jsx("div",{className:this.state.showComposerBadge?"_4on2":""}),i.jsx("i",{className:"_2em5"})]}),this.renderComposerNUX(),this.renderCreateAppointmentDialog()]})};return c}(i.Component);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerMessagingComposerAttachmentListItem.react",["cx","ix","Image.react","React","XUICloseButton.react","XUISpinner.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$1=function(){return c.props.onDetach(c.props.uploadID)};return c}var d=c.prototype;d.$2=function(){if(this.props.type.startsWith("image"))return h("94995");else if(this.props.type.startsWith("video"))return h("94998");else if(this.props.type.startsWith("audio"))return h("94984");else if(this.props.type.startsWith("text"))return h("94997");return h("94992")};d.$3=function(){return i.jsx(b("XUICloseButton.react"),{className:"_2uia",onClick:this.$1})};d.$4=function(){return i.jsx("span",{className:"_2uib",children:this.props.isUploading?i.jsx(b("XUISpinner.react"),{size:"large"}):i.jsx(b("Image.react"),{src:this.$2(),alt:this.props.type})})};d.$5=function(){return i.jsx("span",{className:"_2uic",children:this.props.name})};d.render=function(){return i.jsxs("li",{className:"clearfix _2uid",children:[i.jsx("span",{className:"_kqe _kqf",children:this.$4()}),i.jsx("span",{className:"_kqe _kqh",children:this.$5()}),i.jsx("span",{className:"_kqe _kqi",children:this.$3()})]})};return c}(i.Component);a.propTypes={attachmentID:(c=b("prop-types")).string,isUploading:c.bool,key:c.string,name:c.string,onDetach:c.func,type:c.string,uploadID:c.string};e.exports=a}),null);
__d("PagesManagerMessagingComposerAttachmentList.react",["cx","PagesManagerMessagingComposerAttachmentListItem.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){return h.jsx(b("PagesManagerMessagingComposerAttachmentListItem.react"),{isUploading:a.isUploading,name:a.name,onDetach:this.props.onDetach,type:a.type,uploadID:a.uploadID},a.uploadID)};d.render=function(){return this.props.attachments.length>0?h.jsx("ul",{className:"_27ru",children:this.props.attachments.map(this.$1,this)}):null};return c}(h.Component);a.propTypes={attachments:b("prop-types").array.isRequired,onDetach:b("prop-types").func.isRequired};a.defaultProps={attachments:[]};e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesEmptyState.react",["cx","fbt","FDSButton.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=h._("We offer two delivery options..."),k=h._("Can you provide your order confirmation number so that we can..."),l=h._("Here's more info about our upcoming event...");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,b)||this}var d=c.prototype;d.$1=function(a){return i.jsx("div",{className:"_7t00",children:a})};d.render=function(){return i.jsxs("div",{className:"_22rs",children:[i.jsxs("div",{className:"_7t01",children:[this.$1(j),this.$1(k),this.$1(l)]}),i.jsx("div",{children:h._("Save replies to frequently asked questions so that you can respond more quickly to messages later.")}),i.jsx("div",{className:"_7t02",children:i.jsx(b("FDSButton.react"),{label:h._("Create Saved Reply"),onClick:this.props.onCreateNewReply,size:"large",use:"primary"})})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("MessengerMenuPreview.react",["cx","fbt","ix","FDSText.react","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=30;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){if(this.props.menuItems==null)return;var a=this.props.menuItems.map(function(a,c){return j.jsx("div",{className:"_8f_c",children:j.jsx("div",{className:"_8f_d",children:j.jsx(b("FDSText.react"),{color:"primary",overflowWrap:"break-word",size:"body2",children:a.custom_question.length>k?a.custom_question.substr(0,k-3)+"...":a.custom_question})},"text")},"menuitem".concat(c.toString()))});return j.jsxs("div",{className:"_8f_e",children:[j.jsx("div",{children:j.jsx("input",{className:"_8jga",type:"text"})}),j.jsx("div",{children:j.jsx("input",{className:"_8f_h",placeholder:h._("Write a message..."),type:"text"})}),j.jsx("div",{children:a})]})};d.render=function(){var a=this.$1();return j.jsxs("div",{className:"_8f_j",children:[j.jsx(b("Image.react"),{src:i("572864")}),j.jsx("div",{className:"_8f_k",children:j.jsx(b("FDSText.react"),{color:"primary",size:"body3",children:this.props.pageName})}),j.jsx("div",{children:a})]})};return c}(j.PureComponent);e.exports=a}),null);
__d("MessengerAdsPartialAutomatedPrefillType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FULL_ADDRESS:"FULL_ADDRESS",ZIP_CODE:"ZIP_CODE",CITY:"CITY",STATE:"STATE",COUNTRY:"COUNTRY",EMAIL:"EMAIL",PHONE:"PHONE",JOB_TITLE:"JOB_TITLE",COMPANY_NAME:"COMPANY_NAME",GENDER:"GENDER",DOB:"DOB",NONE:"NONE"})}),null);
__d("MessengerAdsPartialAutomatedReplyType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({QUICK_REPLIES:"QUICK_REPLIES",TEXT:"TEXT",NONE:"NONE",PREFILL:"PREFILL",ICE_BREAKERS:"ICE_BREAKERS",APPOINTMENT:"APPOINTMENT",SUBSCRIBE:"SUBSCRIBE"})}),null);
__d("ServicesFollowUpMessageSettingsUtils",["ServicesDurationUnit"],(function(a,b,c,d,e,f){"use strict";c=[(a=b("ServicesDurationUnit")).HOURS,a.DAYS,a.WEEKS,a.MONTHS];e.exports={FOLLOW_UP_MESSAGE_DURATION_UNITS:c}}),null);
__d("AdsMessengerPartialAutomatedCreationQuestionsOptionsFormatOption",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"text",CAROUSEL:"carousel"})}),null);
__d("MessengerAdsPartialAutomatedBroadcastMediaType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"text",IMAGE:"image",VIDEO:"video"})}),null);
__d("MessengerAdsPartialAutomatedBroadcastType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOTIFY_ME:"NOTIFY_ME",SIGN_UP:"SIGN_UP",GET_UPDATES:"GET_UPDATES"})}),null);
__d("MessengerAdsPartialAutomatedFollowUpButtonDestinationType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WEBSITE:"website",APP:"app"})}),null);
__d("reverseArgs",[],(function(a,b,c,d,e,f){function a(a){return function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.apply(void 0,c.reverse())}}e.exports=a}),null);
__d("ServicesFollowUpMessageSettingMutation",["RelayFBEnvironment","RelayModern","ServicesFollowUpMessageSettingMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("ServicesFollowUpMessageSettingMutation.graphql");function a(a){var c=a.input;a=a.onCompleted;h(b("RelayFBEnvironment"),{mutation:i,onCompleted:a,variables:{input:c}})}e.exports={commitMutationFollowUpMessage:a}}),null);
__d("ServicesQPCFlow",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ICEBREAKERS:"icebreakers",OPT_OUT:"opt_out",NONE:"none"})}),null);
__d("PageAutomationTriggerCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GREET_CUSTOMERS:"greet_customers",FREQUENTLY_ASKED_QUESTIONS:"frequently_asked_questions",COMMON_RESPONSES:"common_responses",CHECKOUT_REQUEST:"checkout_request",FEEDBACK:"feedback",JOB_APPLICATION:"job_application",REENGAGEMENT:"reengagement",APPOINTMENT_MESSAGING:"appointment_messaging"})}),null);
__d("XPagesDirectionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/get_address/",{page_id:{type:"Int",required:!0}})}),null);
__d("XPagesMessengerPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messenger_preview/",{json:{type:"String",required:!0},page_id:{type:"Int",required:!0},automated_checkout_data:{type:"String"}})}),null);
__d("PagesManagerMessagingAutomatedSequenceListItem.react",["ix","cx","fbt","FDSText.react","FluxContainer","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","PagesMarketingAutomationStore","React","SavedResponsesConstants","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.props.onMouseEnter(c.state.message)},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(){return{automatedCheckoutMessages:b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages(),automationType:b("PagesMarketingAutomationStore").getAutomationType(),message:b("PagesMarketingAutomationStore").getAutomatedCheckoutMessages().introMessage}};var d=c.prototype;d.$1=function(){return this.state.automatedCheckoutMessages&&this.state.automatedCheckoutMessages.introMessage?this.state.automatedCheckoutMessages.introMessage:""};d.$2=function(){return this.state.automationType==="buyer_information_form"?j.jsxs("div",{className:"_40g7",children:[j.jsxs(b("FDSText.react"),{weight:"bold",children:[i._("Customer information")," "]}),j.jsx(b("FDSText.react"),{color:"disabled",children:i._("Form")})]}):j.jsxs("div",{className:"_40g7",children:[j.jsxs(b("FDSText.react"),{weight:"bold",children:[i._("Buyer Information")," "]}),j.jsx(b("FDSText.react"),{color:"disabled",children:i._("Sequence")})]})};d.$4=function(){var a=i._("Edit");return j.jsx(b("LayoutColumn.react"),{className:"_7t98",children:j.jsx(b("Tooltip.react"),{tooltip:a,children:j.jsx(b("Image.react"),{className:"_7r85",onClick:this.props.onAutomatedSequenceEditClick,src:g("484291")})})})};d.render=function(){if(this.state.automatedCheckoutMessages)return j.jsx("li",{className:"_2ph_ _40g6",children:j.jsxs(b("Layout.react"),{children:[j.jsxs(b("LayoutFillColumn.react"),{onClick:this.props.onAutomatedSequenceSelected,onMouseEnter:this.$3,ref:b("SavedResponsesConstants").automatedSequenceItemRef,children:[this.$2(),this.$1()]}),this.props.isSavedReplyNewUI?this.$4():null]})})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("XPagesSavedResponseImagePreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/image/preview/",{})}),null);
__d("XPagesSavedResponsesImageDuplicationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/saved_responses/image/duplication/",{})}),null);
__d("PagesManagerMessagingSavedRepliesListItem.react",["ix","cx","fbt","ActorURI","AsyncRequest","Image.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","React","SavedResponsesConstants","SavedResponsesImage.react","SavedResponsesTokensUtils","SavedResponsesUtils","Tooltip.react","XPagesSavedResponsesImageDuplicationController","asset","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=53,l=53;a=function(a){babelHelpers.inheritsLoose(c,a);c.getDerivedStateFromProps=function(a,c){return{message:b("SavedResponsesTokensUtils").prepareforSend(a.reply.message,a.tokens),isProcessing:c.isProcessing}};function c(c){var d;d=a.call(this,c)||this;d.state={message:"",isProcessing:!1};d.mounted=!1;d.$3=function(){if(d.state.isProcessing)return;if(!d.props.reply.image){d.props.onClick(d.props.reply,d.state.message,null,d.props.searchTerm);return}var a=d.props.reply.image.id;d.setState({isProcessing:!0});var c=b("XPagesSavedResponsesImageDuplicationController").getURIBuilder().getURI();c=b("ActorURI").create(c,d.props.pageID);new(b("AsyncRequest"))().setURI(c).setMethod("POST").setData({image_id:a}).setHandler(function(a){a=b("SavedResponsesUtils").generateImageMetadata(""+a.payload.duplicatedImageID);d.props.onClick(d.props.reply,d.state.message,a,d.props.searchTerm);d.mounted&&d.setState({isProcessing:!1})}).send()};d.$4=function(){d.props.onEditClick(d.props.reply)};d.$5=function(){d.props.onDeleteClick(d.props.reply)};d.$6=function(){d.props.onMouseEnter(d.state.message)};return d}var d=c.prototype;d.componentDidMount=function(){this.mounted=!0};d.componentWillUnmount=function(){this.mounted=!1};d.$1=function(){if(this.props.reply.image){var a=this.props.reply.image.id;return j.jsx(b("SavedResponsesImage.react"),{className:"_3-9b _1pnc",displayClassName:"_1pnc",height:k,imageID:a,loadingClassName:"_1pnc",pageID:this.props.pageID,shouldShowCloseButton:!1,width:l})}};d.$2=function(){if(this.props.reply&&this.props.reply.title!=="")return j.jsx("h4",{className:"_40g7",children:this.props.reply.title})};d.$7=function(){var a=i._("Edit"),c=i._("Delete");return j.jsxs(b("LayoutColumn.react"),{className:"_7t98",children:[j.jsx(b("Tooltip.react"),{tooltip:a,children:j.jsx(b("Image.react"),{className:"_7r85",onClick:this.$4,src:g("484291")})}),j.jsx(b("Tooltip.react"),{tooltip:c,children:j.jsx(b("Image.react"),{className:"_7r85",onClick:this.$5,src:g("524061")})})]})};d.render=function(){return j.jsx("li",{className:b("joinClasses")("_2ph_ _40g6"+(this.state.isProcessing?" _84qn":""),this.props.className),children:j.jsxs(b("Layout.react"),{children:[j.jsxs(b("LayoutFillColumn.react"),{onClick:this.$3,onMouseEnter:this.$6,onMouseLeave:this.props.onMouseLeave,ref:b("SavedResponsesConstants").replyItemRef,children:[this.$2(),this.state.message]}),j.jsx(b("LayoutColumn.react"),{className:"_8frq",children:this.$1()}),this.props.isSavedReplyNewUI?this.$7():null]})})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesList.react",["ix","cx","fbt","Image.react","Link.react","PagesManagerMessagingAutomatedSequenceListItem.react","PagesManagerMessagingSavedRepliesListItem.react","React","SavedResponsesUtils","ScrollableArea.react","XUISpinner.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$8=function(a,c){return j.jsx(b("PagesManagerMessagingSavedRepliesListItem.react"),{className:d.$1(a)?"":"hidden_elem",isSavedReplyNewUI:d.props.isSavedReplyNewUI,onClick:d.props.onReplySelected,onDeleteClick:d.props.onDeleteClick,onEditClick:d.props.onEditClick,onMouseEnter:d.props.onReplyMouseEnter,onMouseLeave:d.props.onReplyMouseLeave,pageID:d.props.pageID,reply:a,searchTerm:d.props.filter,tokens:d.props.tokens},c)};return d}var d=c.prototype;d.$1=function(a){var b=this.props.filter.toLowerCase();return b===""&&this.props.matchingShortcut!==""?a.title!==null&&a.title!==void 0&&a.title.toLowerCase().indexOf(this.props.matchingShortcut)===0:a.message.toLowerCase().indexOf(b)!==-1||(a.title||"").toLowerCase().indexOf(b)!==-1};d.$2=function(){if(this.props.filter!==""){var a=this.props.filter.toLowerCase();return!this.props.replies.some(function(b){return(b.title||"").toLowerCase().indexOf(a)!==-1||b.message.toLowerCase().indexOf(a)!==-1})}return!1};d.$3=function(){return j.jsx(b("Link.react"),{className:"_22rv",onClick:this.props.onCreateNewReply,children:i._("Create saved reply")})};d.$4=function(){return j.jsx("div",{className:"_2ph_ _22ru",children:j.jsx("p",{children:this.$3()})})};d.$5=function(){return j.jsx("div",{children:j.jsx("div",{className:"_2ph_ _22rp",children:j.jsx(b("XUISpinner.react"),{size:"large"})})})};d.$6=function(){var a=b("SavedResponsesUtils").sortSavedResponses(this.props.replies,this.props.sortingKey);return j.jsx(b("ScrollableArea.react"),{fade:!0,height:300,shadow:!1,children:j.jsxs("ul",{className:"_22rt",children:[this.$7(),a.map(this.$8,this),j.jsx("li",{className:"_2ph_ _22rs",children:this.props.isSavedReplyNewUI?null:this.$4()}),j.jsx("li",{className:"_22rs",children:this.props.isSavedReplyNewUI&&this.$2()?j.jsxs("div",{className:"_81z3",children:[j.jsx(b("Image.react"),{className:"_3-90",src:g("952401")}),i._("No results found")]}):null})]})})};d.$7=function(){if(this.props.automatedCheckoutID!==void 0&&this.props.automatedCheckoutID!==null)return j.jsx(b("PagesManagerMessagingAutomatedSequenceListItem.react"),{isSavedReplyNewUI:this.props.isSavedReplyNewUI,onAutomatedSequenceEditClick:b("SavedResponsesUtils").editAutomatedCheckout,onAutomatedSequenceSelected:this.props.onAutomatedSequenceSelected,onMouseEnter:this.props.onReplyMouseEnter,pageID:this.props.pageID,searchTerm:this.props.filter,tokens:this.props.tokens})};d.render=function(){return j.jsxs("div",{className:"_22rq"+(this.props.isLoading?" _22rr":"")+(!this.props.isLoading&&this.props.replies.length===0?" _22rs":""),children:[this.props.isLoading?this.$5():null,this.$6()]})};return c}(j.PureComponent);e.exports=a}),null);
__d("SavedReplyDeleteReplyConfirmationModal.react",["fbt","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){return h.jsx(b("FDSModal.react"),{footer:h.jsx(b("FDSModalFooter.react"),{primaryButton:h.jsx(b("FDSButton.react"),{isDisabled:a.isDeleting,label:g._("Delete"),onClick:a.onConfirm,use:"primary"}),secondaryButton:h.jsx(b("FDSButton.react"),{label:g._("Cancel"),onClick:a.onHide})}),header:h.jsx(b("FDSModalHeader.react"),{title:g._("Delete saved reply?")}),isShown:a.shown,label:"Delete Saved Reply Modal",onHide:a.onHide,width:400,children:h.jsx(b("FDSSection.react"),{children:g._("You won't be able to send this saved reply later.")})})}e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesFlyout.react",["cx","fbt","ix","Layout.react","Image.react","LeftFillRightFitLayout.react","LeftRight.react","Link.react","PagesDeleteSavedResponseMutation","PagesManagerMessagingComposerActions","PagesManagerMessagingSavedRepliesEmptyState.react","PagesManagerMessagingSavedRepliesList.react","PagesMessagingInboxActionLogger","React","SavedReplyDeleteReplyConfirmationModal.react","SavedResponsesConstants","SavedResponsesEditResponseView.react","SavedResponsesOrderingMenu.react","XUICloseButton.react","XUITextInput.react","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={activeSortingOptionKey:b("SavedResponsesConstants").sortingKey.MOST_USED,responseToEdit:null,responseToDelete:null,searchQuery:"",savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST,showDeleteModal:!1,isDeleting:!1},d.$1=function(a){d.setState({activeSortingOptionKey:a}),b("PagesMessagingInboxActionLogger").logSavedReplySortClicked(a)},d.$2=function(a){a=a.target.value;d.setState({searchQuery:a})},d.$3=function(){d.setState({searchQuery:""})},d.$4=function(){d.setState({responseToEdit:null,savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.CREATE})},d.$5=function(){d.setState({savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE})},d.$6=function(a){d.setState({responseToEdit:a,savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.EDIT})},d.$7=function(){var a,c=d.state.responseToDelete;if(c==null)return;d.setState({isDeleting:!0});b("PagesDeleteSavedResponseMutation").commit(c.id,function(){d.$8(),d.props.onFetchReplies(),d.setState({isDeleting:!1})},function(){});b("PagesMessagingInboxActionLogger").logUpdateSavedReply(c.message,null,(a=c.title)!=null?a:"",null,(a=c)!=null?(a=a.image)!=null?a.id:a:a,null,null)},d.$9=function(a){a&&d.props.onFetchReplies(),d.props.upsellSpecificData?(b("PagesManagerMessagingComposerActions").setShouldShowSavedReplyUpsellNUX(!0),b("PagesManagerMessagingComposerActions").setShouldShowSavedReplyUpsellToast(!0),d.props.resetFlyoutTrigger()):d.setState({responseToEdit:null,savedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST})},d.$8=function(){d.setState({responseToDelete:null,showDeleteModal:!1})},d.$10=function(a){d.setState({responseToDelete:a,showDeleteModal:!0})},d.$11=function(){d.props.onReplyMouseLeave(),d.props.toggleFlyout(),d.props.openAutomatedSequenceDialog()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$12=function(){return l.jsx("div",{className:"_2ph_ _2gcu"+(this.props.isSavedReplyNewUI?"":" _7r86"),children:l.jsxs(b("LeftRight.react"),{children:[l.jsx("h3",{className:"_ht4",children:h._("Saved replies")}),this.props.isSavedReplyNewUI?this.props.replies.length===0?null:l.jsx(b("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",onClick:this.$4,children:h._("Create")}):l.jsx(b("Link.react"),{className:"PagesManagerMessagingFlyout/manageLink",onClick:this.props.onManageReplies,children:h._("Manage Replies")})]})})};d.$13=function(){return!this.props.isLoading&&this.props.replies.length===0&&this.props.isSavedReplyNewUI?l.jsx(b("PagesManagerMessagingSavedRepliesEmptyState.react"),{onCreateNewReply:this.$4}):l.jsx(b("PagesManagerMessagingSavedRepliesList.react"),{automatedCheckoutID:this.props.automatedCheckoutID,filter:this.state.searchQuery,isLoading:this.props.isLoading,isSavedReplyNewUI:this.props.isSavedReplyNewUI,matchingShortcut:this.props.matchingShortcut,onAutomatedSequenceSelected:this.$11,onCreateNewReply:this.props.onCreateNewReply,onDeleteClick:this.$10,onEditClick:this.$6,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.props.onReplySelected,pageID:this.props.pageID,replies:this.props.replies,sortingKey:this.state.activeSortingOptionKey,tokens:this.props.tokens})};d.$14=function(){if(this.props.isLoading||this.props.replies.length===0&&this.props.isSavedReplyNewUI)return null;var a="inputField";return l.jsxs(b("Layout.react"),{className:"_2ph_ _ht5",children:[l.jsx(j,{children:l.jsx(b("Image.react"),{className:"_ht8",src:i("27278")})}),l.jsx(k,{children:l.jsx(b("XUITextInput.react"),{className:"_ht9",onChange:this.$2,placeholder:h._("Search saved replies"),ref:a,value:this.state.searchQuery})}),l.jsx(j,{children:l.jsx(b("XUICloseButton.react"),{className:(this.state.searchQuery.length===0?"hidden_elem":"")+" _hta",onClick:this.$3,size:"small"})})]})};d.render=function(){this.props.upsellSavedRepliesFlyout&&this.$5();switch(this.state.savedResponsesManageViewType){case b("SavedResponsesConstants").editPanelViewMode.LIST:return l.jsxs("div",{className:"_2gcs",children:[this.$12(),l.jsxs(b("LeftFillRightFitLayout.react"),{children:[this.$14(),l.jsx(b("SavedResponsesOrderingMenu.react"),{activeSortingOptionKey:this.state.activeSortingOptionKey,className:"_2gct",onSortingKeyChanged:this.$1})]}),this.$13(),l.jsx(b("SavedReplyDeleteReplyConfirmationModal.react"),{isDeleting:this.state.isDeleting,onConfirm:this.$7,onHide:this.$8,shown:this.state.showDeleteModal})]});case b("SavedResponsesConstants").editPanelViewMode.EDIT:case b("SavedResponsesConstants").editPanelViewMode.CREATE:case b("SavedResponsesConstants").editPanelViewMode.PERSONALIZE:return l.jsx(b("SavedResponsesEditResponseView.react"),{initialResponse:this.state.responseToEdit,isSavedReplyNewUI:this.props.isSavedReplyNewUI,onClose:b("emptyFunction"),onEditDone:this.$9,onEnterPersonalizeView:this.$5,overrideRelayEnvironmentWithID:this.props.overrideRelayEnvironmentWithID,pageID:this.props.pageID,shouldOverrideRelayEnvironment:this.props.shouldOverrideRelayEnvironment,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG,supportedMacros:this.props.tokens,upsellSpecificData:this.props.upsellSpecificData})}};return c}(l.PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingSavedRepliesButton.react",["cx","fbt","BIZInboxClientLogger","Link.react","PagesEventObserver","PagesManagerInboxSavedRepliesUpsellNUXContainer.react","PagesManagerInboxSavedReplyNewUINuxContainer.react","PagesManagerMessagingSavedRepliesFlyout.react","React","SavedResponsesAutomatedSequenceDialog.react","SavedResponsesConstants","SavedResponsesManagePanel.react","XUIContextualDialog.react","XUIDialog.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST,isAutomatedSequenceDialogVisible:!1,isFlyoutVisible:!1,isManageDialogVisible:!1,upsellSavedRepliesFlyout:!1},d.$2=function(){d.setState({isAutomatedSequenceDialogVisible:!1})},d.$3=function(){b("PagesEventObserver").notify("saved_replies_toggle_browse_view",d.props.pageID,{toggle_on:!d.state.isFlyoutVisible}),d.props.onSavedReplyButtonClick(),d.$4()},d.$5=function(){d.props.onFetchReplies(),d.setState({isManageDialogVisible:!1})},d.$6=function(){window.setTimeout(function(){b("PagesEventObserver").notify("saved_replies_toggle_browse_view",d.props.pageID,{toggle_on:!1}),d.setState({isFlyoutVisible:!1})},0)},d.$7=function(){d.setState({isManageDialogVisible:!0,initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.CREATE})},d.$8=function(){d.setState({isManageDialogVisible:!0,initialSavedResponsesManageViewType:b("SavedResponsesConstants").editPanelViewMode.LIST})},d.$9=function(){d.setState({isAutomatedSequenceDialogVisible:!0})},d.$10=function(a,c,e,f){d.props.onReplySelected(a,c,e,f),d.setState({isFlyoutVisible:!1}),b("BIZInboxClientLogger").logSavedReplyClick(d.props.pageID,d.props.commPlatform,a.id,c)},d.$4=function(){d.setState(function(a,b){return{isFlyoutVisible:!a.isFlyoutVisible}})},d.$11=function(){d.setState({isFlyoutVisible:!1,upsellSavedRepliesFlyout:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(a){!this.state.isFlyoutVisible&&a.upsellSpecificData!==this.props.upsellSpecificData&&this.$1()};d.$1=function(){this.setState({isFlyoutVisible:!0,upsellSavedRepliesFlyout:!0})};d.$12=function(){if(this.state.isAutomatedSequenceDialogVisible&&this.props.automatedCheckoutID!==void 0&&this.props.automatedCheckoutID!==null)return i.jsx(b("SavedResponsesAutomatedSequenceDialog.react"),{automatedCheckoutID:this.props.automatedCheckoutID,onHide:this.$2,pageID:this.props.pageID,recipientID:this.props.recipientID,ref:b("SavedResponsesConstants").automatedSequenceDialogRef})};d.$13=function(){var a=this;if(this.state.isFlyoutVisible)return i.jsx(b("XUIContextualDialog.react"),{alignment:"right",className:"_ht1",contextRef:function(){return a.refs.icon},hasActionableContext:!0,hideOnEscape:!1,onBlur:this.$6,position:Boolean(this.props.isInModal)?"left":"above",ref:b("SavedResponsesConstants").flyoutDialogRef,shown:this.state.isFlyoutVisible,width:this.props.isSavedReplyNewUI?b("SavedResponsesConstants").managementDialogWidth:b("SavedResponsesConstants").flyoutDialogWidth,children:i.jsx(b("PagesManagerMessagingSavedRepliesFlyout.react"),{automatedCheckoutID:this.props.automatedCheckoutID,isLoading:this.props.isSavedRepliesLoading,isSavedReplyNewUI:this.props.isSavedReplyNewUI,matchingShortcut:this.props.matchingShortcut,onCreateNewReply:this.$7,onFetchReplies:this.props.onFetchReplies,onManageReplies:this.$8,onReplyMouseEnter:this.props.onReplyMouseEnter,onReplyMouseLeave:this.props.onReplyMouseLeave,onReplySelected:this.$10,openAutomatedSequenceDialog:this.$9,overrideRelayEnvironmentWithID:this.props.overrideRelayEnvironmentWithID,pageID:this.props.pageID,replies:this.props.replies,resetFlyoutTrigger:this.$11,shouldOverrideRelayEnvironment:this.props.shouldOverrideRelayEnvironment,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG,toggleFlyout:this.$4,tokens:this.props.tokens,upsellSavedRepliesFlyout:this.state.upsellSavedRepliesFlyout,upsellSpecificData:this.props.upsellSpecificData})})};d.$14=function(){if(this.state.isManageDialogVisible)return i.jsx(b("XUIDialog.react"),{layerHideOnBlur:!1,ref:b("SavedResponsesConstants").managementDialogRef,shown:this.state.isManageDialogVisible,width:b("SavedResponsesConstants").managementDialogWidth,children:i.jsx(b("SavedResponsesManagePanel.react"),{initialViewType:this.state.initialSavedResponsesManageViewType,onClose:this.$5,otherUserID:this.props.recipientID,overrideRelayEnvironmentWithID:this.props.overrideRelayEnvironmentWithID,pageID:this.props.pageID,shouldOverrideRelayEnvironment:this.props.shouldOverrideRelayEnvironment})})};d.render=function(){var a=this,c=h._("Insert saved reply"),d="icon",e=this.props.isSavedRepliesLoading===!0||this.props.replies.length>2;return i.jsxs("div",{children:[i.jsx(b("Link.react"),{"aria-label":this.props.showTooltip?c:null,className:"_hsy","data-hover":"tooltip","data-tooltip-align":"right","data-tooltip-content":this.props.showTooltip?c:null,onClick:this.$3,children:i.jsx("div",{className:(this.props.matchingShortcut===""?"_ht0":"")+(this.props.matchingShortcut!==""?" _7tab":""),ref:d})}),this.props.isSavedReplyNewUI?i.jsx(b("PagesManagerInboxSavedReplyNewUINuxContainer.react"),{contextRef:function(){return a.refs.icon},haveUsedSavedReplies:e}):null,i.jsx(b("PagesManagerInboxSavedRepliesUpsellNUXContainer.react"),{contextRef:function(){return a.refs.icon}}),this.$12(),this.$13(),this.$14()]})};return c}(i.PureComponent);e.exports=a}),null);
__d("XPagesMessagingSuggestedResponseController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/suggestedresponse/",{})}),null);
__d("XPagesMessagingSuggestedResponseFeedbackController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/suggestedresponse/feedback/",{})}),null);
__d("PagesMessengerHotLikeGlyphIcon.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("div",{className:"_43_3"})};return b}(h.Component);e.exports=a}),null);
__d("PagesManagerMessagingComposerView.react",["ix","cssVar","cx","fbt","EditorState","Image.react","JSResource","MercuryDragDropPrompt.react","MercuryShareAttachmentRenderLocations","MessengerHotLikeButton.react","OrderDetailsAdminButton.react","PagesEventObserver","PagesInterfaceSmartCompose.react","PagesManagerInboxComposerCreateAppointmentButton.react","PagesManagerInboxComposerSendAvailabilityButton.react","PagesManagerInboxProductPickerButton.react","PagesManagerInboxReturnToSendNUX.react","PagesManagerLogger","PagesManagerMessagingComposerAttachmentList.react","PagesManagerMessagingSavedRepliesButton.react","PagesMessageSuggestedResponseHandler","PagesMessagingInboxActionLogger","PagesMessagingPerfTypedLogger","PagesMessengerFileUploader.react","PagesMessengerHotLikeGlyphIcon.react","PagesMessengerSuggestedResponseView.react","PagesMessengerTextInput.react","QE2Logger","React","SavedResponsesUtils","Tooltip.react","TooltipData","UFIStickerButton.react","XUIButton.react","fbglyph","lazyLoadComponent","prop-types","Grid.react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React");a=function(){};b("Grid.react").GridItem;var l=b("lazyLoadComponent")(b("JSResource")("CommerceInvoiceAdminButton.react").__setRef("PagesManagerMessagingComposerView.react"));c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={isAttachmentsButtonVisible:!0,isSavedRepliesButtonVisible:!0,isSavedRepliesShortcutButtonVisible:!1,isStickerButtonVisible:!0,placeholder:"",editorState:b("EditorState").createEmpty()};d.getContextRef=function(){return d.$2};d.$7=function(a){a.preventDefault();a=Date.now();b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_send_message",d.props.userID);new(b("PagesMessagingPerfTypedLogger"))().setPageID(d.props.userID).setEventName("messages_send_message_js_start").log();d.props.onSend(a)};d.$11=function(){var a=Date.now();b("PagesManagerLogger").logMessageInboxUIAction("message_inbox_click_send_message",d.props.userID);new(b("PagesMessagingPerfTypedLogger"))().setPageID(d.props.userID).setEventName("messages_send_message_js_start").log();d.props.onSend(a);a=b("EditorState").createEmpty();d.setEditorState(a)};d.setEditorState=function(a){d.setState({editorState:a})};d.$16=function(a){d.setState({placeholder:a})};d.$17=function(){d.setState({placeholder:""})};d.$19=function(){b("PagesMessagingInboxActionLogger").logSavedReplyButtonClicked(d.props.commPlatform,d.props.matchingShortcut)};d.$18=function(a,c,e,f){d.setState({placeholder:""});d.props.onReplySelected(c,e);b("PagesEventObserver").notify("saved_replies_apply_reply",d.props.userID);b("SavedResponsesUtils").notifySavedResponseApplied(a);b("PagesMessagingInboxActionLogger").logApplySavedReply(d.props.commPlatform,d.props.matchingShortcut,f,a.message,(c=a.title)!=null?c:"",e!==null,d.props.recipientID)};d.$1=!1;babelHelpers.assertThisInitialized(d).setEditorState=d.setEditorState.bind(babelHelpers.assertThisInitialized(d));return d}var d=c.prototype;d.componentDidUpdate=function(a,b){this.props.onInitialRender&&this.props.participant&&this.refs.textInput&&!this.$1&&(this.props.onInitialRender(),this.$1=!0),a&&a.message!==this.props.message&&this.props.shouldUseSmartComposeTextInput!==!0&&this.refs.textInput.updateHeight()};d.UNSAFE_componentWillMount=function(){this.$3(this.props)};d.UNSAFE_componentWillReceiveProps=function(a){this.$3(a,this.state)};d.$3=function(a){var b=a.attachments.length,c=a.message.length;c=c<1&&b<1;b=this.props.supportMultiAttachments||b<1;this.setState({isAttachmentsButtonVisible:b,isSavedRepliesButtonVisible:c||a.isSavedReplyNewUI,isStickerButtonVisible:c})};d.$4=function(){return this.props.canAttachFiles};d.$5=function(){return this.props.canUseSavedReplies&&this.state.isSavedRepliesButtonVisible};d.$6=function(){return this.props.canUseStickers&&this.state.isStickerButtonVisible};d.$8=function(){if(!this.$4())return null;var a=j._("Attach a file");return k.jsx("div",babelHelpers["extends"]({className:"_4dvy"+(this.state.isAttachmentsButtonVisible?"":" hidden_elem")},b("TooltipData").propsFor(a),{children:k.jsx(b("PagesMessengerFileUploader.react"),{actionURI:this.props.uploaderActionURI,iconSize:"large",supportMulti:this.props.supportMultiAttachments,onFileUploaderMounted:this.props.onFileUploaderMounted,onSubmit:this.props.onFileUploaderSubmit,onUpdateAttachmentsShelf:this.props.onFileUploadUpdateUI,onUploadFinished:this.props.onFileUploadFinished,ref:"fileUploader"})}))};d.$9=function(){return!this.props.canAttachFiles?null:k.jsx(b("PagesManagerMessagingComposerAttachmentList.react"),{attachments:this.props.attachments,attachmentsUploading:this.props.attachmentsUploading,onDetach:this.props.onAttachmentDetach,ref:"attachmentList"})};d.$10=function(){if(this.props.canUseHotLike&&this.props.threadID&&this.props.message.length<1&&this.props.attachments.length<1){var a=this.props.threadID;return k.jsx("span",{className:"_1z9h",children:k.jsx(b("MessengerHotLikeButton.react"),{CustomRenderer:this.props.isInboxDetailView?b("PagesMessengerHotLikeGlyphIcon.react"):void 0,customColor:this.props.isInboxDetailView?void 0:"#0084ff",disabled:!this.props.threadID,location:b("MercuryShareAttachmentRenderLocations").PAGES_INBOX,sendSticker:this.props.onStickerSelected,renderSize:24,threadID:a})})}return null};d.$12=function(){var a=this.state.placeholder||(this.props.commPlatform==="WEC"?j._("Type a message..."):j._("Write a reply...")),c="textInput";if(this.props.shouldUseSmartComposeTextInput&&this.props.commPlatform==="MESSENGER")return k.jsx("div",{className:"_4dv-",children:k.jsx(b("PagesInterfaceSmartCompose.react"),{editorState:this.state.editorState,handleReturn:this.$11,onChange:this.props.onInputSmartComposeChange,setEditorState:this.setEditorState,threadID:this.props.threadID})});else return k.jsx("div",{className:"_4dv-",children:k.jsx(b("PagesMessengerTextInput.react"),{className:"_1p7p _5id1 _4dv_",maxLength:this.props.maxLength,onChange:this.props.onInputChange,onFocus:this.props.onFocus,onInputReady:this.props.onInputReady,onNoShiftEnter:this.props.isQuickReplyMode?this.$7:null,placeholder:a,ref:c,value:this.props.message})})};d.$13=function(){return k.jsx("div",{className:"_6fk",ref:"linkPreview"})};d.$14=function(){return k.jsx("div",{className:"_4dw0",children:k.jsx(b("Image.react"),{className:"_1cjc",src:this.props.persona&&this.props.persona.profilePicUrl?this.props.persona.profilePicUrl:this.props.participant.image_src})})};d.$15=function(){return!this.$5()||!this.props.recipientID?null:k.jsx("span",{className:"_4dw1",children:k.jsx(b("PagesManagerMessagingSavedRepliesButton.react"),{automatedCheckoutID:this.props.automatedCheckoutID,commPlatform:this.props.commPlatform,isSavedRepliesLoading:this.props.isSavedRepliesLoading,isSavedReplyNewUI:this.props.isSavedReplyNewUI,matchingShortcut:this.props.matchingShortcut,onFetchReplies:this.props.onFetchReplies,onReplyMouseEnter:this.$16,onReplyMouseLeave:this.$17,onReplySelected:this.$18,onSavedReplyButtonClick:this.$19,pageID:this.props.userID,recipientID:this.props.recipientID,replies:this.props.savedReplyResponses,shouldShowSavedReplyInIG:this.props.shouldShowSavedReplyInIG,showTooltip:!0,tokens:this.props.savedReplyTokens,upsellSpecificData:this.props.upsellSpecificData})})};d.$20=function(a){b("PagesMessagingInboxActionLogger").logSendButtonClicked(this.props.commPlatform,this.props.matchingShortcut,this.props.isQuickReplyMode),this.props.shouldUseSmartComposeTextInput?this.$11():this.$7(a)};d.$21=function(){var a=this,c=j._("Send"),d=this.props.message.length<1&&this.props.attachments.length<1;return k.jsx("div",{className:"_4dw3"+(d?" hidden_elem":""),"data-testid":void 0,children:k.jsx(b("XUIButton.react"),{disabled:this.props.isSendBlocked,label:c,onClick:function(b){return a.$20(b)},use:"confirm"})})};d.$22=function(){if(!this.$6())return null;var a=j._("Post a Sticker");return k.jsx("span",{className:"_4dw4",children:k.jsx(b("UFIStickerButton.react"),{onStickerSelected:this.props.onStickerSelected,children:k.jsx("div",{alt:a,className:"_3fhi"})})})};d.$23=function(){return!this.props.canCreateAppointment||!this.props.recipientID?null:k.jsx("span",{className:"_43nn",children:k.jsx(b("PagesManagerInboxComposerCreateAppointmentButton.react"),{creatorInfo:this.props.creatorInfo,pageID:this.props.userID,recipientID:this.props.recipientID,showTooltip:!0,threadID:this.props.threadID})})};d.getSendAvailabilityButton=function(){return!this.props.canSendAvailability||!this.props.recipientID?null:k.jsx("span",{className:"_43nn",children:k.jsx(b("PagesManagerInboxComposerSendAvailabilityButton.react"),{pageID:this.props.userID,recipientID:this.props.recipientID,showTooltip:!0,threadID:this.props.threadID})})};d.$24=function(){if(!this.props.shouldShowCommerceInvoiceButton||this.props.commPlatform!=="MESSENGER"||this.props.recipientID==null)return null;if(this.props.isEligibleForOrderDetailsInComposer){b("QE2Logger").logExposureForPage("www_order_details_composer_entry_point",this.props.userID);if(this.props.shouldShowOrderDetailsInComposer){var a;return k.jsx("div",{className:"_3w8o",children:k.jsx(b("OrderDetailsAdminButton.react"),{defaultCurrency:this.props.defaultCurrency,pageID:this.props.userID,userID:(a=this.props.recipientID)!=null?a:""})})}}return k.jsx(k.Suspense,{fallback:null,children:k.jsx("div",{className:"_3w8o",children:k.jsx(l,{defaultCurrency:this.props.defaultCurrency,pageID:this.props.userID,recipientID:this.props.recipientID,shouldShowBonusTracker:this.props.shouldShowBonusTracker,shouldShowCommerceInvoiceSimplifiedFlow:this.props.shouldShowCommerceInvoiceSimplifiedFlow,shouldShowConfirmPayment:this.props.shouldShowConfirmPayment,shouldShowPaymentOnboarding:this.props.shouldShowPaymentOnboarding,shouldShowPUX:this.props.shouldShowCommerceInvoiceButtonPUX,shouldShowRequestPayment:this.props.shouldShowRequestPayment,shouldShowShippingNUX:this.props.shouldShowInvoiceShippingNUX,shouldUseKbankOnboarding:this.props.shouldUseKbankOnboarding})})})};d.$25=function(){return k.jsx(b("PagesMessengerSuggestedResponseView.react"),{onAccepted:this.props.onSuggestedResponseAccept,onDeclined:this.props.onSuggestedResponseDecline,suggestedResponseHandler:this.props.suggestedResponseHandler})};d.render=function(){var a=this;if(!this.props.recipientID||!this.props.threadID||!this.props.participant)return k.jsx("div",{className:"__1d"});else if(this.props.isBlocked){new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName("composer_blocked_with_warning").log();return k.jsxs("div",{className:"_50wh",children:[j._("Your Page is no longer able to send messages to this person."),k.jsx(b("Tooltip.react"),{tooltip:j._("A Page may be unable to send messages to someone if they are no longer on Facebook, if they pose a security risk or if they have chosen not to receive messages."),children:k.jsx("a",{href:"https://www.facebook.com/help/307375982614147",children:k.jsx(b("Image.react"),{src:g("126341"),style:{verticalAlign:"-2px"}})})})]})}return k.jsxs("div",{className:"__1d","data-testid":void 0,children:[k.jsx(b("MercuryDragDropPrompt.react"),{}),k.jsxs("div",{className:"_4dw9",children:[this.$14(),this.$12(),k.jsxs("div",{className:"_3-8o _4dwa",children:[k.jsx(m,{classProps:this.props}),this.$24(),this.$8(),this.$22(),this.$15(),this.$23(),this.getSendAvailabilityButton(),k.jsx("span",{ref:function(b){a.$2=b},children:this.$10()}),this.$21(),k.jsx(b("PagesManagerInboxReturnToSendNUX.react"),{contextRef:this.getContextRef})]})]}),k.jsxs("div",{className:"_6fl",children:[this.$25(),this.$13()]}),this.$9()]})};return c}(k.PureComponent);c.propTypes={attachments:(d=b("prop-types")).array,canAttachFiles:d.bool,canCreateAppointment:d.bool,canUseHotLike:d.bool,canUseSavedReplies:d.bool,canUseStickers:d.bool,isQuickReplyMode:d.bool,isSavedRepliesLoading:d.bool,isSendBlocked:d.bool,message:d.string.isRequired,onAttachmentDetach:d.func,onFetchReplies:d.func.isRequired,onFileUploaderSubmit:d.func,onFileUploaderMounted:d.func,onFileUploadFinished:d.func,onFocus:d.func,onInitialRender:d.func,onInputChange:d.func,onSend:d.func,onStickerSelected:d.func,onSuggestedResponseAccept:d.func,onSuggestedResponseDecline:d.func,participant:d.object,recipientID:d.string,savedReplies:d.object,shouldShowBonusTracker:d.bool,shouldShowInvoiceShippingNUX:d.bool,shouldShowPaymentOnboarding:d.bool,shouldShowConfirmPayment:d.bool,shouldShowRequestPayment:d.bool,suggestedResponseHandler:d.instanceOf(b("PagesMessageSuggestedResponseHandler")),uploaderActionURI:d.string,userID:d.string};c.defaultProps={attachments:[],canAttachFiles:!0,canCreateAppointment:!1,canUseHotLike:!0,canUseSavedReplies:!0,canUseStickers:!0,isSendBlocked:!1,maxLength:null,onAttachmentDetach:a,onFileUploaderMounted:a,onFileUploaderSubmit:a,onFileUploadFinished:a,onInputChange:a,onSend:a,onStickerSelected:a,onSuggestedResponseAccept:a,shouldShowBonusTracker:!1,shouldShowCommerceInvoiceButton:!1,shouldShowCommerceInvoiceButtonNUX:!1,shouldShowCommerceInvoiceButtonPUX:!1,shouldShowInvoiceShippingNUX:!1,shouldShowPaymentOnboarding:!1,shouldShowConfirmPayment:!1,shouldShowRequestPayment:!1,shouldUseKbankOnboarding:!1};function m(a){return!a.classProps.shouldShowProductPickerInComposer||a.classProps.commPlatform!=="MESSENGER"||a.classProps.recipientID==null?null:k.jsx("span",{className:"_8ii8",children:k.jsx(b("PagesManagerInboxProductPickerButton.react"),{pageID:a.classProps.userID,recipientID:a.classProps.recipientID})})}e.exports=c}),null);
__d("PagesManagerMessagingNUXActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({RESET_STEP:"",SET_IS_VISIBLE:"",SET_ROOT_ELEMENT:"",SET_STEP:"",SET_SHOULD_SHOW_BANNER:"",SET_SHOULD_SHOW_CONTEXT_CARD_STEP:"",SET_DEPENDENCY_READY:{COMPOSER:"",CONTEXT_CARD:"",THREADLIST:""}});e.exports=a}),null);
__d("PagesManagerMessagingNUXDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ReactDispatcher_DEPRECATED"))()}),null);
__d("PagesManagerMessagingNUXActions",["PagesManagerMessagingNUXActionTypes","PagesManagerMessagingNUXDispatcher"],(function(a,b,c,d,e,f){"use strict";a={resetStep:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").RESET_STEP})},setComposerReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.COMPOSER})},setContextCardReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.CONTEXT_CARD})},setThreadlistReady:function(){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_DEPENDENCY_READY.THREADLIST})},setIsVisible:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_IS_VISIBLE,isVisible:a})},setRootElement:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_ROOT_ELEMENT,rootElement:a})},setStep:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_STEP,step:a})},setShouldShowBanner:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_BANNER,shouldShow:a})},setShouldShowContextCardStep:function(a){b("PagesManagerMessagingNUXDispatcher").dispatch({actionType:b("PagesManagerMessagingNUXActionTypes").SET_SHOULD_SHOW_CONTEXT_CARD_STEP,shouldShow:a})}};e.exports=a}),null);
__d("XShareScrapeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/share_scrape/",{})}),null);
__d("XPagesMessagingBlockController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/message/isblocked/",{recipient_id:{type:"String",required:!0}})}),null);
__d("PagesManagerMessagingComposerContainer.react",["invariant","ActorURI","AsyncRequest","BIZInboxClientLogger","DragDropTarget","FluxContainer","MBNotifLoggingUtils","MediaManagerInboxContext.react","MercuryIDs","MercuryLocalIDs","MercuryMessageObject","MercuryThreadIDMap","MercuryTriodeSourceUtil","MessengerConstants","MessengerParticipants.bs","PagesCommsInboxTypedLogger","PagesEventObserver","PagesManagerDisableComposerView.react","PagesManagerInboxComposerStateReasonType","PagesManagerInboxLogger","PagesManagerMessagingComposerActions","PagesManagerMessagingComposerDispatcher","PagesManagerMessagingComposerStore","PagesManagerMessagingComposerView.react","PagesManagerMessagingNUXActions","PagesMarketingAutomationActions","PagesMarketingAutomationUtils","PagesMessagingConfig","PagesMessagingPerfTypedLogger","PagesMessengerShareLinkUploader","React","ReactDOM","SavedResponsesUtils","SubscriptionsHandler","TypingDetectorController","URI","XPagesMessagingBlockController","emptyFunction","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h;a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var i=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerMessagingComposerStore")]};c.calculateState=function(a,c){var d=a?a.isShareLinkUploading:!1,e=a?a.isBlocked:!1;return{attachments:b("PagesManagerMessagingComposerStore").getAllAttachmentsMeta(),automatedCheckoutID:b("PagesManagerMessagingComposerStore").getAutomatedCheckoutId(),isAttachmentUploading:b("PagesManagerMessagingComposerStore").getIsAttachmentUploading(),isSavedReplyResponsesLoading:a?a.isSavedReplyResponsesLoading:!1,isSavedReplyTokensLoading:a?a.isSavedReplyTokensLoading:!1,isQuickReplyMode:b("PagesManagerMessagingComposerStore").getQuickReplyMode(),isShareLinkUploading:d,message:b("PagesManagerMessagingComposerStore").getMessage(),participant:b("PagesManagerMessagingComposerStore").getParticipant(),savedReplyTokens:b("PagesManagerMessagingComposerStore").getSavedReplyTokens(),savedReplyResponses:b("PagesManagerMessagingComposerStore").getSavedReplyResponses(),matchingShortcut:b("PagesManagerMessagingComposerStore").getMatchingShortcut(),supportMultiAttachments:c.commPlatform!=="WEC",uploaderActionURI:b("PagesManagerMessagingComposerStore").getUploadActionFromUserID(c.commPlatform,c.userID),isBlocked:e,composerStateReason:b("PagesManagerMessagingComposerStore").getComposerStateReason()}};function c(c){var d;d=a.call(this,c)||this;d.$6=!1;d.$10=function(a){d.$4&&d.$4.destroy(),d.$4=null,d.props.threadID!==b("MessengerConstants").NEW_THREAD_KEY&&a&&(d.$4=new(b("TypingDetectorController"))(d.props.thread,b("MercuryIDs").getUserIDFromThreadID(d.props.threadID),a,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),null,b("MercuryThreadIDMap").getForFBID(d.props.userID).getServerIDFromClientIDNow(d.props.threadID),function(){return d.state.message},d.props.userID))};d.__onSendMessageHandleException=function(a){try{d.__onSendMessage(a)}catch(a){new(b("PagesMessagingPerfTypedLogger"))().setPageID(d.props.userID).setEventName("messages_send_message_js_exception").setExceptionMessage(a.message).setStack(a.stack).log()}};b("PagesManagerMessagingComposerDispatcher").explicitlyRegisterStores([b("PagesManagerMessagingComposerStore")]);d.$3=new(h||(h=b("URI")))(window.location.href);return d}var d=c.prototype;d.componentDidMount=function(){b("PagesManagerMessagingComposerActions").clearMessage(),b("PagesManagerMessagingComposerActions").detachAllAttachments(),b("PagesManagerMessagingComposerActions").clearShareLinkUploader(),this.$5(this.props.userID),this.$6=!0,this.__fetchSavedReplyTokens(),this.__fetchSavedReplies()};d.componentDidUpdate=function(a){this.props.recipientID&&this.props.threadID&&(!a.recipientID||!a.threadID)&&(b("PagesManagerMessagingNUXActions").setComposerReady(),this.props.onInitialRender&&this.props.onInitialRender()),this.props.recipientID!==null&&this.props.recipientID!==a.recipientID&&(this.__fetchSavedReplyTokens(),this.isRecipientBlocked(this.props.recipientID))};d.UNSAFE_componentWillReceiveProps=function(a){this.$7(a),a.threadID!==this.props.threadID&&(b("PagesManagerMessagingComposerActions").clearMessage(),b("PagesManagerMessagingComposerActions").detachAllAttachments(),b("PagesManagerMessagingComposerActions").clearShareLinkUploader()),a.userID!==this.props.userID&&this.$5(a.userID)};d.UNSAFE_componentWillUpdate=function(a,b){this.props.onMessageOrAttachmentUpdate&&(b.attachments.length!==this.state.attachments.length||b.message!==this.state.message)&&this.props.onMessageOrAttachmentUpdate()};d.componentWillUnmount=function(){this.__subscriptions&&this.__subscriptions.release(),this.$4&&this.$4.destroy(),this.$6=!1};d.UNSAFE_componentWillMount=function(){this.$7(this.props),this.__subscriptions=new(b("SubscriptionsHandler"))()};d.$8=function(a){this.__subscriptions.addSubscriptions(a.subscribe("one-upload-completed",this.__onFileUploaderOneUploadComplete.bind(this)))};d.$9=function(){var a=this,c=new(b("PagesMessengerShareLinkUploader"))(b("ReactDOM").findDOMNode(this.refs.composer.refs.linkPreview),this.refs.composer.refs.textInput.refs.input,b("emptyFunction"),b("emptyFunction"),this.props.userID);this.__subscriptions.addSubscriptions(c.subscribe("link-detected",function(){if(!a.$6)return;a.setState({isShareLinkUploading:!0});a.props.onMessageOrAttachmentUpdate&&a.props.onMessageOrAttachmentUpdate()}),c.subscribe("share-loaded",function(){if(!a.$6)return;a.setState({isShareLinkUploading:!1})}),c.subscribe("closed",function(){if(!a.$6)return;a.props.onMessageOrAttachmentUpdate&&a.props.onMessageOrAttachmentUpdate()}));b("PagesMessagingConfig").dragdropEnabled&&(this.$1=this.$1||new(b("DragDropTarget"))(b("ReactDOM").findDOMNode(this)).enable(),this.$1.setOnURLDropCallback(function(a){return c.loadShare(a)}));b("PagesManagerMessagingComposerActions").setShareLinkUploader(c)};d.__fetchSavedReplyTokens=function(){var a=this;if(this.state.isSavedReplyTokensLoading||!this.props.userID||!this.props.recipientID)return;this.setState({isSavedReplyTokensLoading:!0});b("SavedResponsesUtils").fetchSavedResponseTokens(this.props.userID,this.props.recipientID,null,"MESSENGER",function(c){a.$6&&a.setState({isSavedReplyTokensLoading:!1}),b("PagesManagerMessagingComposerActions").setSavedReplyTokens(c)})};d.__fetchSavedReplies=function(){var a=this;if(this.state.isSavedReplyResponsesLoading||!this.props.userID||!this.props.recipientID)return;this.setState({isSavedReplyResponsesLoading:!0});b("SavedResponsesUtils").fetchSavedResponse(this.props.userID,function(c){a.$6&&a.setState({isSavedReplyResponsesLoading:!1}),b("PagesManagerMessagingComposerActions").setSavedReplyResponses(c)});b("SavedResponsesUtils").fetchCheckoutForSavedResponse(this.props.userID,function(a,c){b("PagesManagerMessagingComposerActions").setAutomatedCheckoutId(a),b("PagesMarketingAutomationUtils").fetchAndStoreAutomatedCheckoutData(a),b("PagesMarketingAutomationActions").updateAutomationType(c)})};d.$7=function(a){a=a.userID;a||g(0,3793);this.$2=b("MercuryMessageObject").getForFBID(a)};d.$5=function(a){a=b("MercuryIDs").getParticipantIDFromUserID(a);b("MessengerParticipants.bs").get(a,function(a){b("PagesManagerMessagingComposerActions").setParticipant(a)})};d.isSendBlocked=function(){return this.state.isAttachmentUploading||this.state.isShareLinkUploading||this.state.message===""&&this.state.attachments.length<1?!0:!1};d.isRecipientBlocked=function(a){a=b("ActorURI").create(b("XPagesMessagingBlockController").getURIBuilder().setString("recipient_id",a).getURI(),this.props.userID);new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.payload;if(!this.$6)return;this.setState({isBlocked:a});return}.bind(this)).send()};d.__onAttachmentDetach=function(a){b("PagesManagerMessagingComposerActions").detachAttachment(a)};d.__onFileUploaderMounted=function(a){this.$8(a),b("PagesMessagingConfig").dragdropEnabled&&(this.$1=this.$1||new(b("DragDropTarget"))(b("ReactDOM").findDOMNode(this)).enable(),this.$1.setOnFilesDropCallback(this.$11.bind(this))),b("PagesManagerMessagingComposerActions").fileUploaderReady(a)};d.__onFileUploaderOneUploadComplete=function(a,c){b("PagesManagerMessagingComposerActions").completeAttachment(c)};d.__onFileUploaderSubmit=function(a,c){b("PagesManagerMessagingComposerActions").startAttachment(c.files),this.refs.composer&&this.refs.composer.refs.textInput&&this.refs.composer.refs.textInput.refs.input&&b("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};d.__onFileUploadFinished=function(a){a==="all-uploads-completed"&&b("PagesManagerMessagingComposerActions").completeAllAttachments()};d.__onInputValueChange=function(a){b("PagesManagerMessagingComposerActions").setMessage(a.target.value)};d.__onInputValueChangeSmartCompose=function(a){b("PagesManagerMessagingComposerActions").setMessage(a)};d.__onReplySelected=function(a,c){var d=b("PagesManagerMessagingComposerStore").getFileUploader();b("PagesManagerMessagingComposerActions").detachAllAttachments();b("PagesManagerMessagingComposerActions").setMessage(a);c&&d&&d.addCachedAttachments([c]);this.refs.composer&&this.refs.composer.refs.textInput&&b("ReactDOM").findDOMNode(this.refs.composer.refs.textInput.refs.input).focus()};d.__onSendMessage=function(a){var c=this.state.message;b("PagesManagerInboxLogger").logSendMessage("MESSENGER",this.props.userID,this.state.isQuickReplyMode);this.context&&this.context.logSendMessageToTargetUser!==b("emptyFunction")&&this.context.logSendMessageToTargetUser(this.props.recipientID,this.props.commPlatform,this.props.mediaManagerInboxRowIndex,this.props.selectedFolder);var d=b("PagesManagerMessagingComposerStore").getAttachedAttachmentIds(),e=b("PagesManagerMessagingComposerStore").getAttachedImageIds(),f=b("PagesManagerMessagingComposerStore").getAttachedAnimatedImageIds(),g=b("PagesManagerMessagingComposerStore").getAttachedVideoIds(),h=b("PagesManagerMessagingComposerStore").getAttachedAudioFilesIds(),i=b("PagesManagerMessagingComposerStore").getAttachedFilesIds(),j=b("PagesManagerMessagingComposerStore").getShareLink(),k=this.$2.constructUserGeneratedMessageObject(c,"source:page_unified_inbox",this.props.threadID,null,this.props.creatorInfo);if(this.isSendBlocked()||!c&&!d.length&&!h.length&&!e.length&&!i.length&&!f.length&&!g.length&&!j)return;c="text";j&&(k.has_attachment=!0,k.shareable_attachment=j,c="xma");d.length>0&&(k.has_attachment=!0,k.raw_attachments=d);e.length>0&&(k.image_ids=e,k.has_attachment=!0,c="photos");f.length>0&&(k.gif_ids=f,k.has_attachment=!0,c="gif");g.length>0&&(k.video_ids=g,k.has_attachment=!0,c="video");h.length>0&&(k.audio_ids=h,k.has_attachment=!0,c="audio");i.length>0&&(k.file_ids=i,k.has_attachment=!0,c="files");b("PagesEventObserver").logData_DEPRECATED({page_id:this.props.userID,event_name:"messages_dialog_send",thread_id:this.props.threadElementID},null);k.offline_threading_id=b("MercuryLocalIDs").generateOfflineThreadingID(k.timestamp);this.props.messageActions.send(k);j=k.has_attachment?"text_with_attachments":"text_only";b("MBNotifLoggingUtils").logAdminReply(j);if(k.thread_id&&k.thread_id.split(":")&&k.thread_id.split(":").length===2){d=k.thread_id.split(":")[1];new(b("PagesCommsInboxTypedLogger"))().setFunnel("page_send_to_user").setCustomerID(d).setMessageID(k.offline_threading_id).setEvent("tapped_send").setClientTime(k.timestamp).setMessagingPlatform("messenger").setPageID(this.props.userID).log()}b("PagesManagerMessagingComposerActions").detachAllAttachments();b("PagesManagerMessagingComposerActions").clearMessage();b("PagesManagerMessagingComposerActions").clearShareLinkUploader();this.$4&&this.$4.resetState();this.props.onSendMessage&&this.props.onSendMessage();new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.userID).setEventName("messages_send_message_js_end").setPerfTime(Date.now()-a).log();b("BIZInboxClientLogger").logMessageSend(this.props.userID,"MESSENGER",this.props.threadID,c)};d.__onStickerSelected=function(a){this.context&&this.context.logSendStickerToTargetUser!==b("emptyFunction")&&this.context.logSendStickerToTargetUser(this.props.recipientID,this.props.commPlatform,this.props.mediaManagerInboxRowIndex,a,this.props.selectedFolder);var c=this.$2.constructUserGeneratedMessageObject("","source:titan:web",this.props.threadID,null,this.props.creatorInfo);c.has_attachment=!0;c.sticker_id=a;this.props.messageActions.send(c);b("BIZInboxClientLogger").logMessageSend(this.props.userID,"MESSENGER",this.props.threadID,"sticker");b("PagesManagerMessagingComposerActions").clearMessage();b("MBNotifLoggingUtils").logAdminReply("sticker_or_like")};d.$11=function(a){this.refs.composer&&this.refs.composer.refs.fileUploader&&this.refs.composer.refs.fileUploader.addFiles(a)};d.render=function(){var a=this;if(this.props.commPlatform==="WEC")if(this.state.composerStateReason!==null)return this.state.composerStateReason===b("PagesManagerInboxComposerStateReasonType").DISABLE_LEFT_GROUP?i.jsx(b("PagesManagerDisableComposerView.react"),{composerStateReason:this.state.composerStateReason}):i.jsx(b("PagesManagerMessagingComposerView.react"),babelHelpers["extends"]({},this.props,this.state,{isSendBlocked:this.isSendBlocked(),onAttachmentDetach:this.__onAttachmentDetach.bind(this),onFetchReplies:this.__fetchSavedReplies.bind(this),onFileUploaderMounted:this.__onFileUploaderMounted.bind(this),onFileUploaderSubmit:this.__onFileUploaderSubmit.bind(this),onFileUploadFinished:this.__onFileUploadFinished.bind(this),onInitialRender:function(){return a.$9()},onInputChange:function(b){return a.__onInputValueChange(b)},onInputReady:this.$10,onReplySelected:this.__onReplySelected.bind(this),onSend:function(b){return a.__onSendMessageHandleException(b)},onStickerSelected:this.__onStickerSelected.bind(this),ref:"composer"}));else return null;return this.props.commPlatform==="INSTAGRAM_DIRECT"?null:i.jsx(b("PagesManagerMessagingComposerView.react"),babelHelpers["extends"]({},this.props,this.state,{isSavedReplyNewUI:this.props.isSavedReplyNewUI,isSendBlocked:this.isSendBlocked(),matchingShortcut:this.state.matchingShortcut,onAttachmentDetach:this.__onAttachmentDetach.bind(this),onFetchReplies:this.__fetchSavedReplies.bind(this),onFileUploadFinished:this.__onFileUploadFinished.bind(this),onFileUploaderMounted:this.__onFileUploaderMounted.bind(this),onFileUploaderSubmit:this.__onFileUploaderSubmit.bind(this),onInitialRender:function(){return a.$9()},onInputChange:function(b){return a.__onInputValueChange(b)},onInputReady:this.$10,onInputSmartComposeChange:this.__onInputValueChangeSmartCompose,onReplySelected:this.__onReplySelected.bind(this),onSend:function(b){return a.__onSendMessageHandleException(b)},onStickerSelected:this.__onStickerSelected.bind(this),ref:"composer",threadID:this.props.threadID}))};return c}(i.Component);c.contextType=a;c.propTypes={accessToken:(d=b("prop-types")).string,canAttachFiles:d.bool,canCreateAppointment:d.bool,canSendAvailability:d.bool,canUseHotLike:d.bool,canUseSavedReplies:d.bool,canUseStickers:d.bool,creatorInfo:d.object,isEligibleForOrderDetailsInComposer:d.bool,maxLength:d.number,onInitialRender:d.func,onMessageOrAttachmentUpdate:d.func,shouldShowBonusTracker:d.bool,shouldShowCommerceInvoiceButton:d.bool,shouldShowCommerceInvoiceButtonPUX:d.bool,shouldShowInvoiceShippingNUX:d.bool,shouldShowPaymentOnboarding:d.bool,shouldShowProductPickerInComposer:d.bool,shouldShowConfirmPayment:d.bool,shouldShowRequestPayment:d.bool,shouldShowCommerceInvoiceSimplifiedFlow:d.bool,shouldShowOrderDetailsInComposer:d.bool,shouldUseSmartComposeTextInput:d.bool,shouldUseKbankOnboarding:d.bool,thread:d.object,threadElementID:d.string,threadID:d.string,userID:d.string};e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("XMNCommercePromotionBlockController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/promotion/block/",{page_id:{type:"String",required:!0},type:{type:"String",required:!0}})}),null);
__d("XMNCommercePromotionStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/promotion/state/",{page_id:{type:"String",required:!0}})}),null);
__d("XMessengerDotComSponsoredMessagesXOutReportMutationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/sponsored_message/xout/mutation/",{ad_id:{type:"String",required:!0},ad_client_token:{type:"String",required:!0}})}),null);
__d("XMessengerDotComSponsoredMessagesXOutSubmitPageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/sponsored_message/xout/submit/",{ad_token:{type:"String",required:!0},selected_option_type:{type:"String",required:!0},event_type:{type:"String",required:!0}})}),null);
__d("InstantGamesAnalyticsLogger",["Promise","ClientIDs","RelayAPIConfig","RelayFBEnvironment","RelayModern","InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("ClientIDs").getNewClientID,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("InstantGamesAnalyticsLogger_LogCustomAppEventMutation.graphql");a=function(){function a(a){this.$1=a}var c=a.prototype;c.logCustomAppEvent=function(a,c,d){var e=this;c===void 0&&(c=null);d===void 0&&(d=null);var f=d?JSON.stringify(d):null;return new(b("Promise"))(function(d,g){i(b("RelayFBEnvironment"),{mutation:j,variables:{input:{actor_id:b("RelayAPIConfig").actorID,event_name:a,game_id:e.$1,client_mutation_id:h(),value_to_sum:c,params:f}},onCompleted:d,onError:g})})};return a}();e.exports=a}),null);
__d("XMessengerGroupPollingUpdateVoteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/group_polling/update_vote/",{})}),null);
__d("XMessagingGetPollOptionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/mercury/get_poll_options/",{question_id:{type:"FBID",required:!0}})}),null);
__d("XEventReminderRSVPController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/eventreminder/rsvp/",{acontext:{type:"String",required:!0},event_reminder_id:{type:"Int",required:!0},guest_state:{type:"Enum",required:!0,enumType:1}})}),null);
__d("PagesInboxAddDetailsToInteractionText.react",["fbt","CommerceInvoiceAdminActions","ErrorBoundary.react","JSResource","Link.react","MessengerAdsConversionFunnelTypedLogger","MessengerConversionEvent","OrderManagementSimplifiedFulfillAction.react","PagesInboxThreadActionSystemDispatcher","PagesPlatformBookingMessageViewer","React","ReactRouterDOM","RelayFBEnvironment","RelayModern","ServicesAppointmentDialogRoot.react","ServicesAppointmentManagementDialogEnum","emptyFunction","lazyLoadComponent","PagesInboxAddDetailsToInteractionTextQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=b("ReactRouterDOM").BrowserRouter,k=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var l=b("lazyLoadComponent")(b("JSResource")("OrderDetailsDialog.react").__setRef("PagesInboxAddDetailsToInteractionText.react")),m={referrerUIComponent:"composer",referrerUISurface:"message"},n=h!==void 0?h:h=b("PagesInboxAddDetailsToInteractionTextQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isAppointmentDialogShown:!1,isOrderPlacedDialogShown:!1,isOrderShippedDialogShown:!1},d.$1=function(a){d.setState({isAppointmentDialogShown:a})},d.$2=function(a){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS_ERROR).setPageID(d.props.pageID).setConsumerID(d.props.userID).setEventSubtype("failed_to_create_order due to "+a.toString()).log()},d.$4=function(){d.setState({isOrderPlacedDialogShown:!1})},d.$5=function(){d.setState({isOrderShippedDialogShown:!1})},d.$6=function(){switch(d.props.interactionType){case"PAYMENT_RECEIVED":b("CommerceInvoiceAdminActions").toggleActionsDialog(!0,d.props.messageID,"confirm_payment","thread_action_system_payment_received",d.props.interactionID);new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_PAYMENT_RECEIVED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).log();break;case"APPOINTMENT_BOOKED":d.setState({isAppointmentDialogShown:!0});new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_APPOINTMENT_BOOKED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).log();break;case"ORDER_PLACED":d.setState({isOrderPlacedDialogShown:!0});new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_ORDER_PLACED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).setEventSubtype("cta_clicked").log();break;case"ORDER_SHIPPED":d.setState({isOrderShippedDialogShown:!0});new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_ORDER_SHIPPED_WITH_DETAILS).setPageID(d.props.pageID).setConsumerID(d.props.userID).log();break;default:break}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_AD_INTERACTION_ORDER_SHIPPED_WITH_DETAILS_ERROR).setPageID(this.props.pageID).setConsumerID(this.props.userID).setEventSubtype("failed_to_create_shipped due to "+a.toString()).log()};d.$7=function(a,c){a&&b("PagesInboxThreadActionSystemDispatcher").dispatch(!0)};d.render=function(){var a=this;if(this.props.isPageMessage===null||this.props.isPageMessage===!1)return null;switch(this.props.interactionType){case"PAYMENT_RECEIVED":return i.jsxs(i.Fragment,{children:[this.props.message," ",i.jsx(b("Link.react"),{onClick:this.$6,children:g._("Send details")})]});case"APPOINTMENT_BOOKED":return i.jsxs(i.Fragment,{children:[this.props.message," ",i.jsx(b("Link.react"),{onClick:this.$6,children:g._("Send details")}),this.state.isAppointmentDialogShown&&i.jsx(b("ServicesAppointmentDialogRoot.react"),{causalElementRef:b("emptyFunction"),dialogType:b("ServicesAppointmentManagementDialogEnum").CREATE_ANOTHER_APPOINTMENT,interactionID:this.props.interactionID,jobSearchSurface:"messenger",onToggle:this.$1,onUpdateCompleted:this.$7,pageID:this.props.pageID,referrerData:m,showMessengerButton:!1,shown:this.state.isAppointmentDialogShown,startTime:null,userID:this.props.userID,viewer:b("PagesPlatformBookingMessageViewer").ADMIN})]});case"ORDER_PLACED":return i.jsxs(i.Fragment,{children:[this.props.message," ",this.props.shouldShowCTA!==null&&this.props.shouldShowCTA===!0&&i.jsx(b("Link.react"),{onClick:this.$6,children:g._("Send details")}),this.state.isOrderPlacedDialogShown&&i.jsx(b("ErrorBoundary.react"),{children:i.jsx(i.Suspense,{fallback:null,children:i.jsx(l,{currency:this.props.defaultCurrency==null?"USD":this.props.defaultCurrency,onError:this.$2,onHide:this.$4,pageID:this.props.pageID,userID:this.props.userID})})})]});case"ORDER_SHIPPED":return i.jsxs(i.Fragment,{children:[this.props.message," ",this.props.shouldShowCTA===!0&&i.jsx(b("Link.react"),{onClick:this.$6,children:g._("Send details")}),this.state.isOrderShippedDialogShown&&i.jsx(j,{children:i.jsx(k,{environment:b("RelayFBEnvironment"),query:n,render:function(c){var d=c.error;c=c.props;if(d)return a.$3(d);d=c==null?void 0:c.page;return i.jsx(b("OrderManagementSimplifiedFulfillAction.react"),{onClose:a.$5,order:null,page:d,pageID:a.props.pageID,userID:a.props.userID})},variables:{pageID:this.props.pageID}})})]});default:return i.jsx(i.Fragment,{children:this.props.message})}};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesMarkAsPaidMessagingActionText.react",["fbt","CommerceInvoiceAdminActions","Link.react","MessengerAdsConversionFunnelTypedLogger","MessengerConversionEvent","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("CommerceInvoiceAdminActions").toggleActionsDialog(!0,d.props.messageID,"confirm_payment","quick_promotion_mao_vn"),new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_CLICK_CONFIRM_RECEIPT).setPageID(d.props.pageID).setConsumerID(d.props.userID).setClassifier(d.props.detectionType).log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.props.isPageMessage&&new(b("MessengerAdsConversionFunnelTypedLogger"))().setName(b("MessengerConversionEvent").PAGE_SHOW_CONFIRM_RECEIPT).setPageID(this.props.pageID).setConsumerID(this.props.userID).setClassifier(this.props.detectionType).log()};d.render=function(){if(!this.props.isPageMessage)return null;var a=this.props.detectionType==="tracking_number"?g._("Mark as paid"):g._("Confirm receipt");return h.jsxs("div",{children:[this.props.message," ",h.jsx(b("Link.react"),{onClick:this.$1,children:a})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2016667251691695"};b.getQueryID=function(){return"391244851334288"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ServicesAppointmentOptOutRequestsAdminText.react",["fbt","CurrentUser","Link.react","React","ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation","WebGraphQL","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","promiseDone","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,showError:!1},d.showDialog=function(){d.setState({showDialog:!0})},d.onHide=function(){d.setState({showDialog:!1}),d.setState({showError:!1})},d.onConfirm=function(){d.setState({showDialog:!1});var a=new(b("ServicesMessengerAppointmentOptOutMutationMutationWebGraphQLMutation"))({input:{page_id:d.props.pageID,client_mutation_id:b("uuid")(),actor_id:b("CurrentUser").getID(),user_id:d.props.userID}});b("promiseDone")(b("WebGraphQL").exec(a),function(a){a=((a=a)!=null?(a=a.messenger_appointment_opt_out)!=null?(a=a.messenger_appointment_opt_out)!=null?a.has_opted_out:a:a:a)||!1;a||(d.setState({showDialog:!0}),d.setState({showError:!0}))},function(a){d.setState({showDialog:!0}),d.setState({showError:!0})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=g._("Opt Out");return h.jsxs("div",{children:[this.props.message," ",h.jsx(b("Link.react"),{onClick:this.showDialog,children:g._("you can opt out now.")}),this.state.showError?this.renderError():h.jsxs(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.onHide,shown:this.state.showDialog,width:400,children:[h.jsx(b("XUIDialogTitle.react"),{children:g._("Are you sure?")}),h.jsx(b("XUIDialogBody.react"),{children:g._("You will no longer receive appointment request messages.")}),h.jsx(b("XUIDialogFooter.react"),{children:h.jsx(b("XUIDialogButton.react"),{action:"confirm",label:a,onClick:this.onConfirm})})]})]})};d.renderError=function(){return h.jsxs(b("XUIDialog.react"),{isStrictlyControlled:!0,onHide:this.onHide,shown:this.state.showDialog,width:400,children:[h.jsx(b("XUIDialogTitle.react"),{children:g._("Error")}),h.jsx(b("XUIDialogBody.react"),{children:g._("Something went wrong. Please try again later.")})]})};return c}(h.Component);e.exports=a}),null);
__d("ServicesAppointmentReminderAdminText.react",["fbt","DateConsts","React","formatDate"],(function(a,b,c,d,e,f,g){"use strict";b("React");a=function(a){var c=a.isPageMessage,d=a.message,e=a.productName,f=a.startTime,h=a.timestamp;a=a.userName;if(!f)return d;d=b("formatDate")(f,"g:i A");if(c)if(f-h/1e3<b("DateConsts").SEC_PER_HOUR)return g._("{user-name} has a {product-name} appointment at {start-time}",[g._param("user-name",a),g._param("product-name",e),g._param("start-time",d)]);else if(f-h/1e3<b("DateConsts").SEC_PER_DAY)return g._("{user-name} has an appointment tomorrow at {start-time}",[g._param("user-name",a),g._param("start-time",d)]);else return g._("{user-name} has a {product-name} appointment on {start-date} at {start-time}",[g._param("user-name",a),g._param("product-name",e),g._param("start-date",b("formatDate")(f,"F d")),g._param("start-time",d)]);if(f-h/1e3<b("DateConsts").SEC_PER_HOUR)return g._("You have an appointment at {start-time}",[g._param("start-time",d)]);else if(f-h/1e3<b("DateConsts").SEC_PER_DAY)return g._("You have an appointment tomorrow at {start-time}",[g._param("start-time",d)]);else return g._("You have an appointment on {start-date} at {start-time}",[g._param("start-date",b("formatDate")(f,"F d")),g._param("start-time",d)])};e.exports=a}),null);
__d("ServicesBookableServicesSurveyActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS:null,BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA:null,BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM:null,BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE:null,BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD:null,BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS:null,BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER:null,BOOKABLE_SERVICES_SURVEY_RESET:null,BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE:null,BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES:null,BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER:null,BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY:null,BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR:null,BOOKABLE_SERVICES_SURVEY_SET_RADIUS:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_AREA:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE:null,BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE:null,BOOKABLE_SERVICES_SURVEY_SET_STEP:null});e.exports=a}),null);
__d("BookableServicesCustomServiceItem",["immutable"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({label:"",key:"",selected:!1}));e.exports=a}),null);
__d("BookableServicesServiceAreaRadiusValues",[],(function(a,b,c,d,e,f){"use strict";a=[1,2,3,5,10,20,30,50,100];e.exports=a}),null);
__d("ServicesBookableServicesSurveySteps",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CONFIRMATION:null,CUSTOM_SERVICE_ITEM:null,GET_STARTED:null,MAKE_SELECTION:null,SERVICES_AREA:null,SERVICES_SELECTION:null});e.exports=a}),null);
__d("ServicesBookableServicesSurveyStore",["BookableServicesCustomServiceItem","BookableServicesServiceAreaRadiusValues","FluxReduceStore","ServicesBookableServicesSurveyActionTypes","ServicesBookableServicesSurveySteps","ServicesCTAUnificationDispatcher","immutable","uuid"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("ServicesBookableServicesSurveyActionTypes")).BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS,h=a.BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA,i=a.BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM,j=a.BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM,k=a.BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM,l=a.BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE,m=a.BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD,n=a.BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS,o=a.BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER,p=a.BOOKABLE_SERVICES_SURVEY_RESET,q=a.BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE,r=a.BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES,s=a.BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER,t=a.BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY,u=a.BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR,v=a.BOOKABLE_SERVICES_SURVEY_SET_RADIUS,w=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_AREA,x=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE,y=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE,z=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE,A=a.BOOKABLE_SERVICES_SURVEY_SET_STEP;c=10;var B=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}((d=b("immutable")).Record({address:"",autoMakeSearchQuery:null,canVisitMyBusiness:!1,customServices:d.List(),customServiceItem:"",hasServiceArea:!1,mutationSuccess:!0,noPermissions:!1,pageID:"",category:null,predefinedBookableTasks:d.List(),predefinedAutoMake:d.List(),radius:c,referrer:"",selectedServices:d.Set(),selectedAutoMake:d.Set(),serviceAreaCenter:null,serviceAreaCenterCoordinates:null,serviceAreaCenterID:"",sessionID:"",shouldShowCustomServicesEntry:!0,shouldShowAutoMakeQuestion:!1,showLoadingIndicator:!1,step:b("ServicesBookableServicesSurveySteps").GET_STARTED,surveyStatus:0}));f=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new B()};d.reduce=function(a,c){switch(c.type){case m:c.payload.radius&&b("BookableServicesServiceAreaRadiusValues").includes(c.payload.radius)&&(a=a.set("radius",c.payload.radius));return a.set("address",c.payload.address).set("canVisitMyBusiness",c.payload.customersCanVisitBusiness).set("customServices",b("immutable").List(c.payload.manualBookableTasks.map(function(a){return new(b("BookableServicesCustomServiceItem"))({label:a,key:b("uuid")(),selected:!0})}))).set("hasServiceArea",!!c.payload.serviceAreaCenter).set("pageID",c.payload.pageID).set("category",c.payload.category).set("predefinedBookableTasks",c.payload.predefinedBookableTasks).set("predefinedAutoMake",c.payload.predefinedAutoMake).set("referrer",c.payload.referrer).set("serviceAreaCenter",c.payload.serviceAreaCenter).set("serviceAreaCenterCoordinates",c.payload.serviceAreaCenterCoordinates).set("serviceAreaCenterID",c.payload.serviceAreaCenterID).set("selectedServices",c.payload.surveyStatus===0?b("immutable").Set():b("immutable").Set(c.payload.selectedBookableTasks.filter(function(a){return a!=null&&a.task!=null}).map(function(a){return a.task}))).set("selectedAutoMake",c.payload.selectedAutoMake).set("sessionID",c.payload.sessionID).set("shouldShowCustomServicesEntry",c.payload.shouldShowCustomServicesEntry).set("shouldShowAutoMakeQuestion",c.payload.shouldShowAutoMakeQuestion).set("surveyStatus",c.payload.surveyStatus);case n:return a.set("noPermissions",!0);case r:return a.set("selectedServices",b("immutable").Set()).set("customServices",a.customServices.map(function(a){return a.set("selected",!1)}));case s:var d=c.payload,e=d.serviceAreaCenter,f=d.serviceAreaCenterCoordinates;d=d.serviceAreaCenterID;return a.set("serviceAreaCenter",e).set("serviceAreaCenterCoordinates",f).set("serviceAreaCenterID",d);case o:return a.set("serviceAreaCenter",null).set("serviceAreaCenterCoordinates",null).set("serviceAreaCenterID","");case v:e=c.payload.radius;return a.set("radius",e);case A:c.payload.mutationSuccess!=null&&(a=a.set("mutationSuccess",c.payload.mutationSuccess));f=c.payload.step;return a.set("step",f);case y:d=c.payload.selectedMake;return a.set("selectedAutoMake",a.selectedAutoMake.has(d)?a.selectedAutoMake["delete"](d):a.selectedAutoMake.add(d));case z:e=c.payload.selectedService;return a.set("selectedServices",a.selectedServices.has(e)?a.selectedServices["delete"](e):a.selectedServices.add(e));case x:var B=c.payload.selectedCustomService;f=a.customServices.findIndex(function(a){return a.key===B});d=f>=0?a.customServices.get(f):null;return d?a.set("customServices",a.customServices.set(f,d.set("selected",!d.selected))):a;case g:return a.set("canVisitMyBusiness",!a.canVisitMyBusiness);case h:return a.set("hasServiceArea",!a.hasServiceArea);case l:return a.set("selectedAutoMake",b("immutable").Set([]));case q:return a.set("selectedAutoMake",b("immutable").Set(a.predefinedAutoMake.map(function(a){return a.id})));case w:e=c.payload.selectedArea;var C=e.getUniqueID();f=a.selectedAreas.find(function(a){return a.getUniqueID()===C});d=a.set("selectedAreas",f?a.selectedAreas["delete"](f):a.selectedAreas.add(e));return d;case k:f=c.payload.text;return a.set("customServiceItem",f);case i:return a.set("customServiceItem","");case j:return a.set("customServices",a.customServices.push(new(b("BookableServicesCustomServiceItem"))({label:a.customServiceItem,key:b("uuid")(),selected:!0})));case u:return a.set("showLoadingIndicator",!a.showLoadingIndicator);case t:return a.set("autoMakeSearchQuery",c.payload.query);case p:return this.getInitialState();default:return a}};d.getPageID=function(){return this.getState().pageID};d.getCategory=function(){return this.getState().category};d.getReferrer=function(){return this.getState().referrer};d.getSessionID=function(){return this.getState().sessionID};d.getStep=function(){return this.getState().step};d.getSelectedAutoMake=function(){return this.getState().selectedAutoMake};d.shouldShowAutoMakeQuestion=function(){return this.getState().shouldShowAutoMakeQuestion};d.hasAnyServicesSelected=function(){var a=this.getState(),b=a.customServices;a=a.selectedServices;if(a.size>0)return!0;a=b.find(function(a){return a.selected});return!!a};d.hasServiceAreaDefined=function(){var a=this.getState(),b=a.canVisitMyBusiness,c=a.serviceAreaCenter;a=a.hasServiceArea;return!a&&!b||a&&!c?!1:!0};d.isCustomServiceValid=function(){return this.getState().customServiceItem.trim().length>0};d.getAutoMakeList=function(){var a=this.getState(),c=a.autoMakeSearchQuery;a=a.predefinedAutoMake;if(c==null||c.length===0)return a;var d=[];a.forEach(function(a){if(a.consumer_name==null)return;var b=a.consumer_name.split(/[ -]/);for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;if(g.toLowerCase().startsWith(c.toLowerCase())){d.push(a);return}}});return b("immutable").List(d)};d.getProgressBarPercentage=function(){var a=0;switch(this.getState().step){case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=33;break;case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:a=67;break;case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:a=0;break;case b("ServicesBookableServicesSurveySteps").CONFIRMATION:a=100;break;case b("ServicesBookableServicesSurveySteps").GET_STARTED:default:a=0}return a};d.hasSelectedAllMakes=function(){var a=this.getState();return a.predefinedAutoMake.every(function(b){return a.selectedAutoMake.has(b.id)})};return c}(b("FluxReduceStore"));f.__moduleID=e.id;e.exports=new f(b("ServicesCTAUnificationDispatcher"))}),null);
__d("ServicesBookableServicesSurveyLogger",["ServicesBookableServicesSurveyStore","ServicesLeadGenBookableTasksSurveyTypedLogger"],(function(a,b,c,d,e,f){"use strict";a={log:function(a){var c;new(b("ServicesLeadGenBookableTasksSurveyTypedLogger"))().setCurrentView((c=b("ServicesBookableServicesSurveyStore")).getStep().toString()).setEvent(a).setPageID(c.getPageID()).setServicesCategory(c.getCategory()).setReferrer(c.getReferrer()).setSessionID(c.getSessionID()).log()}};e.exports=a}),null);
__d("ServicesBookableServicesSurveyStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOT_SUBMITTED:0,SUBMITTED:1})}),null);
__d("ServicesLeadGenSurveyDialogQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1903587599704424"};b.getQueryID=function(){return"276587612933392"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1706923136039787"};b.getQueryID=function(){return"224836864728650"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ServicesBookableServicesSurveyActions",["CurrentUser","SearchableEntry","ServicesBookableServicesSurveyActionTypes","ServicesBookableServicesSurveyLogger","ServicesBookableServicesSurveyStatus","ServicesBookableServicesSurveySteps","ServicesBookableServicesSurveyStore","ServicesCTAUnificationDispatcher","ServicesLeadGenSurveyDialogQueryWebGraphQLQuery","ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation","WebGraphQL","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("ServicesBookableServicesSurveyActionTypes")).BOOKABLE_SERVICES_SURVEY_CHECK_CAN_VISIT_BUSINESS,h=a.BOOKABLE_SERVICES_SURVEY_CHECK_HAS_SERVICE_AREA,i=a.BOOKABLE_SERVICES_SURVEY_CLEAR_CUSTOM_SERVICE_ITEM,j=a.BOOKABLE_SERVICES_SURVEY_CREATE_CURTOM_SERVICE_ITEM,k=a.BOOKABLE_SERVICES_SURVEY_CUSTOM_SERVICE_ITEM,l=a.BOOKABLE_SERVICES_SURVEY_DESELECT_ALL_MAKE,m=a.BOOKABLE_SERVICES_SURVEY_INITIAL_LOAD,n=a.BOOKABLE_SERVICES_SURVEY_NO_PERMISSIONS,o=a.BOOKABLE_SERVICES_SURVEY_REMOVE_SERVICE_AREA_CENTER,p=a.BOOKABLE_SERVICES_SURVEY_RESET,q=a.BOOKABLE_SERVICES_SURVEY_SELECT_ALL_MAKE,r=a.BOOKABLE_SERVICES_SURVEY_SELECT_NONE_ABOVE_SERVICES,s=a.BOOKABLE_SERVICES_SURVEY_SELECT_SERVICE_AREA_CENTER,t=a.BOOKABLE_SERVICES_SURVEY_SET_AUTO_MAKE_SEARCH_QUERY,u=a.BOOKABLE_SERVICES_SURVEY_SET_LOADING_INDICATOR,v=a.BOOKABLE_SERVICES_SURVEY_SET_RADIUS,w=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_CUSTOM_SERVICE,x=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_MAKE,y=a.BOOKABLE_SERVICES_SURVEY_SET_SELECTED_SERVICE,z=a.BOOKABLE_SERVICES_SURVEY_SET_STEP,A={initialLoad:function(a,c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t){b("ServicesCTAUnificationDispatcher").dispatch({type:m,payload:{address:a,customersCanVisitBusiness:c,manualBookableTasks:d,pageID:e,category:f,predefinedBookableTasks:g,predefinedAutoMake:h,radius:i,referrer:j,selectedBookableTasks:k,selectedAutoMake:l,serviceAreaCenter:n,serviceAreaCenterCoordinates:o,serviceAreaCenterID:p,sessionID:q,shouldShowCustomServicesEntry:r,shouldShowAutoMakeQuestion:s,surveyStatus:t}})},loadDataAndInitialize:function(a,c,d,e){b("ServicesCTAUnificationDispatcher").dispatch({type:u}),b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesLeadGenSurveyDialogQueryWebGraphQLQuery"))({page_id:a})),function(f){var g,h,i,j,k,l,m,o,p,q,r;r=(r=f)!=null?(r=r.page)!=null?(r=r.services_vertical_info)!=null?r.service_category:r:r:r;q=((q=f)!=null?(q=q.page)!=null?q.viewer_profile_permissions:q:q)||[];if(!q.includes("EDIT_PROFILE")){b("ServicesCTAUnificationDispatcher").dispatch({type:n});b("ServicesCTAUnificationDispatcher").dispatch({type:u});return}q=((q=f)!=null?(q=q.page)!=null?(q=q.address)!=null?q.single_line_full_address:q:q:q)||"";p=(p=f)!=null?(p=p.page)!=null?(p=p.business_details)!=null?p.bookable_services_survey_status:p:p:p;p=p?b("ServicesBookableServicesSurveyStatus")[p]:0;o=((o=f)!=null?(o=o.page)!=null?(o=o.business_details)!=null?o.customers_can_visit_business:o:o:o)||!1;m=(m=f)!=null?(m=m.page)!=null?(m=m.services_vertical_info)!=null?m.predefined_bookable_tasks:m:m:m;var s=function(a){var b;return{category:(b=a)!=null?b.category:b,consumer_name:(b=a)!=null?b.consumer_name:b,task:(b=a)!=null?b.task:b}};m=m?m.map(s):[];l=(l=f)!=null?(l=l.page)!=null?(l=l.services_vertical_info)!=null?l.predefined_auto_make:l:l:l;l=l?l.map(function(a){var b;return{id:(b=a)!=null?b.id:b,consumer_name:(b=a)!=null?b.make_display_name:b}}):[];k=((k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?(k=k.bookable_tasks)!=null?k.nodes:k:k:k:k)||[];var t=[],v=[];k.forEach(function(a){var b;b=((b=a)!=null?b.info:b)||{};b.task==="OTHER"&&a.manual_name!=null?t.push(a.manual_name):v.push(s(b))});var w=[];k=(k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?k.auto_make:k:k:k;k&&k.forEach(function(a){a.id&&w.push(a.id)});k=((k=f)!=null?(k=k.page)!=null?(k=k.business_details)!=null?k.service_area_radius:k:k:k)||0;j=(j=f)!=null?(j=j.page)!=null?(j=j.business_details)!=null?(j=j.service_area_center)!=null?j.name:j:j:j:j;i=(i=f)!=null?(i=i.page)!=null?(i=i.business_details)!=null?(i=i.service_area_center)!=null?i.id:i:i:i:i;j=j&&i?new(b("SearchableEntry"))({uniqueID:i,title:j}):null;h=(h=f)!=null?(h=h.page)!=null?(h=h.business_details)!=null?(h=h.service_area_center)!=null?h.page_map_location:h:h:h:h;g=(g=f)!=null?(g=g.page)!=null?(g=g.services_vertical_info)!=null?g.should_show_survey_custom_services_entry:g:g:g;f=(f=f)!=null?(f=f.page)!=null?(f=f.services_vertical_info)!=null?f.should_ask_supported_automobile_makes:f:f:f;A.initialLoad(q,o,b("immutable").List(t),a,r,b("immutable").List(m),b("immutable").List(l),k,c,b("immutable").List(v),b("immutable").Set(w),j,h,i||"",d,g!=null?g:!1,f!=null?f:!1,p);b("ServicesCTAUnificationDispatcher").dispatch({type:u});e()})},nextStep:function(){b("ServicesBookableServicesSurveyLogger").log("next_question");var a=null;switch(b("ServicesBookableServicesSurveyStore").getStep()){case b("ServicesBookableServicesSurveySteps").GET_STARTED:a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=b("ServicesBookableServicesSurveySteps").SERVICES_AREA;break;case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:a=b("ServicesBookableServicesSurveyStore").shouldShowAutoMakeQuestion()?b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:b("ServicesBookableServicesSurveySteps").SERVICES_AREA;break;default:a=b("ServicesBookableServicesSurveySteps").GET_STARTED}b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},previousStep:function(){b("ServicesBookableServicesSurveyLogger").log("previous_question");var a=null;switch(b("ServicesBookableServicesSurveyStore").getStep()){case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:a=b("ServicesBookableServicesSurveyStore").shouldShowAutoMakeQuestion()?b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;break;default:a=b("ServicesBookableServicesSurveySteps").GET_STARTED}b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},startCustomServiceItem:function(){var a=b("ServicesBookableServicesSurveySteps").CUSTOM_SERVICE_ITEM;b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},selectService:function(a){b("ServicesBookableServicesSurveyLogger").log("toggle_service"),b("ServicesCTAUnificationDispatcher").dispatch({type:y,payload:{selectedService:a}})},selectCustomService:function(a){b("ServicesBookableServicesSurveyLogger").log("toggle_service"),b("ServicesCTAUnificationDispatcher").dispatch({type:w,payload:{selectedCustomService:a}})},selectMake:function(a){b("ServicesBookableServicesSurveyStore").getSelectedAutoMake().contains(a)?b("ServicesBookableServicesSurveyLogger").log("deselect_make"):b("ServicesBookableServicesSurveyLogger").log("select_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:x,payload:{selectedMake:a}}),b("ServicesCTAUnificationDispatcher").dispatch({type:t,payload:{query:""}})},checkCanVisitMyBusiness:function(){b("ServicesBookableServicesSurveyLogger").log("toggle_can_visit_business"),b("ServicesCTAUnificationDispatcher").dispatch({type:g})},checkHasServiceArea:function(){b("ServicesBookableServicesSurveyLogger").log("toggle_has_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:h})},removeServiceAreaCenter:function(){b("ServicesBookableServicesSurveyLogger").log("remove_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:o})},selectServiceAreaCenter:function(a,c,d){b("ServicesBookableServicesSurveyLogger").log("select_service_area"),b("ServicesCTAUnificationDispatcher").dispatch({type:s,payload:{serviceAreaCenter:a,serviceAreaCenterCoordinates:c,serviceAreaCenterID:d||""}})},selectAllMake:function(){b("ServicesBookableServicesSurveyLogger").log("select_all_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:q})},deselectAllMake:function(){b("ServicesBookableServicesSurveyLogger").log("deselect_all_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:l})},customServiceItemChange:function(a){a=a.target.value;b("ServicesCTAUnificationDispatcher").dispatch({type:k,payload:{text:a}})},clearCustomServiceItem:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:i})},createCustomServiceItem:function(){b("ServicesBookableServicesSurveyLogger").log("add_manual_service");var a=b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION;b("ServicesCTAUnificationDispatcher").dispatch({type:j});b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:a}})},resetSurvey:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:p})},selectNoneOfTheAboveServices:function(){b("ServicesCTAUnificationDispatcher").dispatch({type:r}),A.submitSurvey(b("CurrentUser").getID())},setRadius:function(a){b("ServicesBookableServicesSurveyLogger").log("select_radius"),b("ServicesCTAUnificationDispatcher").dispatch({type:v,payload:{radius:a}})},setAutoMakeSearchQuery:function(a){b("ServicesBookableServicesSurveyLogger").log("search_make"),b("ServicesCTAUnificationDispatcher").dispatch({type:t,payload:{query:a}})},submitSurvey:function(a){var c=b("ServicesBookableServicesSurveyStore").getState(),d=c.canVisitMyBusiness,e=c.customServices,f=c.hasServiceArea,g=c.pageID,h=c.radius,i=c.referrer,j=c.selectedServices,k=c.selectedAutoMake,l=c.serviceAreaCenterID;c=c.sessionID;b("ServicesBookableServicesSurveyLogger").log("submit");b("ServicesCTAUnificationDispatcher").dispatch({type:u});var m=[];for(var j=j.toArray(),n=Array.isArray(j),o=0,j=n?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=j.length)break;p=j[o++]}else{o=j.next();if(o.done)break;p=o.value}p=p;p!=="%future added value"&&m.push(p)}b("promiseDone")(b("WebGraphQL").exec(new(b("ServicesPageBusinessDeatilsEditMutationWebGraphQLMutation"))({input:{client_mutation_id:"0",actor_id:a,session_id:c,page_id:g,referrer:i,selected_bookable_tasks:m,other_bookable_tasks:e.toArray().filter(function(a){return a.selected}).map(function(a){return a.label}),kbb_makes:k.toArray(),customers_can_visit_business:d,service_area_center_id:f&&l?l:null,service_area_radius:f&&l?h:null}})),function(a){a=((a=a)!=null?(a=a.services_page_business_details_edit)!=null?a.success:a:a)||!1;var c=b("ServicesBookableServicesSurveySteps").CONFIRMATION;b("ServicesCTAUnificationDispatcher").dispatch({type:u});b("ServicesCTAUnificationDispatcher").dispatch({type:z,payload:{step:c,mutationSuccess:a}})})}};e.exports=A}),null);
__d("BookableServicesSurveyGetStartedView.react",["cx","fbt","ix","FDSText.react","Image.react","React","ServicesBookableServicesSurveyActions","XUIButton.react","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return j.jsxs("div",{className:"_2piq _2owm _52jv",children:[j.jsx(b("Image.react"),{src:i("649009")}),j.jsx(b("FDSText.react"),{display:"block",margin:"_4aws",size:"header3",textAlign:"center",weight:"bold",children:h._("Connect to the right customers near you.")}),j.jsx(b("FDSText.react"),{display:"block",margin:"_6bu9 _3-8y",size:"body1",textAlign:"center",children:h._("Answer a few simple questions about your business so that people who need your services can find you.")}),j.jsx(b("XUIButton.react"),{className:"_4aws",label:h._("Get Started"),onClick:b("ServicesBookableServicesSurveyActions").nextStep,size:"xlarge",use:"confirm"}),j.jsxs("div",{className:"_3-8x _6pu2",children:[j.jsx(b("Image.react"),{className:"_3-8_",src:i("501429")}),j.jsx(b("FDSText.react"),{color:"secondary",size:"body2",textAlign:"center",children:h._("The information that you provide won't be shown on your Page.")})]})]})};return c}(j.Component);e.exports=a}),null);
__d("BookableServicesSurveyMakeSelectionContainer.react",["ix","cx","fbt","FDSLink.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","ShimButton.react","XUICheckboxInput.react","XUITextInput.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){a=b("ServicesBookableServicesSurveyStore").getState();return{predefinedAutoMake:b("ServicesBookableServicesSurveyStore").getAutoMakeList(),autoMakeSearchQuery:a.autoMakeSearchQuery,selectedAutoMake:a.selectedAutoMake}};var d=c.prototype;d.componentWillUnmount=function(){b("ServicesBookableServicesSurveyActions").setAutoMakeSearchQuery(null)};d.setAutoMakeSearchQuery=function(a){b("ServicesBookableServicesSurveyActions").setAutoMakeSearchQuery(a.target.value)};d.toggleSelectAllMake=function(){b("ServicesBookableServicesSurveyStore").hasSelectedAllMakes()?b("ServicesBookableServicesSurveyActions").deselectAllMake():b("ServicesBookableServicesSurveyActions").selectAllMake()};d.render=function(){var a=this;return j.jsxs("div",{children:[j.jsx(b("FDSText.react"),{display:"block",margin:"_3-8y",size:"header2",children:i._("What makes do you service?")}),j.jsx(b("XUITextInput.react"),{className:"_2-ox _6nvx",height:"tall",onChange:this.setAutoMakeSearchQuery,placeholder:i._("Search for make"),rightChild:j.jsx(b("Image.react"),{className:"_6nvy",src:g("530630")}),value:this.state.autoMakeSearchQuery}),!this.state.autoMakeSearchQuery&&j.jsx("div",{className:"_3-96 _52jw",children:j.jsx(b("FDSLink.react"),{onClick:this.toggleSelectAllMake,children:b("ServicesBookableServicesSurveyStore").hasSelectedAllMakes()?i._("Select None"):i._("Select All")})}),j.jsx("div",{className:"_20nr _2pll",maxHeight:500,children:this.state.predefinedAutoMake.map(function(c,d){return j.jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:function(){b("ServicesBookableServicesSurveyActions").selectMake(c.id)},children:[j.jsx(b("XUICheckboxInput.react"),{checked:a.state.selectedAutoMake.has(c.id),className:"_3-91",onClick:function(){b("ServicesBookableServicesSurveyActions").selectMake(c.id)},readOnly:!0}),j.jsx(b("FDSText.react"),{size:"body2",children:c.consumer_name})]},d)})})]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveySelectionContainer.react",["ix","cx","fbt","FDSCheckboxInput.maintenance.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","ShimButton.react","XUIButton.react","XUITextInput.react","asset","cxMargin","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.editOtherService=function(){d.setState({isEditingOther:!0})},d.saveOtherService=function(){d.setState({isEditingOther:!1}),b("ServicesBookableServicesSurveyActions").createCustomServiceItem(),b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()},d.stopEditingOtherService=function(){d.setState({isEditingOther:!1}),b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState();return!a?{customServiceItem:c.customServiceItem,customServices:c.customServices,isCustomServiceValid:b("ServicesBookableServicesSurveyStore").isCustomServiceValid(),isEditingOther:!1,isHovered:!1,predefinedBookableTasks:c.predefinedBookableTasks,selectedServices:c.selectedServices,shouldShowCustomServicesEntry:c.shouldShowCustomServicesEntry}:babelHelpers["extends"]({},a,{customServiceItem:c.customServiceItem,customServices:c.customServices,isCustomServiceValid:b("ServicesBookableServicesSurveyStore").isCustomServiceValid(),predefinedBookableTasks:c.predefinedBookableTasks,selectedServices:c.selectedServices,shouldShowCustomServicesEntry:c.shouldShowCustomServicesEntry})};var d=c.prototype;d.componentWillUnmount=function(){b("ServicesBookableServicesSurveyActions").clearCustomServiceItem()};d.render=function(){var a=this,c=this.state.predefinedBookableTasks.map(function(c,d){if(!c.task)return null;var e=a.state.selectedServices.has(c.task);return j.jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:function(){b("ServicesBookableServicesSurveyActions").selectService(c.task)},children:[j.jsx(b("FDSCheckboxInput.maintenance.react"),{margin:"_3-90",onChange:function(){b("ServicesBookableServicesSurveyActions").selectService(c.task)},value:e}),j.jsx(b("FDSText.react"),{size:"body2",children:c.consumer_name})]},d)}),d=this.state.customServices.map(function(a,c){return j.jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:function(){b("ServicesBookableServicesSurveyActions").selectCustomService(a.key)},children:[j.jsx(b("FDSCheckboxInput.maintenance.react"),{margin:"_3-90",onChange:function(){b("ServicesBookableServicesSurveyActions").selectCustomService(a.key)},value:a.selected}),j.jsx(b("FDSText.react"),{size:"body2",children:a.label})]},c)}),e=this.state.isEditingOther?j.jsxs("div",{className:"_2pi3 _2o1n _2plg",children:[j.jsx(b("XUITextInput.react"),{className:"_2plj",height:"tall",onChange:b("ServicesBookableServicesSurveyActions").customServiceItemChange,placeholder:"Describe your service",value:this.state.customServiceItem}),j.jsxs("div",{className:"_3-8y _2plk",children:[j.jsx(b("XUIButton.react"),{disabled:!this.state.isCustomServiceValid,label:i._("Add"),size:"large",onClick:this.saveOtherService,use:"confirm"}),j.jsx(b("XUIButton.react"),{className:"_3-91",label:i._("Cancel"),onClick:this.stopEditingOtherService})]})]}):j.jsxs(b("ShimButton.react"),{className:"_2pi3 _2pit _2plf _2plg",onClick:this.editOtherService,children:[j.jsx(b("Image.react"),{className:"_6pu1",src:g("489390")}),j.jsx(b("FDSText.react"),{color:"highlight",size:"body2",children:i._("Add service")})]});return j.jsxs("div",{children:[j.jsx(b("FDSText.react"),{margin:"_20nr _3-8y",size:"header2",children:i._("Which services do you provide?")}),j.jsxs("div",{className:"_20nr _2pll",fade:!0,maxHeight:500,children:[c,d,this.state.shouldShowCustomServicesEntry&&e]})]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyCheckboxQuestion.react",["cx","React","ShimButton.react","XUICheckboxInput.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return h.jsxs("div",{className:"_2o1k"+(this.props.hideBorder!==!0?" _2ctu":""),children:[h.jsxs(b("ShimButton.react"),{className:"_2ctv",onClick:this.props.onClick,children:[h.jsx(b("XUICheckboxInput.react"),{checked:this.props.isChecked,className:"_3-91",onClick:this.props.onClick,readOnly:!0}),h.jsx(b("XUIText.react"),{display:"inline",size:"body1",children:this.props.title})]}),this.props.children]})};return c}(h.Component);e.exports=a}),null);
__d("BookableServicesSurveyServiceAreaContainer.react",["cx","fbt","AddressTypeaheadGraphQLSearchSource","AddressTypeaheadSearchSourceConfig","BookableServicesServiceAreaRadiusValues","BookableServicesSurveyCheckboxQuestion.react","DistanceConstants","FBTilesMap__DEPRECATED.react","FluxContainer","GeoCoordinates","LeafletCircle.react","LeafletView","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyStore","XUISingleSelector.react","XUIText.react","XUITokenizer.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("DistanceConstants").METERS_PER_MILE,j=b("React"),k=b("XUISingleSelector.react").Option,l=new(b("LeafletView"))({center:new(b("GeoCoordinates"))(38.82255,-97.64649),zoom:3});a=3;var m=new(b("AddressTypeaheadGraphQLSearchSource"))(new(b("AddressTypeaheadSearchSourceConfig"))(null,null,"facebook","street_place_typeahead","string_match","interleave",a,"services_lead_gen_survey",["USA"],["postal_code"]));c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onSelectEntryAttempt=function(a){var c=a.getAuxiliaryData();c&&c.latitude&&d.setState({view:new(b("LeafletView"))({center:new(b("GeoCoordinates"))(c.latitude,c.longitude),zoom:9})});b("ServicesBookableServicesSurveyActions").selectServiceAreaCenter(a,c,c.locationID)},d.onViewChange=function(a){d.setState({view:a})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState(),d=c.serviceAreaCenterCoordinates&&c.serviceAreaCenterCoordinates.latitude?new(b("GeoCoordinates"))(c.serviceAreaCenterCoordinates.latitude,c.serviceAreaCenterCoordinates.longitude):null;return!a?{address:c.address,canVisitMyBusiness:c.canVisitMyBusiness,hasServiceArea:c.hasServiceArea,radius:c.radius,serviceAreaCenter:c.serviceAreaCenter?[c.serviceAreaCenter]:[],serviceAreaCenterCoordinates:d,view:d?new(b("LeafletView"))({center:d,zoom:9}):l}:babelHelpers["extends"]({},a,{canVisitMyBusiness:c.canVisitMyBusiness,hasServiceArea:c.hasServiceArea,radius:c.radius,serviceAreaCenter:c.serviceAreaCenter?[c.serviceAreaCenter]:[],serviceAreaCenterCoordinates:d})};var d=c.prototype;d.onRemoveEntryAttempt=function(a){b("ServicesBookableServicesSurveyActions").removeServiceAreaCenter()};d.onSelectRadius=function(a){b("ServicesBookableServicesSurveyActions").setRadius(a.value)};d.renderMap=function(){return this.state.view==null?null:j.jsx(b("FBTilesMap__DEPRECATED.react"),{className:"_3zv_",onViewChange:this.onViewChange,setZoomPosition:{vertical:"top",horizontal:"left"},showZoomControls:!0,surface:"lead_gen",view:this.state.view,children:this.state.serviceAreaCenterCoordinates?j.jsx(b("LeafletCircle.react"),{center:this.state.serviceAreaCenterCoordinates,radius:this.state.radius*i}):null})};d.renderSelectorOptions=function(){return b("BookableServicesServiceAreaRadiusValues").map(function(a){return j.jsx(k,{value:a,children:j.jsx("span",{children:h._({"*":"Within {number} miles","_1":"Within 1 mile"},[h._plural(a,"number")])})},a)})};d.render=function(){return j.jsxs("div",{children:[this.renderMap(),j.jsxs("div",{className:"_2pib _2pie",children:[this.state.address?j.jsx(b("BookableServicesSurveyCheckboxQuestion.react"),{isChecked:this.state.canVisitMyBusiness,onClick:b("ServicesBookableServicesSurveyActions").checkCanVisitMyBusiness,title:h._("Customers can visit this business"),children:j.jsx(b("XUIText.react"),{className:"_3-8y _spx",color:"secondary",display:"block",size:"body3",children:this.state.address})}):null,j.jsx(b("BookableServicesSurveyCheckboxQuestion.react"),{hideBorder:!0,isChecked:this.state.hasServiceArea,onClick:b("ServicesBookableServicesSurveyActions").checkHasServiceArea,title:h._("This business provides services in a surrounding area"),children:this.state.hasServiceArea?j.jsxs("div",{className:"_3-8y _spy",children:[j.jsx(b("XUIText.react"),{size:"body3",weight:"bold",children:h._("Postal code")}),j.jsx(b("XUITokenizer.react"),{className:"_3-9b",entries:this.state.serviceAreaCenter,entriesWidthMatchContext:!0,extraTypeaheadProps:{maxLength:5},limit:1,onAddEntryAttempt:this.onSelectEntryAttempt,onRemoveEntryAttempt:this.onRemoveEntryAttempt,placeholder:h._("e.g. 12345"),searchSource:m,selectOnBlur:!0}),j.jsx(b("XUISingleSelector.react"),{className:"_3-9b",onChange:this.onSelectRadius,value:this.state.radius,size:"large",children:this.renderSelectorOptions()})]}):null})]})]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(c)}),null);
__d("BookableServicesSurveyDialogContentContainer.react",["ix","cx","fbt","BookableServicesSurveyGetStartedView.react","BookableServicesSurveyMakeSelectionContainer.react","BookableServicesSurveySelectionContainer.react","BookableServicesSurveyServiceAreaContainer.react","BUIProgressBar.react","CurrentUser","FDSButton.react","FDSCancelButton.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FluxContainer","Image.react","React","ServicesBookableServicesSurveyActions","ServicesBookableServicesSurveyLogger","ServicesBookableServicesSurveySteps","ServicesBookableServicesSurveyStore","ServicesCTAUnificationDispatcher","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","XUIText.react","asset","cxMargin","immutable","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.showOptOutDialog=function(){c.setState({isOptOutDialogShown:!0})},c.hideOptOutDialog=function(){c.setState({isOptOutDialogShown:!1})},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("ServicesBookableServicesSurveyStore")]};c.calculateState=function(a){var c=b("ServicesBookableServicesSurveyStore").getState(),d=b("ServicesBookableServicesSurveyStore").hasAnyServicesSelected(),e=b("ServicesBookableServicesSurveyStore").hasServiceAreaDefined();return{hasAnyServicesSelected:d,hasServiceAreaDefined:e,isOptOutDialogShown:a?a.isOptOutDialogShown:!1,mutationSuccess:c.mutationSuccess,noPermissions:c.noPermissions,progressBarPercentage:b("ServicesBookableServicesSurveyStore").getProgressBarPercentage(),selectedAutoMake:c.selectedAutoMake,showLoadingIndicator:c.showLoadingIndicator,step:c.step}};var d=c.prototype;d.componentDidMount=function(){b("ServicesCTAUnificationDispatcher").explicitlyRegisterStores(this.constructor.getStores()),b("ServicesBookableServicesSurveyActions").loadDataAndInitialize(this.props.pageID,this.props.referrer,b("uuid")(),function(){b("ServicesBookableServicesSurveyLogger").log("www_survey_impression")})};d.componentWillUnmount=function(){b("ServicesBookableServicesSurveyLogger").log("dismiss"),b("ServicesBookableServicesSurveyActions").resetSurvey()};d.renderBody=function(){if(this.state.showLoadingIndicator)return j.jsx(b("XUIDialogBody.react"),{className:"_52jv",children:j.jsx(b("XUISpinner.react"),{size:"large"})});else if(this.state.noPermissions)return j.jsx(b("XUIDialogBody.react"),{className:"_2pib _52jv",children:j.jsx(b("XUIText.react"),{display:"block",size:"body1",children:i._("You don't have permission to edit this Page.")})});switch(this.state.step){case b("ServicesBookableServicesSurveySteps").CONFIRMATION:return!this.state.mutationSuccess?j.jsx(b("XUIDialogBody.react"),{className:"_2pib _52jv",children:j.jsx(b("XUIText.react"),{display:"block",size:"body1",children:i._("We're sorry, there were problems with saving your survey. Please try again later.")})}):j.jsxs(b("XUIDialogBody.react"),{className:"_52jv _6qyw",children:[j.jsx("div",{className:"_6i-n",children:j.jsx("div",{className:"_3-96 _2pi0 _6hoq",children:j.jsx(b("Image.react"),{src:g("505220")})})}),j.jsx(b("FDSText.react"),{size:"body1",children:i._("Thanks for telling us more about your business.")})]});case b("ServicesBookableServicesSurveySteps").GET_STARTED:return j.jsx(b("XUIDialogBody.react"),{className:"_2pib",children:j.jsx(b("BookableServicesSurveyGetStartedView.react"),{})});case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:return j.jsx(b("XUIDialogBody.react"),{className:"_2pib",children:j.jsx(b("BookableServicesSurveyMakeSelectionContainer.react"),{})});case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:return j.jsx(b("XUIDialogBody.react"),{className:"_1kto",children:j.jsx(b("BookableServicesSurveyServiceAreaContainer.react"),{})});case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:return j.jsx(b("XUIDialogBody.react"),{className:"_2pib",children:j.jsx(b("BookableServicesSurveySelectionContainer.react"),{})});default:return null}};d.renderTitle=function(){return this.props.hideTitle?null:j.jsx(b("XUIDialogTitle.react"),{className:"_2pi5",id:"dialogTitle",children:i._("Quick survey")})};d.renderFooter=function(){if(this.state.showLoadingIndicator)return null;switch(this.state.step){case b("ServicesBookableServicesSurveySteps").MAKE_SELECTION:return j.jsxs(b("XUIDialogFooter.react"),{fullBleedBorder:!0,children:[j.jsx(b("XUIDialogButton.react"),{className:"_3-8_",label:i._("Back"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").previousStep}),j.jsx(b("XUIDialogButton.react"),{disabled:this.state.selectedAutoMake.isEmpty(),label:i._("Next"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").nextStep,use:"confirm"})]});case b("ServicesBookableServicesSurveySteps").SERVICES_AREA:return j.jsxs(b("XUIDialogFooter.react"),{fullBleedBorder:!0,children:[j.jsx(b("XUIDialogButton.react"),{className:"_3-8_",label:i._("Back"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").previousStep}),j.jsx(b("XUIDialogButton.react"),{disabled:!this.state.hasServiceAreaDefined,label:i._("Done"),size:"large",onClick:function(){b("ServicesBookableServicesSurveyActions").submitSurvey(b("CurrentUser").getID())},use:"confirm"})]});case b("ServicesBookableServicesSurveySteps").SERVICES_SELECTION:return j.jsx(b("XUIDialogFooter.react"),{fullBleedBorder:!0,leftContent:j.jsx(b("FDSLink.react"),{margin:"_3-8w",onClick:this.showOptOutDialog,children:i._("None of the Above")}),children:j.jsx(b("XUIDialogButton.react"),{disabled:!this.state.hasAnyServicesSelected,label:i._("Next"),size:"large",onClick:b("ServicesBookableServicesSurveyActions").nextStep,use:"confirm"})});case b("ServicesBookableServicesSurveySteps").CONFIRMATION:case b("ServicesBookableServicesSurveySteps").GET_STARTED:default:return null}};d.renderOptOutDialog=function(){var a=this;return j.jsx(b("FDSModal.react"),{footer:j.jsx(b("FDSModalFooter.react"),{primaryButton:j.jsx(b("FDSButton.react"),{label:"Turn Off",onClick:function(){a.hideOptOutDialog(),b("ServicesBookableServicesSurveyActions").selectNoneOfTheAboveServices()},use:"primary"}),secondaryButton:j.jsx(b("FDSCancelButton.react"),{})}),header:j.jsx(b("FDSModalHeader.react"),{title:i._("Turn off quote requests")}),isShown:this.state.isOptOutDialogShown,onHide:this.hideOptOutDialog,width:400,children:j.jsxs(b("FDSSection.react"),{children:[j.jsx(b("FDSText.react"),{size:"body1",margin:"_3-96",children:i._("Selecting {=None of the Above} will prevent you from receiving quote requests.",[i._param("=None of the Above",j.jsx("b",{children:i._("None of the above")}))])}),j.jsx(b("FDSText.react"),{size:"body1",children:i._("You can change this in {=Edit Page Info > General > Quote Requests} on your computer.",[i._param("=Edit Page Info > General > Quote Requests",j.jsx("b",{children:i._("Edit Page Info > General > Quote requests")}))])})]})})};d.renderProgressBar=function(){return j.jsx(b("BUIProgressBar.react"),{className:"_2y4-",flexibleWidth:!0,height:"small",padding:!1,percentage:this.state.progressBarPercentage})};d.render=function(){return j.jsxs("div",{children:[this.renderOptOutDialog(),this.renderTitle(),this.renderProgressBar(),this.renderBody(),this.renderFooter()]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BookableServicesSurveyDialogContainer.react",["BookableServicesSurveyDialogContentContainer.react","DialogExpansion","LayerFadeOnHide","LayerFadeOnShow","LayerRemoveOnHide","React","XUIDialog.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow"),LayerRemoveOnHide:b("LayerRemoveOnHide"),DialogExpansion:b("DialogExpansion")},fixedTopPosition:100,labelledBy:"dialogTitle",hideOnEscape:!0,layerHideOnBlur:!1,onToggle:this.props.onToggle,shown:this.props.shown,width:480,children:g.jsx(b("BookableServicesSurveyDialogContentContainer.react"),{onToggle:this.props.onToggle,pageID:this.props.pageID,referrer:this.props.referrer})})};return c}(g.Component);e.exports=a}),null);
__d("ServicesLeadGenBookableServicesAdminText.react",["fbt","BookableServicesSurveyDialogContainer.react","React","ShimButton.react","XUIButton.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={referrer:null,showDialog:!1},c.toggleDialog=function(a,b){b!=null&&c.setState({referrer:b}),c.setState({showDialog:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.renderDialog=function(){return!this.state.showDialog?null:h.jsx(b("BookableServicesSurveyDialogContainer.react"),{onToggle:this.toggleDialog,pageID:this.props.pageID,referrer:this.state.referrer,shown:this.state.showDialog})};d.render=function(){var a=this;return this.props.edit?h.jsxs("div",{children:[h.jsxs(b("XUIText.react"),{size:"body1",children:[g._("Get better quote requests by")," ",h.jsx(b("ShimButton.react"),{form:"link",onClick:function(){a.toggleDialog(!0,"edit")},children:g._("telling us more about the services you offer")})]}),this.renderDialog()]}):h.jsxs("div",{children:[h.jsx(b("XUIText.react"),{display:"block",size:"body1",children:this.props.message}),h.jsxs("div",{className:"_3-8y",children:[h.jsx(b("XUIButton.react"),{label:g._("Yes"),onClick:function(){a.toggleDialog(!0,"yes")},size:"small"}),h.jsx(b("XUIButton.react"),{label:g._("No"),onClick:function(){a.toggleDialog(!0,"no")},size:"small"})]}),this.renderDialog()]})};return c}(h.PureComponent);e.exports=a}),null);
__d("P2PBigAmount.react",["cx","PECurrency","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;var d=b("PECurrency").getCurrencySymbol(c.props.currencyCode);c.state={currencySymbol:d||""};return c}var d=c.prototype;d.render=function(){var a="_8j6"+(this.props.size==="large"?" _1fv":""),c="_8jc"+(this.props.isPending?" _8jd":"")+(this.props.amount.length>=7?" _8je":"");return h.jsxs("div",{className:b("joinClasses")(this.props.className,a),children:[h.jsx("div",{className:"_2n9x"+(this.props.isPending?" _2n9y":"")+(this.props.size==="large"?" _2n9-":"")+(this.props.size!=="large"&&this.props.amount.length>=7?" _62g-":""),children:this.state.currencySymbol}),h.jsx("div",{className:b("joinClasses")(this.props.className,c),children:this.props.amount})]})};return c}(h.Component);a.propTypes={amount:(c=b("prop-types")).string.isRequired,className:c.string,currencyCode:c.string.isRequired,isPending:c.bool,size:c.oneOf(["medium","large"])};a.defaultProps={size:"medium"};e.exports=a}),null);
__d("XP2PPaymentRequestReceiptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/p2p/payment_request/",{id:{type:"String",required:!0}})}),null);
__d("XP2PTransactionDetailController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/p2p/transaction/",{id:{type:"String",required:!0}})}),null);
__d("PageManagerInboxMessageLoadIndicator.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.$1=function(a){var b=h.jsxs("div",{className:"_1vrr",children:[h.jsx("div",{className:"_31m8"}),h.jsx("div",{className:"_31ma"}),h.jsx("div",{className:"_31mb"}),h.jsx("div",{className:"_31mc"}),h.jsx("div",{className:"_31me"}),h.jsx("div",{className:"_31mf"}),h.jsx("div",{className:"_31mg"}),h.jsx("div",{className:"_31mh"}),h.jsx("div",{className:"_31mi"}),h.jsx("div",{className:"_31mj"}),h.jsx("div",{className:"_31mk"}),h.jsx("div",{className:"_31ml"}),h.jsx("div",{className:"_31mm"}),h.jsx("div",{className:"_31mn"}),h.jsx("div",{className:"_31mo"}),h.jsx("div",{className:"_31mp"}),h.jsx("div",{className:"_31mq"})]}),c=[];for(var d=0;d<a;d++)c.push(h.cloneElement(b,{key:"loading"+d}));return h.jsx("div",{className:"_1vrs",children:c})};c.render=function(){var a=Math.floor(this.props.height/130);return h.jsx("div",{className:"_31m6",style:{height:this.props.height},children:h.jsx("div",{className:"_31m7",style:{height:130*a},children:this.$1(a)})})};return b}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerMessagingMessageDateBreak.react",["cx","CenteredContainer.react","MessengerDateBreak.re","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MessengerDateBreak.re").make,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return i.jsx(b("CenteredContainer.react"),{vertical:!1,children:i.jsx(h,{className:"_1wpi",date:this.props.date})})};return c}(i.Component);e.exports=a}),null);
__d("PagesManagerMessagingMessageGroup.react",["MessengerMessageGroup.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return g.jsx(b("MessengerMessageGroup.react"),babelHelpers["extends"]({},this.props))};return c}(g.Component);e.exports=a}),null);
__d("PagesManagerWECMessage.react",["cssVar","cx","fbt","EmojiLikeUtils","ImmutableObject","MercuryAttachment","MercuryDisplayTimeFilterMessageRenderer","MercuryMessageDeliveryState","MercuryMessageError.react","MercuryTimestamp","MessengerAttachmentAttribution.re","MessengerAttachmentRenderer","MessengerBubble.react","MessengerDecorator","MessengerMessage.bs","MessengerMessageActionsWrapper.react","MessengerVideoAutoplayStore","React","SubscriptionsHandler","TooltipData","emptyFunction","getViewportDimensions","ifRequired","immutable","joinClasses","messengerRTLClasses","shallowEqual"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("MessengerAttachmentAttribution.re").make,k=b("React");function l(a){switch(a){case b("MercuryMessageDeliveryState").SENDING:return i._("Sending");case b("MercuryMessageDeliveryState").SENT:return i._("Sent");case b("MercuryMessageDeliveryState").DELIVERED:return i._("Delivered");case b("MercuryMessageDeliveryState").ERROR:return i._("This message didn't send. Check your internet connection and click to try again.")}return null}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isVisible:!1,plainText:!1,shown:{}},c.$9=function(a){c.messageBody=a},c.$12=function(a,b){c.setState(function(c){return c={shown:c.shown},c[a]=b,c})},c.$7=function(){c.props.onSelect(c.props.message.message_id)},b)||babelHelpers.assertThisInitialized(c)}c.calculateState=function(a){return{isVisible:b("MessengerVideoAutoplayStore").isVisible(a.message.thread_id,a.message.message_id)||b("ifRequired")("MessengerSphericalRendererStore",function(b){return b.isVisible(a.message.thread_id,a.message.message_id)},function(){return!1})}};var d=c.prototype;d.componentDidMount=function(){this.$2()};d.shouldComponentUpdate=function(a,c){return a.isActive!==this.props.isActive||a.isFromViewer!==this.props.isFromViewer||a.message!==this.props.message||a.messageTimestamp!==this.props.messageTimestamp||a.nextTimestamp!==this.props.nextTimestamp||a.showDeliveryState!==this.props.showDeliveryState||a.deliveryTimestamp!==this.props.deliveryTimestamp||!b("immutable").is(a.readReceipts,this.props.readReceipts)||!b("immutable").is(a.participants,this.props.participants)||a.customColor!==this.props.customColor||c.isVisible!==this.state.isVisible||!b("shallowEqual")(c.shown,this.state.shown)||a.onAttachmentLoad!==this.props.onAttachmentLoad};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.$2=function(){var a=this;this.setState(c.calculateState(this.props));var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("MessengerVideoAutoplayStore").addListener(function(b){b=c.calculateState(a.props);b.isVisible!==a.state.isVisible&&a.setState({isVisible:b.isVisible})}));this.$1=d};d.$3=function(){var a=this.props,b=a.isFromViewer;a=a.showDeliveryState;if(b&&!a)return k.jsx("span",{className:"_7qwh",children:k.jsx("svg",{height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#4FC3F7"})})})};d.$4=function(a){return a.every(function(a){return!a||!b("MessengerAttachmentRenderer").isRenderedShareAttachment(a)})};d.$5=function(){return this.props.message.attachments.length===1&&b("MercuryAttachment").hasAttribution(this.props.message.attachments[0])};d.$6=function(a,c){if(n(this.props.message))return null;c=[];var d=b("MessengerAttachmentRenderer").getAttachmentsOutsideBubble(this.props.message,this.props.onAttachmentLoad,{customColor:this.props.customColor,isFromViewer:this.props.isFromViewer,isPageMessage:this.props.isPageMessage,isVisible:this.state.isVisible,onSelect:this.$7,onUnwrap:null,pageID:this.props.pageID});if(!d||!d.length)return null;var e=this.$4(d);if(a){var f=d.some(function(a){return!!a&&b("MessengerAttachmentRenderer").isPhotosGroupAttachment(a)});this.$5()&&(d=[k.jsxs("span",{children:[d[0],k.jsx(j,{attachment:new(b("ImmutableObject"))(this.props.message.attachments[0])})]},"AttachmentWithAttribution")]);d=e?k.jsx("div",babelHelpers["extends"]({},a,{className:b("joinClasses").apply(void 0,["_3zvs"+(f?" _2-x3":"")].concat(c)),children:d})):d.map(function(b){return b&&k.cloneElement(b,a)})}e=b("MessengerAttachmentRenderer").isSharedVideoAttachmentMessage(this.props.message);f=k.jsx("div",{className:"_3058 _15gf"+(e?" _3duc":""),children:d},"renderedAttachments");return f};d.$8=function(a,c){var d=this.props.message,e=b("immutable").List(b("MessengerAttachmentRenderer").getAttachmentsInsideBubble(d,this.props.onAttachmentLoad)),f=d.ranges;if(d.is_filtered_content)return k.jsx("div",{className:"_3058 _wiu _52mr uiBoxYellow clearfix",children:b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(d)});var g=d.body&&!b("EmojiLikeUtils").isEmojiLike(d);return g||!e.isEmpty()?k.jsx(b("MessengerBubble.react"),{attachments:e,body:d.body,bodyRef:this.$9,className:"_3058 _ui9"+(d.isSelected?" _3xsz":""),customColor:this.props.isFromViewer?this.props.customColor:"",customLike:d.customLike,excludeAfterDecorators:c,isFromViewer:this.props.isFromViewer,isHovered:this.state.shown[d.message_id],isPageMessage:this.props.isPageMessage,isSavedView:this.props.isSavedView,isShowingOriginal:this.state.plainText,message:d,metaRanges:d.meta_ranges,onReplyToMessage:this.props.onReplyToMessage,participants:this.props.participants,plainText:this.state.plainText,ranges:f,repliedToMessage:this.props.message.replied_to_message,scrollToRepliedMessage:this.props.scrollToRepliedMessage,thread:this.props.thread,threadCustomColor:this.props.threadCustomColor||"#0084ff",threadID:d.thread_id,tooltip:a,wecFirstMessage:this.props.wecFirstMessage}):null};d.$10=function(){if(!this.props.isFromViewer||!this.props.showDeliveryState)return null;var a=b("MessengerMessage.bs").getDeliveryState(this.props.message,this.props.deliveryTimestamp);if(a===b("MercuryMessageDeliveryState").UNKNOWN)return null;var c=l(a);return k.jsxs("span",{"aria-label":c,className:"_7qwi",title:c,children:[a===b("MercuryMessageDeliveryState").SENDING?k.jsx("svg",{"aria-label":c,height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M9.75 7.713H8.244V5.359a.5.5 0 0 0-.5-.5H7.65a.5.5 0 0 0-.5.5v2.947a.5.5 0 0 0 .5.5h.094l.003-.001.003.002h2a.5.5 0 0 0 .5-.5v-.094a.5.5 0 0 0-.5-.5zm0-5.263h-3.5c-1.82 0-3.3 1.48-3.3 3.3v3.5c0 1.82 1.48 3.3 3.3 3.3h3.5c1.82 0 3.3-1.48 3.3-3.3v-3.5c0-1.82-1.48-3.3-3.3-3.3zm2 6.8a2 2 0 0 1-2 2h-3.5a2 2 0 0 1-2-2v-3.5a2 2 0 0 1 2-2h3.5a2 2 0 0 1 2 2v3.5z",fill:"#859479"})}):null,a===b("MercuryMessageDeliveryState").SENT?k.jsx("svg",{"aria-label":c,height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M10.91 3.316l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#92A58C"})}):null,a===b("MercuryMessageDeliveryState").DELIVERED?k.jsx("svg",{"aria-label":c,height:"15",id:"Layer_1",viewBox:"0 0 16 15",width:"16",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z",fill:"#92A58C"})}):null]})};d.$11=function(){var a=this.props.message;return!b("MessengerMessage.bs").hasError(a)?null:k.jsx(b("MercuryMessageError.react"),{authorFBID:this.props.authorFBID,className:"_3058 _2ygi",message:a})};d.render=function(){var a=this.props,c=a.isActive,d=a.isFromViewer;a=a.message;var e=i._("{time}",[i._param("time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]);e=b("TooltipData").propsFor(e,m(d));var f=[],g=[],h=this.props.message,j=d||!1,l=this.props.scrollToRepliedMessage;h&&!this.props.hideBeforeDecorator&&(b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(h)&&f.push(a.render(h,j,{scrollToRepliedMessage:l}))}),b("MessengerDecorator").getInnerDecorators().forEach(function(a){a.check(h)&&g.push(a.getAdditionalClassNames())}));var n=this.$8(e,!1),o=this.$6(e,null);o&&(n=this.$8(e,!0));return k.jsxs(b("MessengerMessageActionsWrapper.react"),{className:b("joinClasses").apply(void 0,["clearfix _o46 _3erg"+(c?" _-5k":"")+(d?" _3i_m":"")+(d?" _nd_":"")+(d?"":" _29_7"),b("messengerRTLClasses")(a.body)].concat(g)),isFromViewer:d,message:a,onShowMenu:this.$12,children:[f,n,o,this.$11(),this.$10(),this.$3()]})};return c}(k.Component);a.defaultProps={onAttachmentLoad:b("emptyFunction"),threadCustomColor:"#0084ff"};function m(a){return b("getViewportDimensions")().width<=parseInt("700px".replace("px",""),10)?"above":a?"right":"left"}function n(a){var b;if((a==null?void 0:(b=a.attachments)==null?void 0:b.length)>0&&((b=a.attachments[0].share)==null?void 0:b.subattachments)!=null){return((b=a.attachments[0].share)==null?void 0:b.style_list[0])==="wec_message"&&a.attachments[0].share.subattachments.length===0}}e.exports=a}),null);
__d("PagesManagerWECMessageGroup.react",["cx","MercuryIDs","MessengerParticipants.bs","PagesManagerWECMessage.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={participants:i(c.props)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.calculateState=function(a){return{participants:i(a)}};d.$1=function(){var a=this,c=this.props.messages.size,d=[],e=this.props.messages.last();e.has_attachment===!0&&(e.video_ids||e.image_ids)&&(e.body=null);this.props.messages.forEach(function(e,f,g){var i=e.message_id===a.props.activeMessageID,j=b("MercuryIDs").getUserIDFromParticipantID(a.props.author),k=a.props.onAttachmentLoad,l=e===a.props.messages.first();d.push(h.jsx(b("PagesManagerWECMessage.react"),{authorFBID:j===null?void 0:j,customColor:"",deliveryTimestamp:a.props.deliveryTimestamp,isActive:i,isFromViewer:a.props.isFromViewer,isPageMessage:a.props.isPageMessage,message:e,nextTimestamp:a.$2(g,c,f),onAttachmentLoad:k,onDeselect:a.props.onMessageDeselect,onSelect:a.props.onMessageSelect,pageID:a.props.pageID,participants:a.state.participants,readReceipts:a.props.readReceipts,ref:e.message_id,showDeliveryState:e.timestamp>a.props.lastReadTimestamp,threadCustomColor:"",wecFirstMessage:l},e.message_id))});return d};d.$2=function(a,b,c){return c<b-1?a.get(c+1).timestamp:this.props.nextTimestamp};d.render=function(){return h.jsx("div",{children:h.jsx("div",{className:"_1t_p clearfix",children:h.jsx("div",{className:"_41ud _38-y",children:this.$1()})})})};return c}(h.PureComponent);function i(a){var c=b("MercuryIDs").getParticipantIDFromFromThreadID(a.messages.first().thread_id);return b("immutable").Map().withMutations(function(d){a.readReceipts.forEach(function(a,c){d.set(c,b("MessengerParticipants.bs").getNow(c))}),d.set(c,b("MessengerParticipants.bs").getNow(c))})}e.exports=a}),null);
__d("PagesManagerMessagingMessageList.react",["cx","BIZInboxClientLogger","ChatTypingIndicatorsWrapper.bs","DOM","Event","MercuryShareAttachmentRenderLocations","MessageList.react","MessengerCollapsedLogMessageGroup.react","MessengerDeliveryReceipt.bs","MessengerLogMessage.react","MessengerSpinner.react","MessengerTypingIndicatorReact.re","PageManagerInboxMessageLoadIndicator.react","PagesManagerMessagingMessageDateBreak.react","PagesManagerMessagingMessageGroup.react","PagesManagerWECMessageGroup.react","React","ReactDOM","ScrollableArea.react","debounce"],(function(a,b,c,d,e,f,g){"use strict";var h=b("ChatTypingIndicatorsWrapper.bs").jsComponent,i=b("MessengerTypingIndicatorReact.re").component,j=b("React");a="WEC_message_view";c=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.$1=!0;b.prevScrollTop=0;b.prevScrollHeight=0;return b}var d=c.prototype;d.componentDidMount=function(){this.refs.scrollableArea&&this.refs.scrollableArea.getArea()&&this.refs.scrollableArea.getArea().scrollToBottom(),b("BIZInboxClientLogger").logMessageListRenderView(this.props.pageID,this.props.commPlatform,this.props.threadID)};d.componentDidUpdate=function(a){var b=this.props.messagelist.last()&&this.props.messagelist.last().thread_fbid,c=a.messagelist.last()&&a.messagelist.last().thread_fbid;a.messagelist.size===0&&this.props.messagelist.size!==0||b!==c||a.threadID!==this.props.threadID||a.footerChildren!==this.props.footerChildren?(this.refs.scrollableArea&&this.refs.scrollableArea.getArea()&&this.refs.scrollableArea.getArea().scrollToBottom(),this.$2()):this.props.messagelist.size!==a.messagelist.size&&(this.$3(this.prevScrollHeight,this.prevScrollTop),this.$2())};d.$3=function(a,b){if(!this.refs.scrollableArea)return;var c=this.refs.scrollableArea.getArea();a=c.getScrollHeight()-a+b;c.setScrollTop(a,!1)};d.$4=function(){if(!this.refs.scrollableArea)return;var a=this.refs.scrollableArea.getArea(),b=this.prevScrollTop,c=this.prevScrollHeight;this.$5();a.isScrolledToTop()?(this.$6(),this.props.fetchEarlierMessages()):a.isScrolledToBottom()?this.$7():(a.getScrollTop()===b&&a.getScrollHeight()!==c&&this.$3(c,b),this.$6())};d.$7=function(){this.$1||(this.$1=!0)};d.$6=function(){this.$1&&(this.$1=!1)};d.$5=function(){var a=this.refs.scrollableArea;this.prevScrollHeight=a?a.getArea().getScrollHeight():0;this.prevScrollTop=a?a.getArea().getScrollTop():0};d.$8=function(a){var b=this;return function(){if(b.props.threadID!==a)return;b.$1&&(b.refs.scrollableArea&&b.refs.scrollableArea.getArea()&&b.refs.scrollableArea.getArea().scrollToBottom())}};d.$2=function(){var a=this;b("DOM").scry(b("ReactDOM").findDOMNode(this),"img").forEach(function(c){if(c.complete)return;var d=a.props.threadID,e=b("Event").listen(c,"load",function(){a.props.threadID===d&&a.$1&&(a.refs.scrollableArea&&a.refs.scrollableArea.getArea()&&a.refs.scrollableArea.getArea().scrollToBottom()),e.remove()})})};d.$9=function(){return j.jsx(b("PageManagerInboxMessageLoadIndicator.react"),{height:this.props.scrollHeight})};d.$10=function(){return!this.props.isLoadingMore?null:j.jsx("div",{className:"_2k8v",children:j.jsx(b("MessengerSpinner.react"),{})})};d.$11=function(){var a=this;if(this.props.messagelist.size===0)throw new Error("Empty message list");return j.jsxs("div",{className:"clearfix _1ej0 _2mpc",children:[j.jsx(b("MessageList.react"),{DateBreak:b("PagesManagerMessagingMessageDateBreak.react"),deliveryTimestamp:this.props.deliveryReceipts?b("MessengerDeliveryReceipt.bs").getDeliveryTimeOfThread(this.props.deliveryReceipts,this.props.threadID):0,isCanonical:!0,isPageMessage:!0,location:b("MercuryShareAttachmentRenderLocations").MESSENGER,CollapsedLogMessageGroup:b("MessengerCollapsedLogMessageGroup.react"),LogMessage:b("MessengerLogMessage.react"),MessageGroup:this.props.commPlatform==="WEC"?b("PagesManagerWECMessageGroup.react"):b("PagesManagerMessagingMessageGroup.react"),onAttachmentLoad:this.$8(this.props.threadID),messages:this.props.messagelist,readReceipts:this.props.readReceipts,viewer:this.props.pageID}),j.jsx(h,{indicatorClass:i,indicatorsWillShow:function(){},indicatorsDidShow:function(){a.$1&&a.refs.scrollableArea&&a.refs.scrollableArea.getArea().scrollToBottom()},rootClassName:"clearfix _17pz _4gv2",threadID:this.props.threadID,viewer:this.props.pageID})]})};d.render=function(){var a=this;return this.props.initLoading?this.$9():j.jsxs("div",{className:this.props.commPlatform==="WEC"?"_66_6":"","data-testid":void 0,children:[j.jsxs(b("ScrollableArea.react"),{className:"_11y7",fade:!1,height:this.props.scrollHeight,onScroll:b("debounce")(function(){return a.$4()},500),ref:"scrollableArea",shadow:!1,children:[this.$10(),j.jsx("div",{className:"_14y3",children:this.props.threadID?this.$11():j.jsx("div",{})}),this.props.footerChildrenSpacer]}),this.props.footerChildren]})};return c}(j.Component);e.exports=c}),null);
__d("PagesManagerOmniMActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({PAGES_MANAGER_OMNI_M_INIT:null,PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY:null,PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME:null,PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR:null,PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS:null,PAGES_MANAGER_OMNI_M_SET_CONVERSION_DATA:null,PAGES_MANAGER_OMNI_M_SET_PARTNER_APP_LOGO:null,PAGES_MANAGER_OMNI_M_SET_SHOULD_SHOW_BUSINESS_STICKER_EYEBROW_TEXT:null,PAGES_MANAGER_OMNI_M_SET_SUGGESTION_SPACER_HEIGHT:null,PAGES_MANAGER_OMNI_M_TRIGGER_SAVED_REPLIES_UPSELL:null});e.exports=a}),null);
__d("PagesManagerOmniMStore",["FluxReduceStore","PagesManagerMessagingMessagelistDispatcher","PagesManagerOmniMActionTypes","immutable"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("PagesManagerOmniMActionTypes")).PAGES_MANAGER_OMNI_M_INIT,h=a.PAGES_MANAGER_OMNI_M_SET_CONVERSION_DATA,i=a.PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY,j=a.PAGES_MANAGER_OMNI_M_SET_PARTNER_APP_LOGO,k=a.PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME,l=a.PAGES_MANAGER_OMNI_M_SET_SHOULD_SHOW_BUSINESS_STICKER_EYEBROW_TEXT,m=a.PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR,n=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTION_SPACER_HEIGHT,o=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS,p=a.PAGES_MANAGER_OMNI_M_TRIGGER_SAVED_REPLIES_UPSELL,q=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({conversionData:null,isEligibleForAdminMSuggestion:!1,pageID:null,showSuggestionBar:!1,startTime:null,suggestions:null,threadFBID:null,partnerAppLogo:null,messageID:null,shouldShowEyebrowTextForBusinessSticker:!1,suggestionSpacerHeight:null,upsellSpecificData:null,senderID:null}));c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new q()};c.reduce=function(a,b){var c=b.payload;switch(b.type){case g:return a.set("threadFBID",c.threadFBID).set("pageID",c.pageID);case i:return a.set("isEligibleForAdminMSuggestion",c.isEligibleForAdminMSuggestion);case m:return a.set("showSuggestionBar",c.showSuggestionBar);case o:return a.set("suggestions",c.suggestions).set("messageID",c.messageID).set("senderID",c.senderID);case k:return a.set("startTime",c.startTime);case h:return a.set("conversionData",c.conversionData);case j:return a.set("partnerAppLogo",c.partnerAppLogo);case l:return a.set("shouldShowEyebrowTextForBusinessSticker",c.shouldShowEyebrowTextForBusinessSticker);case n:return a.set("suggestionSpacerHeight",c.height);case p:return a.set("upsellSpecificData",c.upsellSpecificData);default:return a}};c.getIsDifferentThread=function(a,b){var c=this.getState();return a!==c.threadFBID||b!==c.pageID};c.getShowSuggestionBar=function(){var a=this.getState();return a.isEligibleForAdminMSuggestion&&a.showSuggestionBar};c.getSuggestions=function(){return this.getState().suggestions};c.getMessageID=function(){return this.getState().messageID};c.getSenderID=function(){return this.getState().senderID};c.getQuickScheduleStartTime=function(){return this.getState().startTime};c.getConversionData=function(){return this.getState().conversionData};c.getPartnerAppLogo=function(){return this.getState().partnerAppLogo};c.getShouldShowEyebrowTextForBusinessSticker=function(){return this.getState().shouldShowEyebrowTextForBusinessSticker};c.getSuggestionSpacerHeight=function(){return this.getState().suggestionSpacerHeight};c.getTriggerSavedRepliesUpsell=function(){return this.getState().upsellSpecificData};return b}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("PagesManagerMessagingMessagelistDispatcher"))}),null);
__d("PagesManagerOmniMSuggestionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1633243126804880"};b.getQueryID=function(){return"243928156353631"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("XMessengerAdConfirmConversionSuggestionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/confirm_conversion_suggestion/",{page_id:{type:"FBID",required:!0},consumer_user_id:{type:"FBID",required:!0},conversion_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessengerAdDismissConversionSuggestionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/dismiss_conversion_suggestion/",{page_id:{type:"FBID",required:!0},consumer_user_id:{type:"FBID",required:!0},mid:{type:"String",required:!0},sender_id:{type:"FBID",required:!0},suggestion_type:{type:"String"}})}),null);
__d("PagesManagerOmniMActions",["ActorURI","AsyncRequest","MercuryMessageActions","MercuryMessageObject","MercuryTriodeSourceUtil","PagesEventObserver","PagesManagerMessagingMessagelistDispatcher","PagesManagerOmniMActionTypes","PagesManagerOmniMStore","PagesManagerOmniMSuggestionQueryWebGraphQLQuery","WebGraphQL","XMessengerAdConfirmConversionSuggestionController","XMessengerAdDismissConversionSuggestionController"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("PagesManagerOmniMActionTypes")).PAGES_MANAGER_OMNI_M_INIT,h=a.PAGES_MANAGER_OMNI_M_SET_CONVERSION_DATA,i=a.PAGES_MANAGER_OMNI_M_SET_ELIGIBILITY,j=a.PAGES_MANAGER_OMNI_M_SET_PARTNER_APP_LOGO,k=a.PAGES_MANAGER_OMNI_M_SET_QUICK_SCHEDULE_START_TIME,l=a.PAGES_MANAGER_OMNI_M_SET_SHOULD_SHOW_BUSINESS_STICKER_EYEBROW_TEXT,m=a.PAGES_MANAGER_OMNI_M_SET_SHOW_SUGGESTION_BAR,n=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTION_SPACER_HEIGHT,o=a.PAGES_MANAGER_OMNI_M_SET_SUGGESTIONS,p=a.PAGES_MANAGER_OMNI_M_TRIGGER_SAVED_REPLIES_UPSELL,q={init:function(a,c){b("PagesManagerOmniMStore").getIsDifferentThread(a,c)&&(q._clearAllData(),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:g,payload:{threadFBID:a,pageID:c}}));return b("WebGraphQL").exec(new(b("PagesManagerOmniMSuggestionQueryWebGraphQLQuery"))({page_id:c})).then(function(a){a=((a=a)!=null?(a=a.page)!=null?a.services_vertical_info:a:a)||{};a=a.isEligibleForAdminMSuggestionWWW;b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:i,payload:{isEligibleForAdminMSuggestion:a||!1}})},function(a){var d;d=(d=a)!=null?(d=d.errors)!=null?(d=d[0])!=null?d.description:d:d:d;a=(a=a)!=null?(a=a.errors)!=null?(a=a[0])!=null?a.message:a:a:a;b("PagesEventObserver").notify("booking_admin_intent_suggestion_bar_init_error",c,{description:d,message:a})})},dismissSuggestionBar:function(){q._clearAllData(),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:m,payload:{showSuggestionBar:!1}})},setShouldShowBusinessStickerEyebrowText:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:l,payload:{shouldShowEyebrowTextForBusinessSticker:a}})},showSuggestionBar:function(a,c,d,e){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:m,payload:{showSuggestionBar:!0}}),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:o,payload:{suggestions:a,messageID:d,senderID:e}}),c&&b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:j,payload:{partnerAppLogo:c}})},setQuickScheduleStartTime:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:k,payload:{startTime:a}})},setMessengerConversionData:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:h,payload:{conversionData:a}})},setSuggestionSpacerHeight:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:n,payload:{height:a}})},triggerSavedRepliesUpsell:function(a){b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:p,payload:{upsellSpecificData:a}})},messengerConversionQPConfirmOrder:function(a,c){c=b("XMessengerAdConfirmConversionSuggestionController").getURIBuilder().setFBID("page_id",a).setFBID("consumer_user_id",c).setEnum("conversion_type","CONFIRM_ORDER").getURI();c=b("ActorURI").create(c,a);new(b("AsyncRequest"))().setURI(c).send()},clearMessengerConversionSuggestion:function(a,c,d,e,f,g){if(e===null||f===null)return;a=b("XMessengerAdDismissConversionSuggestionController").getURIBuilder().setFBID("page_id",a).setFBID("consumer_user_id",c).setString("suggestion_type",d).setString("mid",e).setFBID("sender_id",f).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){g&&g()}).send()},_clearAllData:function(){q.setQuickScheduleStartTime(null),b("PagesManagerMessagingMessagelistDispatcher").dispatch({type:o,payload:{suggestions:null}})},sendMessageWithSuggestedReply:function(a,c,d,e,f){var g=new(b("MercuryMessageObject"))(c);a=a==="suggested_reply_business_sticker"?g.constructStickerMessageObject(d,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),e):g.constructCTAConfirmationMessageObject(d,b("MercuryTriodeSourceUtil").getMercuryTriodeSource(),e);new(b("MercuryMessageActions"))(c).send(a,f)}};e.exports=q}),null);
__d("ServicesAdminMOptions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_REMINDER:"add_reminder",CREATE_APPOINTMENT_DIRECT:"create_appointment_direct",CREATE_APPOINTMENT_DIFFERENT_TIME:"create_appointment_different_time",SCHEDULE_APPOINTMENT:"schedule_appointment",SEND_AVAILABILITY:"send_availability",TIMESTAMP_OPTIONS:"timestamp_options",MESSENGER_DETECTED_CONVERSION:"messenger_detected_conversion",SUGGESTED_REPLY_LOCATION:"suggested_reply_location",SUGGESTED_REPLY_YES_NO_SHORT_ANSWER:"suggested_reply_yes_no_short_answer",SUGGESTED_REPLY_YES_NO_SHORT_ANSWER_YES:"suggested_reply_yes_no_short_answer_yes",SUGGESTED_REPLY_YES_NO_SHORT_ANSWER_NO:"suggested_reply_yes_no_short_answer_no",SUGGESTED_REPLY_USER_FAQ:"suggested_reply_user_faq",SUGGESTED_REPLY_USER_FAQ_SAVED_REPLY:"suggested_reply_user_faq_saved_reply",SUGGESTED_REPLY_BUSINESS_STICKER:"suggested_reply_business_sticker"})}),null);
__d("PagesManagerOmniMUtils",["fbt","ServicesAdminMOptions","ServicesDateTimeUtils","formatDate"],(function(a,b,c,d,e,f,g){"use strict";var h={isValidOmniMSuggestionType:function(a){return!a||!Object.values(b("ServicesAdminMOptions")).includes(a)?!1:a==="create_appointment_direct"||a==="create_appointment_different_time"||a==="send_availability"||a==="schedule_appointment"||a==="suggested_reply_location"||a==="suggested_reply_yes_no_short_answer_yes"||a==="suggested_reply_yes_no_short_answer_no"||a==="suggested_reply_user_faq"||a==="suggested_reply_user_faq_saved_reply"||a==="messenger_detected_conversion"||a==="suggested_reply_business_sticker"},isMessengerQuickBannerType:function(a){return Object.keys(a).length===1&&Object.prototype.hasOwnProperty.call(a,"messenger_detected_conversion")},filterValidOmniMSuggestions:function(a){return Object.keys(a).filter(function(a){return h.isValidOmniMSuggestionType(a)}).reduce(function(b,c){b[c]=a[c];return b},{})},getFallbackSuggestions:function(){var a={};a.schedule_appointment=g._("Schedule appointment");return a},replaceCreateAppointmentDirectText:function(a,c){if(!Object.prototype.hasOwnProperty.call(a,"create_appointment_direct"))return a;c=b("ServicesDateTimeUtils").getRelativeDayTimeText(c);var d=c.relativeDayText;c=c.startTimeText;d=g._("Schedule: {relative-day} at {start-time}",[g._param("relative-day",d),g._param("start-time",c)]);a.create_appointment_direct=d.toString();return a},replaceCreateAppointmentDirectTextForInlineMessage:function(a,c){if(!Object.prototype.hasOwnProperty.call(a,"create_appointment_direct"))return a;var d={withinWeek:"l",thisYear:"F d",future:"F d, Y"},e=b("ServicesDateTimeUtils").getRelativeDayText(c,b("ServicesDateTimeUtils").getDefaultTimezoneID(),!1);d=b("formatDate")(c,d);c=b("formatDate")(c,"g:i A");d=e==null?g._("on {date} at {start-time}",[g._param("date",d),g._param("start-time",c)]):g._("{relative-day} at {start-time}",[g._param("relative-day",e),g._param("start-time",c)]);a.create_appointment_direct=d.toString();return a}};e.exports=h}),null);
__d("XMessengerAdShouldShowEyebrowTextForBusinessStickerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/should_show_eyebrow_text_for_business_sticker/",{})}),null);
__d("MediaManagerInboxCustomTabUtils",["MediaManagerInboxPriorityTabStore","MediaManagerUtils","PageCommItemFolder"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerUtils").isMediaManagerApp;a=function(a){return(a==="MEDIA_MANAGER_PRIORITY"||a==="MEDIA_MANAGER_FB_COMMS")&&g()};c=function(a){var b=a.row_type;switch(b){case"TOP_MESSAGES":return a.top_message_content.top_message_thread_id;case"TOP_COMMENTS":return a.top_comment_content.id;default:return""}};d=function(a){var b=a==null?void 0:a.row_type;switch(b){case"TOP_MESSAGES":return a==null?void 0:(b=a.top_message_content)==null?void 0:b.top_message_thread_id;case"TOP_COMMENTS":return a==null?void 0:(b=a.top_comment_content)==null?void 0:(b=b.parent_item)==null?void 0:b.id;case"TOP_FB_COMMS":return a==null?void 0:(b=a.content)==null?void 0:b.id;default:return null}};f=function(a){a=a==null?void 0:a.row_type;return a};var h=function(){return b("MediaManagerInboxPriorityTabStore").getOnViewingPriorityRowType()==="TOP_MESSAGES"},i=function(a){switch(a){case b("PageCommItemFolder").MEDIA_MANAGER_ALL_TOP_PRIORITY:return"ALL";case b("PageCommItemFolder").MEDIA_MANAGER_TOP_COMMENT:return"TOP_COMMENTS";case b("PageCommItemFolder").MEDIA_MANAGER_TOP_MESSAGE:return"TOP_MESSAGES";default:return"ALL"}};e.exports={shouldRenderMessengerPreviewHeader:h,shouldShowMediaManagerCustomTab:a,getPriorityTabGraphQLFilter:i,getPriorityRowKey:c,getPriorityTabItemID:d,getPriorityTabItemRowType:f}}),null);
__d("PagesManagerInboxQueryUtilCommItemRenderTypes",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({CONTEXT:"CONTEXT",INFO:"INFO",HEADER:"HEADER"})}),null);
__d("PagesManagerInboxQueryUtil",["invariant","FBIDCheck","MediaManagerInboxCustomTabUtils","MediaManagerInboxFocusCommentStore","MercuryIDs","PagesManagerInboxFacebookPostStore","PagesManagerInboxFilterStore","PagesManagerInboxMercuryUtil","PagesManagerInboxQueryRenderer.react","PagesManagerInboxQueryUtilCommItemRenderTypes","PagesManagerMessagingMessagelistStore","React","RelayModern","nullthrows","PagesManagerInboxQueryUtilMessengerQuery.graphql","PagesManagerInboxQueryUtilCommItemContextMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemInfoMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemHeaderMercuryQuery.graphql","PagesManagerInboxQueryUtilCommItemQuery.graphql","PagesManagerInboxQueryUtilInstagramQuery.graphql","PagesManagerInboxQueryUtilFacebookQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p=b("React");b("RelayModern").graphql;a={renderWithMessengerThreadQuery:function(a,c,d){return p.jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},query:h!==void 0?h:h=b("PagesManagerInboxQueryUtilMessengerQuery.graphql"),render:d,variables:{threadToken:[c,a].join("_")}})},renderWithCommItemQuery:function(a,c,d,e){var f=b("PagesManagerInboxFilterStore").getIsSearchActive(),h=!1;if(f)if(b("FBIDCheck").isUser_deprecated(a))h=!0;else{var m=b("MercuryIDs").getThreadIDFromThreadFBID(b("nullthrows")(a));m=b("PagesManagerMessagingMessagelistStore").getMessagelist(c,m);m.length>0&&(h=!0)}if((b("PagesManagerInboxMercuryUtil").shouldUseMercury()||b("MediaManagerInboxCustomTabUtils").shouldRenderMessengerPreviewHeader())&&(!f||h)){m="";switch(e){case b("PagesManagerInboxQueryUtilCommItemRenderTypes").CONTEXT:m=i!==void 0?i:i=b("PagesManagerInboxQueryUtilCommItemContextMercuryQuery.graphql");break;case b("PagesManagerInboxQueryUtilCommItemRenderTypes").INFO:m=j!==void 0?j:j=b("PagesManagerInboxQueryUtilCommItemInfoMercuryQuery.graphql");break;case b("PagesManagerInboxQueryUtilCommItemRenderTypes").HEADER:m=k!==void 0?k:k=b("PagesManagerInboxQueryUtilCommItemHeaderMercuryQuery.graphql");break}return p.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:m,render:function(a){var b,c=a.error;a=a.props;b=(b=a)!=null?(b=b.page)!=null?b.page_comm_item_for_message_thread:b:b;if(a&&!c)return d({error:c,props:a},b);!c&&!a||g(0,4573);return d({error:c,props:a},null)},variables:{messageThreadID:a,pageID:c}})}return p.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:l!==void 0?l:l=b("PagesManagerInboxQueryUtilCommItemQuery.graphql"),render:function(a){var b=a.error;a=a.props;if(a&&!b)return d({error:b,props:a},a.commItem);!b&&!a||g(0,4573);return d({error:b,props:a},null)},variables:{commItemID:a}})},renderWithPlatformPostThreadQuery:function(a,c,d,e,f,h){switch(d){case"INSTAGRAM":return p.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:m!==void 0?m:m=b("PagesManagerInboxQueryUtilInstagramQuery.graphql"),render:h,variables:{commItemID:a,igPostID:c}});case"FACEBOOK":d=a?b("MediaManagerInboxFocusCommentStore").get(a):null;b("PagesManagerInboxFacebookPostStore").get(a,e,d,!0);return p.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:n!==void 0?n:n=b("PagesManagerInboxQueryUtilFacebookQuery.graphql"),render:h,variables:{commItemID:a,targetID:f}});case"MESSENGER":case"WEC":case"INSTAGRAM_DIRECT":return p.jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},query:o!==void 0?o:o=b("PagesManagerInboxQueryUtilMessengerQuery.graphql"),render:h,variables:{threadToken:[e,c].join("_")}});default:g(0,13808,a)}}};e.exports=a}),null);
__d("PagesMessageThreadImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("pages_message_thread_impression");e.exports=a}),null);
__d("PagesManagerInboxDetailRoot.react",["PagesEventObserver","PagesManagerInboxDetailLoading.react","PagesManagerInboxFacebookPostContainer.react","PagesManagerInboxInstagramPostContainer.react","PagesManagerInboxLogger","PagesManagerInboxMessageBasicContainer.react","PagesManagerInboxQueryUtil","PagesMessageThreadImpressionFalcoEvent","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderQueryResults=function(a){var c=a.error;a=a.props;d.props.mailboxID&&(b("PagesEventObserver").notify("messages_view_thread",d.props.mailboxID,{mailboxID:d.props.mailboxID,section:d.props.commPlatform,target_id:d.props.targetID}),b("PagesMessageThreadImpressionFalcoEvent").log(function(){return{event_location:"page__inbox",page_id:d.props.mailboxID,referrer:null,event_data:{mailbox_id:d.props.mailboxID,thread_id:d.props.commItemID,section:d.props.commPlatform}}}));switch(d.props.commPlatform){case"INSTAGRAM":d.$1(a,c);if(a&&!c)return g.jsx(b("PagesManagerInboxInstagramPostContainer.react"),babelHelpers["extends"]({},d.props,a));break;case"FACEBOOK":d.$1(a,c);if(a&&!c){var e=Date.now();return g.jsx(b("PagesManagerInboxFacebookPostContainer.react"),babelHelpers["extends"]({height:d.props.height,loadStartTime:e,paddingBottom:d.props.paddingBottom,pageID:d.props.mailboxID},a))}break;case"MESSENGER":case"WEC":d.$1(a,c);if(a&&!c)return g.jsx(b("PagesManagerInboxMessageBasicContainer.react"),babelHelpers["extends"]({commSourceID:d.props.commSourceID,height:d.props.height,paddingBottom:d.props.paddingBottom,pageID:d.props.mailboxID},a));break}return g.jsx(b("PagesManagerInboxDetailLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){a&&!c?b("PagesManagerInboxLogger").itemDetailsLoaded(this.props.commItemID,this.props.commPlatform):!a&&!c&&b("PagesManagerInboxLogger").startLoadingItemDetails(this.props.commItemID,this.props.commPlatform)};d.render=function(){var a=this.props,c=a.commPlatform,d=a.commItemID,e=a.commSourceID,f=a.mailboxID;a=a.targetID;return b("PagesManagerInboxQueryUtil").renderWithPlatformPostThreadQuery(d,e,c,f,a,this.onRenderQueryResults)};return c}(g.Component);e.exports=a}),null);
__d("PagesManagerInboxCommItemBasicInfoContainer.react",["ErrorBoundary.react","PagesManagerInboxDetailRoot.react","PagesManagerInboxLogger","React","RelayModern","nullthrows","PagesManagerInboxCommItemBasicInfoContainer_commItem.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;return h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsx(b("PagesManagerInboxDetailRoot.react"),{commItemID:(a=b("nullthrows"))(this.props.commItem.id),commPlatform:a(this.props.commItem.comm_platform),commSourceID:a(this.props.commItem.comm_source_id),height:this.props.height,mailboxID:this.props.mailboxID,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,targetID:a(this.props.commItem.target_id)})})};return c}(h.PureComponent);e.exports=a(c,{commItem:g!==void 0?g:g=b("PagesManagerInboxCommItemBasicInfoContainer_commItem.graphql")})}),null);
__d("PagesManagerInboxCommItemBasicInfoRoot.react",["ErrorBoundary.react","MediaManagerInboxContext.react","PagesManagerInboxCommItemBasicInfoContainer.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxLogger","PagesManagerInboxQueryUtil","PagesManagerInboxQueryUtilCommItemRenderTypes","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var g=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderDetailView=function(a,c){var e=a.error;a=a.props;d.$1(a,e);return a&&!e&&c?g.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:g.jsx(b("PagesManagerInboxCommItemBasicInfoContainer.react"),babelHelpers["extends"]({commItem:c,height:d.props.height,mailboxID:d.props.mailboxID,paddingBottom:d.props.paddingBottom},a))}):g.jsx(b("PagesManagerInboxDetailLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){if(!this.props.listItemKey)return;a&&!c?b("PagesManagerInboxLogger").itemInitialDataLoaded(this.props.listItemKey):!a&&!c&&(this.context&&this.context.logRowPreviewImpression!==b("emptyFunction")&&this.context.logRowPreviewImpression(this.props.listItemKey,this.props.commPlatform,this.props.mediaManagerInboxRowIndex,this.props.commItemFolder),b("PagesManagerInboxLogger").startLoadingItem(this.props.listItemKey))};d.render=function(){return!this.props.listItemKey?this.props.isListLoading?g.jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height}):null:b("PagesManagerInboxQueryUtil").renderWithCommItemQuery(this.props.listItemKey,this.props.mailboxID,this.onRenderDetailView,b("PagesManagerInboxQueryUtilCommItemRenderTypes").INFO)};return c}(g.PureComponent);c.contextType=a;e.exports=c}),null);
__d("PagesManagerInboxMessengerRoot.react",["ErrorBoundary.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxLogger","PagesManagerInboxMessageBasicContainer.react","PagesManagerInboxQueryUtil","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderDetailView=function(a){var c=a.error;a=a.props;d.$1(a,c);return a&&!c?g.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:g.jsx(b("PagesManagerInboxMessageBasicContainer.react"),babelHelpers["extends"]({commSourceID:d.props.listItemKey,height:d.props.height,mailboxID:d.props.mailboxID,paddingBottom:d.props.paddingBottom},a))}):g.jsx(b("PagesManagerInboxDetailLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){if(!this.props.listItemKey)return;a&&!c?b("PagesManagerInboxLogger").itemInitialDataLoaded(this.props.listItemKey):!a&&!c&&b("PagesManagerInboxLogger").startLoadingItem(this.props.listItemKey)};d.render=function(){return!this.props.listItemKey?this.props.isListLoading?g.jsx(b("PagesManagerInboxDetailLoading.react"),{height:this.props.height}):null:b("PagesManagerInboxQueryUtil").renderWithMessengerThreadQuery(this.props.listItemKey,this.props.mailboxID,this.onRenderDetailView)};return c}(g.PureComponent);e.exports=a}),null);
__d("PageManagerInboxMessageContextRelayResults.react",["FluxContainer","PagesManagerInboxDetailLoading.react","PagesManagerInboxMessengerContainer.react","PagesManagerInboxQueryRenderer.react","PagesManagerMessagingMessagelistStore","React","RelayModern","nullthrows","PageManagerInboxMessageContextRelayResultsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerMessagingMessagelistStore")]};c.calculateState=function(a){return{contentSearchSelectedIndex:b("PagesManagerMessagingMessagelistStore").getContentSearchSelectedIndex()}};var d=c.prototype;d.render=function(){var a=this,c;c=b("nullthrows")((c=this.props.inThreadSearchResults)!=null?(c=c.messenger_messages_search)!=null?(c=c.results)!=null?(c=c.edges)!=null?(c=c[this.state.contentSearchSelectedIndex])!=null?(c=c.node)!=null?c.message_id:c:c:c:c:c:c);return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxMessageContextRelayResultsQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?h.jsx(b("PagesManagerInboxMessengerContainer.react"),{activeCommPlatform:a.props.activeCommPlatform,config:a.props.config,height:a.props.height,inThreadSearchResults:a.props.inThreadSearchResults,messageContextResults:c,threadFBID:a.props.threadFBID,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID}):h.jsx(b("PagesManagerInboxDetailLoading.react"),{height:a.props.height})},variables:{message_identifier:{message_id:c,thread_fbid:this.props.threadFBID}}})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PageManagerInboxInThreadContentSearchRelayResults.react",["PageManagerInboxMessageContextRelayResults.react","PagesManagerInboxDetailLoading.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PageManagerInboxInThreadContentSearchRelayResultsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxInThreadContentSearchRelayResultsQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?h.jsx(b("PageManagerInboxMessageContextRelayResults.react"),{activeCommPlatform:a.props.activeCommPlatform,threadFBID:a.props.commSourceID,config:a.props.config,height:a.props.height,inThreadSearchResults:c,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID,searchTerm:a.props.searchTerm}):h.jsx(b("PagesManagerInboxDetailLoading.react"),{height:a.props.height})},variables:{query_params_int:{query:this.props.searchTerm,thread_fbid:this.props.commSourceID}}})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNewMessengerRoot.react",["ErrorBoundary.react","PagesManagerInboxLogger","PagesManagerInboxNewMessageBasicContainer.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.listItemKey!==null&&this.props.listItemKey!==void 0&&b("PagesManagerInboxLogger").startLoadingItem(this.props.listItemKey)};d.render=function(){return this.props.listItemKey===null||this.props.listItemKey===void 0||this.props.listItemKey===0?null:g.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:g.jsx(b("PagesManagerInboxNewMessageBasicContainer.react"),babelHelpers["extends"]({commSourceID:this.props.listItemKey,height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID},this.props))})};return c}(g.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxRealtimeClock.react",["DateTime","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=6e4;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={currentTime:b("DateTime").now(c.timezoneID)};return d}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=setInterval(function(){return a.setState({currentTime:b("DateTime").now(a.props.timezoneID)})},h)};d.componentWillUnmount=function(){this.$1&&clearInterval(this.$1)};d.render=function(){return g.jsx("span",{children:this.state.currentTime.format("g:i A")})};return c}(g.PureComponent);e.exports=a}),null);
__d("CRMEventsLogger",["CRMEventsTypedLogger"],(function(a,b,c,d,e,f){a={log:function(a,c,d,e,f,g){a=new(b("CRMEventsTypedLogger"))().setPageID(a).setEvent(c).setUIComponent(d).setUISurface(e).setPageContactID(f).setIsServerLog(!1);g!==null&&g!==void 0&&a.updateExtraData(g);a.logVital()}};e.exports=a}),null);
__d("ServicesAppointmentDialogButtonTexts",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Actions");b=g._("Approve");c=g._("Approve with notes");d=g._("Add Appointment");f=g._("Copy Booking Link");var h=g._("Copied"),i=g._("Archive"),j=g._("Archive request"),k=g._("Back"),l=g._("Cancel Appointment"),m=g._("Cancel Appointment Only"),n=g._("Cancel Entire Series"),o=g._("Cancel this and future appointments"),p=g._("Delete Event"),q=g._("Confirm appointment"),r=g._("Confirm changes"),s=g._("Create Appointment"),t=g._("Decline Appointment"),u=g._("Decline"),v=g._("Delete"),w=g._("Done"),x=g._("Edit"),y=g._("Edit appointment"),z=g._("Save"),A=g._("Schedule"),B=g._("Reschedule"),C=g._("Schedule appointment"),D=g._("Skip for now"),E=g._("Delete Personal Event"),F=g._("Delete Personal Event Only"),G=g._("Delete This and Future Personal Events"),H=g._("Update Appointment Only"),I={CALENDAR:{title:g._("Calendar")},CONTACTS:{title:g._("Contacts")},REQUESTS:{title:g._("Requests")},SETTINGS:{title:g._("Appointment settings")}},J={REQUEST:"REQUEST",ARCHIVE:"ARCHIVE"};g={REQUEST:{label:g._("Pending Requests"),key:J.REQUEST},ARCHIVE:{label:g._("Archived Requests"),key:J.ARCHIVE}};e.exports={ACTIONS:a,ADD_APPOINTMENT:d,APPROVE:b,APPROVE_WITH_NOTES:c,ARCHIVE:i,ARCHIVE_REQUEST:j,BACK:k,CANCEL_APPOINTMENT:l,CANCEL_APPOINTMENT_ONLY:m,CANCEL_THIS_AND_FUTURE_APPOINTMENTS:o,CANCEL_ENTIRE_SERIES:n,COPIED_BOOKING_LINK:h,COPY_BOOKING_LINK:f,DELETE_PERSONAL_EVENT:E,DELETE_PERSONAL_EVENT_ONLY:F,DELETE_THIS_AND_FUTURE_PERSONAL_EVENTS:G,DELETE_EVENT:p,CONFIRM_APPOINTMENT:q,CONFIRM_CHANGES:r,CREATE_APPOINTMENT:s,DECLINE_APPOINTMENT:t,DECLINE:u,DELETE:v,DONE:w,EDIT:x,EDIT_APPOINTMENT:y,REQUEST_ARCHIVE_LABEL:g,RESCHEDULE:B,SCHEDULE:A,SCHEDULE_APPOINTMENT:C,SAVE:z,SIDEBAR_TABS:I,SKIP_FOR_NOW:D,UPDATE_APPOINTMENT_ONLY:H}}),null);
__d("ServicesUINoProfileImage.react",["cx","FDSText.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.size;a=a.letter;return h.jsx("div",{className:b("joinClasses")("_6ts_"+(d==="large"?" _6tt0":"")+(d==="small"?" _6tt1":"")+(d==="xsmall"?" _8jmv":"")+(d==="xlarge"?" _6-3z":""),c),children:h.jsx(b("FDSText.react"),{color:"white",size:"header2",children:a})})};return c}(h.Component);a.defaultProps={size:"small"};e.exports=a}),null);
__d("ServicesUIProfileImage.react",["cx","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","size"]);return h.jsx(b("Image.react"),babelHelpers["extends"]({className:b("joinClasses")("_6tsy"+(d==="large"?" _6tsz":"")+(d==="small"?" _6ts-":""),c)},a))};return c}(h.Component);a.defaultProps={size:"small"};e.exports=a}),null);
__d("ServicesMessengerSidebarActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({OPEN_MESSENGER_SIDEBAR:null});e.exports=a}),null);
__d("ServicesMessengerSidebarStore",["FluxReduceStore","ServicesCTAUnificationDispatcher","ServicesMessengerSidebarActionTypes","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("ServicesMessengerSidebarActionTypes").OPEN_MESSENGER_SIDEBAR,h=400,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({isSidebarOpen:!1}));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getInitialState=function(){return new i()};c.reduce=function(a,b){var c=b.payload;switch(b.type){case g:return a.set("isSidebarOpen",c.shouldOpen);default:return a}};c.isSidebarOpen=function(){return this.getState().isSidebarOpen};c.getTransitionDuration=function(){return h};return b}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("ServicesCTAUnificationDispatcher"))}),null);
__d("ServicesMessengerSidebarActions",["PagesManagerAction","PagesManagerInboxFilterAction","PagesManagerInboxMercuryUtil","PagesManagerStore","ServicesCTAUnificationDispatcher","ServicesMessengerSidebarActionTypes","ServicesMessengerSidebarStore","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=b("ServicesMessengerSidebarActionTypes").OPEN_MESSENGER_SIDEBAR;a={openSidebar:function(a,c,d){d===void 0&&(d="MESSENGER");a=b("PagesManagerInboxMercuryUtil").shouldUseMercury()&&d==="MESSENGER"?a:c;if(a==null)return;c=b("PagesManagerStore").getViewingListItem()!==null&&b("PagesManagerStore").getViewingListItem()===a;var e=b("ServicesMessengerSidebarStore").isSidebarOpen();b("PagesManagerInboxFilterAction").changePlatform(d);!e?(this._toggleMessengerSidebar(!0),b("PagesManagerAction").viewListItem(""+a)):e&&!c&&b("PagesManagerAction").viewListItem(""+a)},closeMessengerSidebar:function(){this._toggleMessengerSidebar(!1)},_toggleMessengerSidebar:function(a){a||b("setTimeout")(function(){b("PagesManagerAction").clearViewListItem()},b("ServicesMessengerSidebarStore").getTransitionDuration()),b("ServicesCTAUnificationDispatcher").dispatch({type:g,payload:{shouldOpen:a}})}};e.exports=a}),null);
__d("PageManagerInboxCustomLabelSearchSource",["AbstractSearchSource","PagesManagerInboxCustomLabelSearchableEntry"],(function(a,b,c,d,e,f){"use strict";var g=null;a=function(a){babelHelpers.inheritsLoose(c,a);c.getInstance=function(a){!g?g=new c(a):g.setAvailableLabels(a);return g};function c(b){var c;c=a.call(this)||this;c.setAvailableLabels(b);return c}var d=c.prototype;d.setAvailableLabels=function(a){this.$PageManagerInboxCustomLabelSearchSource1=a};d.searchImpl=function(a,c,d){var e=[];d||({});if(a){var f=a.toLowerCase();this.$PageManagerInboxCustomLabelSearchSource1.forEach(function(a){a.name.toLowerCase().indexOf(f)!==-1&&e.push(a)})}var g=[];e.forEach(function(a){g.push(new(b("PagesManagerInboxCustomLabelSearchableEntry"))(a))});c(g,a)};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("PagesManagerInboxContextCardLabelsTypeaheadRenderer.react",["cx","React","XUICard.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this;return h.jsx("ul",{className:"_ke2",children:this.props.entries.map(function(b){return h.jsx(i,{entry:b,highlighted:b===a.props.highlightedEntry,onSelect:a.props.onSelect},b.getUniqueID())})})};return b}(h.PureComponent);var i=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this,c=this.props.entry;return h.jsxs("li",{className:(this.props.highlighted?"_599n":"")+" _ke3",onMouseDown:function(b){return a.props.onSelect(c,b)},children:[h.jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:c.getColor()}}),h.jsx("span",{style:{flex:1},children:c.getTitle()})]},c.getUniqueID())};return a}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxContextCardLabelsTypeahead.react",["cx","fbt","CustomLabelUtils","PageManagerInboxCustomLabelSearchSource","PagesManagerInboxContextCardLabelsTypeaheadRenderer.react","React","XUITypeahead.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("CustomLabelUtils").TAG_LIMIT,j=b("React"),k=3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={query:"",labelError:null},c.$1=function(a){c.setState({query:"",labelError:null}),c.props.onAddLabel(a.getData())},c.$2=function(){var a=c.state.query;c.setState({query:"",labelError:c.props.pageLabelNum>=i?h._("You've reached the 200-label limit. You can delete labels to add more."):null});c.props.onCreateLabel(a)},c.$3=function(a){c.setState({query:a.target.value,labelError:null})},c.$4=function(a){c.setState({labelError:null})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=h._("Add label...");return j.jsx("div",{className:"_ke1",children:j.jsx(b("XUITypeahead.react"),{autoHighlight:!0,maxEntries:k,maxLength:this.props.maxLength,onBlur:this.$4,onChange:this.$3,onEnterWithoutSelection:this.$2,onSelectAttempt:this.$1,placeholder:a,presenter:l,queryString:this.state.query,searchSource:b("PageManagerInboxCustomLabelSearchSource").getInstance(this.props.labels),tallInput:!0,viewStyle:"rich",xuiError:this.state.labelError})})};return c}(j.PureComponent);a.propTypes={onAddLabel:(c=b("prop-types")).func.isRequired,onCreateLabel:c.func.isRequired,labels:c.array.isRequired,maxLength:c.number,pageLabelNum:c.number};var l={useLayer:!0,ViewRenderer:b("PagesManagerInboxContextCardLabelsTypeaheadRenderer.react")};e.exports=a}),null);
__d("PageUserMessageThreadAutoLabelType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CUSTOMER:"CUSTOMER",POTENTIAL_CUSTOMER:"POTENTIAL_CUSTOMER",POSITIVE_EXPERIENCE:"POSITIVE_EXPERIENCE",NEGATIVE_EXPERIENCE:"NEGATIVE_EXPERIENCE"})}),null);
__d("PagesManagerInboxAutoLabelUtils",["ix","cx","fbt","Image.react","PageUserMessageThreadAutoLabelType","React","asset","cxMargin","keyMirror"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("keyMirror")(b("PageUserMessageThreadAutoLabelType"));a={getAutoLabelIcon:function(a){switch(a){case k.CUSTOMER:return j.jsx(b("Image.react"),{src:g("538340")});case k.POTENTIAL_CUSTOMER:return j.jsx(b("Image.react"),{src:g("481917")});case k.POSITIVE_EXPERIENCE:return j.jsx(b("Image.react"),{src:g("509920")});case k.NEGATIVE_EXPERIENCE:default:return j.jsx("div",{className:"_739o",children:j.jsx(b("Image.react"),{src:g("509920")})})}},getAutoLabelIconInDialogSection:function(a){switch(a){case k.CUSTOMER:return j.jsx(b("Image.react"),{className:"_3-90",src:g("538341")});case k.NEGATIVE_EXPERIENCE:return j.jsx(b("Image.react"),{className:"_3-90 _73mg",src:g("509921")});case k.POSITIVE_EXPERIENCE:return j.jsx(b("Image.react"),{className:"_3-90",src:g("509921")});case k.POTENTIAL_CUSTOMER:return j.jsx(b("Image.react"),{className:"_3-90",src:g("481918")})}return null},getAutoLabelTooltip:function(a){switch(a){case k.CUSTOMER:return i._("The 'Customer' label is applied to conversations with people who may have booked an appointment, made a purchase or payment, or received a receipt.");case k.NEGATIVE_EXPERIENCE:return i._("The 'Negative experience' label is applied to conversations that may contain messages about a negative experience with your business.");case k.POSITIVE_EXPERIENCE:return i._("The 'Positive experience' label is applied to conversations that may contain messages about a positive experience with your business.");case k.POTENTIAL_CUSTOMER:return i._("The 'Potential customer' label is applied to conversations that may contain messages about product or service questions, pricing, availability or delivery.")}return null},createDefaultAutoLabel:function(a){switch(a){case k.CUSTOMER:return{id:"0",color:"",name:i._("Customer").toString(),thread_count:0,auto_label_type:k.CUSTOMER,is_hidden:!0};case k.NEGATIVE_EXPERIENCE:return{id:"1",color:"",name:i._("Negative experience").toString(),thread_count:0,auto_label_type:k.NEGATIVE_EXPERIENCE,is_hidden:!0};case k.POSITIVE_EXPERIENCE:return{id:"2",color:"",name:i._("Positive experience").toString(),thread_count:0,auto_label_type:k.POSITIVE_EXPERIENCE,is_hidden:!0};case k.POTENTIAL_CUSTOMER:return{id:"3",color:"",name:i._("Potential customer").toString(),thread_count:0,auto_label_type:k.POTENTIAL_CUSTOMER,is_hidden:!0}}return null}};e.exports=a}),null);
__d("PagesManagerInboxLabel.react",["ix","cx","BIZInboxClientLogger","BusinessInboxBizKitUtil","ClickableArea.react","FDSBaseCheckboxInput.react","FlexLayout.react","Image.react","PagesManagerInboxAutoLabelUtils","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerInboxFilterAction","PagesMessagingInboxActionLogger","PageUserMessageThreadAutoLabelType","React","Tooltip","XUICard.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("BusinessInboxBizKitUtil").maybeApplyGeoGreyTextStyle,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isHover:!1,isSelected:!1},d.$1=function(){d.setState({isHover:!0})},d.$2=function(){d.setState({isHover:!1})},d.$3=function(){d.setState({isSelected:!0},function(){return d.state.isSelected}),d.props.onCreateAndAdd&&d.props.createName!==null&&d.props.createName!==void 0&&d.props.onCreateAndAdd(d.props.createName,d.props.color),b("BIZInboxClientLogger").logSuggestedLabelClick(d.props.pageID,d.props.platform,d.props.color,d.props.name,d.props.type)},d.$4=function(a){a.stopPropagation();a={id:d.props.id,name:d.props.name,color:d.props.color};d.props.isToken&&(a=new(b("PagesManagerInboxCustomLabelSearchableEntry"))(a));d.props.onRemove&&d.props.onRemove(a)},d.$5=function(){var a=d.props.pageID;if(!a||!d.props.searchOnClick)return;b("PagesManagerInboxFilterAction").changeSearchType("LABEL");b("PagesManagerInboxFilterAction").toggleSearch(!0);b("PagesManagerInboxFilterAction").addCustomLabel({name:d.props.name,id:d.props.id,color:d.props.color},a);b("PagesMessagingInboxActionLogger").logSearchResultClicked("contextcard_label_search_clicked",d.props.platform,d.props.name,"LABEL")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("BIZInboxClientLogger").logSuggestedLabelImpression(this.props.pageID,this.props.platform,this.props.color,this.props.name,this.props.type)};d.render=function(){var a,c;this.state.isHover&&this.props.onRemove?a=j.jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:"transparent",border:"none"},children:j.jsx(b("Image.react"),{onClick:this.$4,src:g("363583")})}):this.props.autoLabelType!=null?a=j.jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:"transparent",border:"none"},children:b("PagesManagerInboxAutoLabelUtils").getAutoLabelIcon(this.props.autoLabelType)}):a=j.jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:"#"+this.props.color.substring(2),border:"none"}});this.props.showCheckbox!=null&&(c=j.jsx("span",{className:"_8q94",children:j.jsx(b("FDSBaseCheckboxInput.react"),{onChange:this.$3,value:this.state.isSelected})}));var d=this.props.className?this.props.className:"_64u3";d=this.props.onRemove?j.jsxs("div",babelHelpers["extends"]({className:d,onClick:this.$5,onMouseEnter:this.$1,onMouseLeave:this.$2,role:"button",tabIndex:"0"},b("Tooltip").propsFor(this.props.toolTipString),{children:[a,i(this.props.name)]})):j.jsxs(b("FlexLayout.react"),{align:"center",children:[c,j.jsx(b("ClickableArea.react"),{onClick:this.$5,children:j.jsxs("div",babelHelpers["extends"]({className:d},b("Tooltip").propsFor(this.props.toolTipString),{children:[a,i(this.props.name)]}))})]});return d};return c}(j.PureComponent);e.exports=a}),null);
__d("BusinessPresenceCustomLabelColor",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GREY:"FF90949C",PURPLE:"FF8A73C9",RED:"FFF65569",BLUE:"FF5291FF",ORANGE:"FFFB9240",GREEN:"FF72A737"})}),null);
__d("PagesManagerInboxLabelsColorSelector.react",["ix","cx","fbt","BusinessPresenceCustomLabelColor","Image.react","React","XUICard.react","XUIContextualDialog.react","XUIContextualDialogBody.react","asset","objectValues","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k={FF90949C:i._("Grey"),FF8A73C9:i._("Purple"),FFF65569:i._("Red"),FF5291FF:i._("Blue"),FFFB9240:i._("Orange"),FF72A737:i._("Green")},l="FF5291FF";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isSelectorShown:!1,hoverColorLabel:k[l],selectedColor:c.$1(c.props.defaultColor)},c.$2=null,c.$3=function(a){c.setState({isSelectorShown:a})},c.$7=function(){c.setState({hoverColorLabel:k[l]})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(a){return a==="FF000000"?"FF90949C":a};d.$4=function(a){this.props.onSelectColor(a),this.setState({isSelectorShown:!1,selectedColor:a})};d.$5=function(a){a=this.$1(a);return"#"+a.substring(2)};d.$6=function(a){this.setState({hoverColorLabel:a})};d.render=function(){var a=this,c=j.jsxs(b("XUICard.react"),{background:"transparent",className:"_20-d",onClick:function(){return a.$3(!a.state.isSelectorShown)},ref:function(b){a.$2=b},children:[j.jsx(b("XUICard.react"),{className:"_64u4",style:{backgroundColor:this.$5(this.state.selectedColor)}}),j.jsx(b("Image.react"),{className:this.props.showCaret?"_37_p":"_37_b",src:this.state.isSelectorShown?g("387838"):g("382796")})]});return j.jsxs("span",{className:"_37v6",children:[c,j.jsx(b("XUIContextualDialog.react"),{contextRef:function(){return a.$2},hideOnBlur:!0,label:i._("Select colour"),onToggle:this.$3,position:"below",shown:this.state.isSelectorShown,children:j.jsxs("div",{className:"_64u5",children:[j.jsx(b("XUIContextualDialogBody.react"),{children:b("objectValues")(b("BusinessPresenceCustomLabelColor")).map(function(c){return j.jsx(b("XUICard.react"),{className:"_64u6",onClick:function(){return a.$4(c)},onMouseEnter:function(){return a.$6(k[c])},onMouseLeave:a.$7,style:{backgroundColor:a.$5(c)}},c)})}),j.jsx("span",{className:"_64u7",children:this.state.hoverColorLabel})]})},"contextualDialog")]})};return c}(j.PureComponent);a.propTypes={onSelectColor:b("prop-types").func.isRequired,showCaret:b("prop-types").bool.isRequired,defaultColor:b("prop-types").string.isRequired};e.exports=a}),null);
__d("PagesManagerInboxLabelsDialogLabelRecord.react",["ix","cx","fbt","Image.react","PagesManagerInboxLabelsColorSelector.react","React","Tooltip.react","XUICardSection.react","asset","curry","cxMargin","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isHover:!1,isHoverEyeIcon:!1,isHoverDeleteIcon:!1},c.$1=function(){c.setState({isHoverEyeIcon:!0})},c.$2=function(){c.setState({isHoverEyeIcon:!1})},c.$3=function(){c.setState({isHoverDeleteIcon:!0})},c.$4=function(){c.setState({isHoverDeleteIcon:!1})},c.$5=function(a){var b={};Object.assign(b,c.props.label);b.color=a;c.props.onUpdate(b)},c.$6=function(){c.setState({isHover:!0})},c.$7=function(){c.setState({isHover:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.label,c=this.props.onDelete;return j.jsx(b("XUICardSection.react"),{children:j.jsxs("div",{className:"_1wea","data-testid":void 0,onMouseEnter:this.$6,onMouseLeave:this.$7,children:[j.jsx(b("PagesManagerInboxLabelsColorSelector.react"),{defaultColor:a.color,onSelectColor:this.$5,showCaret:this.state.isHover}),j.jsx("span",{style:{flex:1},children:j.jsx("span",{className:"_1wf9",children:this.props.label.name})}),a.thread_count!=null?j.jsx("span",{className:"_2scb",children:a.thread_count}):null,this.props.onClickSearch?j.jsx(b("Tooltip.react"),{tooltip:i._("See conversations"),children:j.jsx(b("Image.react"),{className:"_73md",onClick:b("curry")(this.props.onClickSearch,a),onMouseEnter:this.$1,onMouseLeave:this.$2,src:this.state.isHoverEyeIcon?g("492046"):g("544369")})}):null,j.jsx(b("Tooltip.react"),{className:"_3-91","data-testid":void 0,tooltip:i._("Delete label"),children:j.jsx(b("Image.react"),{className:"_73md",onClick:b("curry")(c,a),onMouseEnter:this.$3,onMouseLeave:this.$4,src:this.state.isHoverDeleteIcon?g("367582"):g("396630")})})]})})};return c}(j.PureComponent);a.propTypes={onDelete:(c=b("prop-types")).func.isRequired,onUpdate:c.func.isRequired,label:c.object,hasErrorState:c.func,maxLength:c.number};e.exports=a}),null);
__d("PagesManagerInboxLabelsDialogNewLabelForm.react",["cx","fbt","PagesManagerInboxLabelsColorSelector.react","React","SUIBorderUtils","SUIBusinessTheme","SUIButton.react","SUITextInput.react","XUICard.react","XUICardSection.react","prop-types"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="",k="FF5291FF";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={inputValue:j,isNameValid:!1,selectedColor:k},c.$1=function(){c.props.onAddLabel(c.state.inputValue,c.state.selectedColor),c.setState({inputValue:j,isNameValid:!1,selectedColor:k})},c.$3=function(a){c.setState({inputValue:a,isNameValid:!0})},c.$4=function(a){c.setState({selectedColor:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$2=function(){var a=this.props.hasErrorState(this.state.inputValue);a!==null&&a!==void 0&&a!==""&&this.setState({isNameValid:!1});return a};d.render=function(){return i.jsx(b("XUICard.react"),{children:i.jsx(b("XUICardSection.react"),{children:i.jsxs("div",{className:"_466b","data-testid":void 0,children:[i.jsx(b("PagesManagerInboxLabelsColorSelector.react"),{defaultColor:k,onSelectColor:this.$4,showCaret:!0}),i.jsx("span",{style:{flex:1},children:i.jsx(b("SUITextInput.react"),{borderedSides:this.state.isFocused?b("SUIBorderUtils").ALL_SIDES:[],className:"_466c","data-testid":void 0,errorMessage:this.$2(),isMaxLengthHidden:!0,maxLength:this.props.maxLength,onChange:this.$3,placeholder:h._("Name a label..."),styles:{label:{border:"none",height:26,background:"none"}},theme:b("SUIBusinessTheme"),value:this.state.inputValue})}),i.jsx(b("SUIButton.react"),{"data-testid":void 0,disabled:this.state.inputValue===j||!this.state.isNameValid,label:h._("Add Label"),onClick:this.$1,theme:b("SUIBusinessTheme"),use:"confirm"})]})})})};return c}(i.PureComponent);a.propTypes={onAddLabel:b("prop-types").func.isRequired,hasErrorState:b("prop-types").func,maxLength:b("prop-types").number};e.exports=a}),null);
__d("PagesManagerInboxLabelsDialog.react",["cx","fbt","CustomLabelUtils","FluxContainer","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxLabelsDialogLabelRecord.react","PagesManagerInboxLabelsDialogNewLabelForm.react","React","ScrollableArea.react","XUICard.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("CustomLabelUtils").TAG_LIMIT,j=b("React"),k=350,l=500,m=276,n=5;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.$2(!0,a)},d.$3=function(){var a=b("nullthrows")(d.state.deleteConfirmationDialogProps.label);d.props.onRemoveLabelFromThread(a);d.props.onDeleteLabel&&d.props.onDeleteLabel(a.id,a.name);d.$2(!1)},d.$5=function(a,b){d.props.onCreateLabel&&d.props.onCreateLabel(a,b)},d.$6=function(a){var c=d.state.activeSearchLabels.map(function(a){return a.getTitle()});c.indexOf(a.name)!==-1&&(b("PagesManagerInboxFilterAction").removeCustomLabel(a,d.props.pageID),b("PagesManagerInboxFilterAction").addCustomLabel(a,d.props.pageID));d.props.onUpdateLabel&&d.props.onUpdateLabel(a)},d.$7=function(a){if(d.props.labels.has(a))return h._("Label name must be unique.");if(a.indexOf(":")!==-1)return h._("Label name can not contain \":\".");return d.props.labels.size>=i?h._("You've reached the 200-label limit. You can delete labels to add more."):null},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore")]};c.calculateState=function(){return{activeSearchLabels:b("PagesManagerInboxFilterStore").getCurrentSearchCustomLabels(),deleteConfirmationDialogProps:{show:!1,label:null}}};var d=c.prototype;d.$2=function(a,c){this.setState({deleteConfirmationDialogProps:{show:a,label:a?b("nullthrows")(c):null}})};d.$4=function(){var a=this;return j.jsxs(b("XUIDialog.react"),{"data-testid":void 0,layerHideOnBlur:!1,onToggle:function(b){return!b&&a.$2(b)},shown:this.state.deleteConfirmationDialogProps.show,width:k,children:[j.jsx(b("XUIDialogTitle.react"),{showCloseButton:!1,children:h._("Delete label from Page?")}),j.jsx(b("XUIDialogBody.react"),{children:h._("Deleted labels are removed and will no longer be used to describe or organise anyone on your Page.")}),j.jsxs(b("XUIDialogFooter.react"),{children:[j.jsx(b("XUIDialogCancelButton.react"),{}),j.jsx(b("XUIDialogButton.react"),{action:"confirm","data-testid":void 0,label:h._("Delete Label"),onClick:this.$3,use:"confirm"})]})]})};d.$8=function(){return j.jsx(b("PagesManagerInboxLabelsDialogNewLabelForm.react"),{hasErrorState:this.$7,maxLength:this.props.maxLength,onAddLabel:this.$5})};d.$9=function(){var a=this;if(this.props.labels.size===0)return null;var c=j.jsx(b("XUICard.react"),{children:this.props.labels.toArray().map(function(c){return j.jsx(b("PagesManagerInboxLabelsDialogLabelRecord.react"),{hasErrorState:a.$7,label:c,maxLength:a.props.maxLength,onDelete:a.$1,onUpdate:a.$6},c.id)})});return this.props.labels.size>n?j.jsx(b("ScrollableArea.react"),{className:"_73kz",maxHeight:m,children:c}):c};d.render=function(){return j.jsxs(b("XUIDialog.react"),{onToggle:this.props.onToggle,shown:this.props.shown,width:l,children:[j.jsx(b("XUIDialogTitle.react"),{children:h._("Manage labels")}),j.jsxs(b("XUIDialogBody.react"),{children:[j.jsx("div",{className:"_3uqr",children:h._("Use labels to help you describe and organise people. Labels can be about anything, such as customer type or previous orders. Only people who manage your Page can see labels.")}),this.$8(),this.$9(),this.$4()]})]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxDeleteNoteMutation",["RelayAPIConfig","RelayFBEnvironment","RelayModern","PagesManagerInboxDeleteNoteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxDeleteNoteMutation.graphql");function a(a,c){return h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,note_id:a.noteID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("XCRMManualContactCreationDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/crm/contact_creation/dialog/",{appointment_id:{type:"FBID"},contact_id:{type:"FBID"},first_name:{type:"String"},from_split_flow:{type:"Bool",defaultValue:!1},last_name:{type:"String"},page_id:{type:"FBID",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("PageCustomLabelsTypeaheadViewItem.react",["cx","React","XUICard.react","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.entry;return h.jsxs("li",{className:"_7znk","data-testid":void 0,onMouseDown:function(b){return a.props.onSelect(c,b)},children:[h.jsx(b("XUICard.react"),{className:"_ke0",style:{backgroundColor:c.getColor()}}),h.jsx("span",{style:{flex:1},children:this.props.renderHighlight(c.getTitle())})]},c.getUniqueID())};return c}(h.PureComponent);a.propTypes={entry:b("prop-types").object,onSelect:b("prop-types").func,renderHighlight:b("prop-types").func};e.exports=a}),null);
__d("PagesManagerInboxSearchTokenRenderer.react",["cx","PagesManagerInboxLabel.react","React","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.entry.getData();return h.jsx(b("PagesManagerInboxLabel.react"),{className:this.props.className?this.props.className:"_22op",color:a.color,id:a.id,isToken:!0,name:a.name,onRemove:this.props.onRemove,searchOnClick:!0},a.name)};return c}(h.PureComponent);a.propTypes={entry:b("prop-types").object,onRemove:b("prop-types").func};e.exports=a}),null);
__d("XCRMContactImportCsvUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/crm/csv_import/",{page_id:{type:"FBID",required:!0}})}),null);
__d("ServicesClientsTabMainView.react",["CRMClientsMainView.react","CustomLabelUtils","PagesManagerCustomLabelsActions","PagesManagerCustomLabelsStore","React","RelayFBEnvironment","RelayModern","immutable","promiseDone","ServicesClientsTabMainViewLabelsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CustomLabelUtils").mergeContactAndCustomerLabels,i=b("PagesManagerCustomLabelsActions").PagesManagerCustomLabelsActions,j=b("React"),k=b("RelayModern").fetchQuery;b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){if(b("PagesManagerCustomLabelsStore").isInitialized())return;b("promiseDone")(k(b("RelayFBEnvironment"),g!==void 0?g:g=b("ServicesClientsTabMainViewLabelsQuery.graphql"),{pageID:this.props.pageID}),function(a){var c;c=((c=a.page.custom_tags)==null?void 0:c.edges)||[];a=((a=a.page.custom_labels)==null?void 0:a.edges)||[];a=h(a,c);c=a.map(function(a){var b,c,d;b=(b=a.node)==null?void 0:b.id;c=(c=a.node)==null?void 0:c.name;a=((d=a.node)==null?void 0:d.label_color)||((d=a.node)==null?void 0:d.color);if(c!=null&&b!=null&&a!=null)return[c,{name:c,id:b,color:a}]});a=b("immutable").Map(c.filter(Boolean)||[]);i.initStore(a)})};d.render=function(){return j.jsx(b("CRMClientsMainView.react"),{contactID:this.props.contactID,pageID:this.props.pageID,height:this.props.height})};return c}(j.PureComponent);e.exports=a}),null);
__d("PageManagerInboxPageToPageHeaderView.react",["cx","CenteredContainer.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","LineClamp.react","PageCommItemStatus","PagesManagerAction","PagesManagerInboxActionContainer.react","PagesManagerInboxBlockMessagesMenu.react","PagesManagerInboxCometDetailHeaderAction.react","PagesManagerInboxCometUtil","PagesManagerInboxDetailHeaderAction.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","React","RelayModern","PageManagerInboxPageToPageHeaderView_page.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainerInner,j=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=116,l=57,m=16;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign();b("PagesManagerAction").setHeaderHeight(a?k:l)};d.render=function(){var a,c=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign();a={comm_platform:"MESSENGER",comm_title:(a=(a=this.props.page)==null?void 0:a.name)!=null?a:"",comm_type:"FB_MESSAGE",id:"",page_customer:{message_thread:{thread_associated_job_applications:{nodes:[]}},is_banned_by_page:!1,name:null,user:{id:this.props.page.id}},thumbnail:{uri:(a=(a=this.props.page)==null?void 0:(a=a.profile_picture)==null?void 0:a.uri)!=null?a:""},comm_status:b("PageCommItemStatus").TODO,target_id:this.props.page.id,$refType:""};return j.jsxs(b("Layout.react"),{className:(c?"_8g7a":"")+(c?"":" _iyn"),children:[j.jsx(b("LayoutColumn.react"),{className:(c?"_8g7b":"")+(c?"":" _iyp"),children:j.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:j.jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:"MESSENGER",commType:"FB_MESSAGE",imageSize:c?b("PagesManagerInboxPicSize").CometDetailViewHeaderPicSize:b("PagesManagerInboxPicSize").DetailViewHeaderPicSize,imageURI:a.thumbnail.uri,showPlatformBadge:!1})})}),j.jsx(b("LayoutFillColumn.react"),{children:c?j.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:j.jsx("div",{className:"_8g7g",children:j.jsx("div",{className:"_8g7e",children:a.comm_title})})}):j.jsx("div",{className:"_72od",children:j.jsx("div",{className:"_iyo",children:j.jsx(b("LineClamp.react"),{lineHeight:m,lines:1,children:a.comm_title})})})}),j.jsx(b("LayoutColumn.react"),{children:j.jsx(i,{ChildActionClass:c?b("PagesManagerInboxCometDetailHeaderAction.react"):b("PagesManagerInboxDetailHeaderAction.react"),item:a,itemPage:this.props.page,leftActions:c?null:j.jsx(b("PagesManagerInboxBlockMessagesMenu.react"),{itemPage:this.props.page,pageID:this.props.mailboxID})})})]})};return c}(j.PureComponent);e.exports=a(c,{page:h!==void 0?h:h=b("PageManagerInboxPageToPageHeaderView_page.graphql")})}),null);
__d("PagesManagerInboxCometHeaderLoading.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("div",{className:"_8g70",children:h.jsxs("div",{className:"_2iwq _8g71",children:[h.jsx("div",{className:"_8g72"}),h.jsx("div",{className:"_8g73"}),h.jsx("div",{className:"_8g74"}),h.jsx("div",{className:"_8g75"}),h.jsx("div",{className:"_8g76"}),h.jsx("div",{className:"_8g77"})]})})};return b}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderLoading.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx("div",{className:"_641d",children:h.jsxs("div",{className:"_2iwq _641e",children:[h.jsx("div",{className:"_641f"}),h.jsx("div",{className:"_641g"}),h.jsx("div",{className:"_641h"}),h.jsx("div",{className:"_641i"}),h.jsx("div",{className:"_641j"}),h.jsx("div",{className:"_641k"})]})})};return b}(h.PureComponent);e.exports=a}),null);
__d("UnifiedInboxAdminAssignerRoot.react",["PagesManagerInboxAdminAssigner.react","PagesManagerInboxAdminAssignerNUXContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","UnifiedInboxAdminAssignerRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("UnifiedInboxAdminAssignerRootQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?[h.jsx(b("PagesManagerInboxAdminAssigner.react"),babelHelpers["extends"]({ref:function(b){a.assigner=b}},c,{adminID:a.props.adminID,adminName:a.props.adminName,isIGDirect:!0,mailboxID:a.props.mailboxID,shouldShowNewMultiAdminAssignment:a.props.shouldShowNewMultiAdminAssignment,threadID:a.props.threadID}),"PagesManagerInboxAdminAssignerRoot.assigner"),h.jsx(b("PagesManagerInboxAdminAssignerNUXContainer.react"),{contextRef:function(){return a.assigner}},"PagesManagerInboxAdminAssignerRoot.NUX")]:null},variables:{mailboxID:this.props.mailboxID}})};return c}(h.PureComponent);e.exports=a}),null);
__d("PageCommPlatform",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FACEBOOK:"FACEBOOK",MESSENGER:"MESSENGER",INSTAGRAM:"INSTAGRAM",INSTAGRAM_DIRECT:"INSTAGRAM_DIRECT",WEC:"WEC",ALL:"ALL",GROUP:"GROUP",MEDIA_MANAGER_FB_COMMS:"MEDIA_MANAGER_FB_COMMS",MEDIA_MANAGER_PRIORITY:"MEDIA_MANAGER_PRIORITY"})}),null);
__d("PagesManagerInboxHeaderViewContainer.react",["ErrorBoundary.react","PageCommPlatform","PagesManagerInboxCometHeaderLoading.react","PagesManagerInboxCometUtil","PagesManagerInboxHeaderLoading.react","PagesManagerInboxLogger","PagesManagerInboxQueryUtil","PagesManagerInboxStore","React","RelayModern","WitHelpers","nullthrows","PagesManagerInboxHeaderViewContainer_commItem.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("WitHelpers").str;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderQueryResults=function(a){var c=a.error;a=a.props;switch(d.props.commItem.comm_platform){case"INSTAGRAM":case"FACEBOOK":case"WEC":if(a&&!c){c=d.props;var e=c.ChildClass;c=babelHelpers.objectWithoutPropertiesLoose(c,["ChildClass"]);return h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsx(e,babelHelpers["extends"]({},a,c))})}break}return b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?h.jsx(b("PagesManagerInboxCometHeaderLoading.react"),{}):h.jsx(b("PagesManagerInboxHeaderLoading.react"),{})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("nullthrows")(this.props.commItem.comm_platform),c=b("PagesManagerInboxStore").getPageID();switch(a){case"INSTAGRAM_DIRECT":case"MESSENGER":var d=this.props,e=d.ChildClass;d=babelHelpers.objectWithoutPropertiesLoose(d,["ChildClass"]);return h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsx(e,babelHelpers["extends"]({},d))});default:e=b("nullthrows")(this.props.commItem);d=b("nullthrows")(e.id);var f=b("nullthrows")(e.comm_source_id);e=b("nullthrows")(e.target_id);if(c!=null)return b("PagesManagerInboxQueryUtil").renderWithPlatformPostThreadQuery(d,f,b("PageCommPlatform")[i(a)],c,e,this.onRenderQueryResults)}};return c}(h.PureComponent);e.exports=a(c,{commItem:g!==void 0?g:g=b("PagesManagerInboxHeaderViewContainer_commItem.graphql")})}),null);
__d("ServicesAppointmentMessengerHeaderAction.react",["cx","React","ServicesMessengerSidebarActions","XUIButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.renderDivider=function(){return h.jsx("div",{className:"_33u_",children:h.jsx("div",{className:"_33v0"})},"actionDivider")};d.render=function(){return h.jsxs("div",{className:"_33uz",children:[this.renderDivider(),h.jsx("div",{className:"_642n",children:h.jsx(b("XUIButton.react"),{className:"_642o",label:"Close",labelIsHidden:!0,size:"small",suppressed:!0,onClick:function(){b("ServicesMessengerSidebarActions").closeMessengerSidebar()}})})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderContainer.react",["BusinessInboxBizKitUtil","ErrorBoundary.react","FluxContainer","MediaManagerInboxFBCommsHeaderContainer.react","MediaManagerInboxPriorityTabStore","MediaManagerUtils","PageManagerInboxPageToPageHeaderView.react","PagesManagerAction","PagesManagerInboxCometHeaderLoading.react","PagesManagerInboxCometIGDirectHeaderContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxHeaderLoading.react","PagesManagerInboxHeaderViewContainer.react","PagesManagerInboxIGDirectHeaderContainer.react","PagesManagerInboxLogger","PagesManagerInboxQueryUtil","PagesManagerInboxQueryUtilCommItemRenderTypes","PagesManagerInboxStore","PagesManagerStore","React","ServicesAppointmentMessengerHeaderAction.react","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("BusinessInboxBizKitUtil").isBizKitBeta,h=b("MediaManagerUtils").isMediaManagerApp,i=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onRenderHeader=function(a,c){var e=a.error;a=a.props;if(a&&!e){var f;e=b("PagesManagerInboxStore").getMailboxID(d.state.commPlatform);return((f=a.page)==null?void 0:(f=f.bcmp_gk_config)==null?void 0:f.bcmp_inbox_enabled)&&d.state.commPlatform==="MESSENGER"&&a.sender&&a.sender.__typename==="Page"?j.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:j.jsx(b("PageManagerInboxPageToPageHeaderView.react"),{mailboxID:e,page:a.sender})}):j.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:j.jsx(b("PagesManagerInboxHeaderViewContainer.react"),babelHelpers["extends"]({commItem:c,listItemKey:d.state.listItemKey,mailboxID:e,shouldShowNewMultiAdminAssignment:d.state.shouldShowNewMultiAdminAssignment,shouldUseMessengerStateForAdminAssignment:d.state.shouldUseMessengerStateForAdminAssignment},d.props))})}return i()?j.jsx(b("PagesManagerInboxCometHeaderLoading.react"),{}):j.jsx(b("PagesManagerInboxHeaderLoading.react"),{})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("MediaManagerInboxPriorityTabStore"),b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a){a=!1;var c=!1,d=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(d!=null){var e;a=Boolean((e=d.inboxRedesignConfig)==null?void 0:e.shouldShowNewMultiAdminAssignment);c=Boolean((e=d.messengerConfig)==null?void 0:e.shouldUseMessengerStateForAdminAssignment)}else a=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment,c=b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.shouldUseMessengerStateForAdminAssignment;return{listItemKey:b("PagesManagerStore").getViewingListItem(),commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),activeFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),mediaManagerInboxPriorityTabRowType:b("MediaManagerInboxPriorityTabStore").getOnViewingPriorityRowType(),shouldShowNewMultiAdminAssignment:a,shouldUseMessengerStateForAdminAssignment:c}};var d=c.prototype;d.componentDidUpdate=function(){this.props.navMode!=="messages"&&b("PagesManagerAction").setHeaderHeight(0)};d.render=function(){var a=b("PagesManagerInboxStore").getMailboxID(this.state.commPlatform);if(this.props.navMode!=="messages"||!this.state.listItemKey)return null;if(this.state.commPlatform==="INSTAGRAM_DIRECT")return i()||g()?j.jsx(b("PagesManagerInboxCometIGDirectHeaderContainer.react"),{filterStatus:this.state.activeFolder,mailboxID:a,paddingBottom:0,rightSideAction:this.props.isServicesSidebar?j.jsx(b("ServicesAppointmentMessengerHeaderAction.react"),{}):null,shouldShowNewMultiAdminAssignment:this.state.shouldShowNewMultiAdminAssignment,threadID:b("nullthrows")(this.state.listItemKey)}):j.jsx(b("PagesManagerInboxIGDirectHeaderContainer.react"),{filterStatus:this.state.activeFolder,mailboxID:a,paddingBottom:0,rightSideAction:this.props.isServicesSidebar?j.jsx(b("ServicesAppointmentMessengerHeaderAction.react"),{}):null,shouldShowNewMultiAdminAssignment:this.state.shouldShowNewMultiAdminAssignment,threadID:b("nullthrows")(this.state.listItemKey)});return(this.state.commPlatform==="MEDIA_MANAGER_FB_COMMS"||this.state.mediaManagerInboxPriorityTabRowType==="TOP_FB_COMMS")&&h()?j.jsx(b("MediaManagerInboxFBCommsHeaderContainer.react"),{viewingItem:this.state.listItemKey}):b("PagesManagerInboxQueryUtil").renderWithCommItemQuery(this.state.listItemKey,a,this.onRenderHeader,b("PagesManagerInboxQueryUtilCommItemRenderTypes").HEADER)};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxAdminAssignMutation",["RelayFBEnvironment","RelayModern","PagesManagerInboxAdminAssignMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxAdminAssignMutation.graphql");function a(a,c){var d={message_thread_assign_admin:{thread:{id:a.threadFBID,thread_associated_page_admin:{id:a.adminID,name:a.adminName,profile_picture:{uri:a.adminPhotoUrl}}}}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.pageID,admin_id:a.adminID,thread_id:a.threadFBID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxAdminUnassignMutation",["RelayFBEnvironment","RelayModern","PagesManagerInboxAdminUnassignMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxAdminUnassignMutation.graphql");function a(a,c){var d={message_thread_unassign_admin:{thread:{id:a.threadFBID}}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.pageID,thread_id:a.threadFBID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxMessengerAdminAssigner.react",["ix","cx","fbt","CurrentUser","Image.react","Link.react","MercuryIDs","MercuryThreadActions","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","PagesManagerAdminSearchSource","PagesManagerInboxAdminAssignMutation","PagesManagerInboxAdminUnassignMutation","PagesManagerInboxCometUtil","PagesManagerInboxLogger","React","SearchableDropdownInput.contrib","SearchableEntry","Tooltip","UnifiedInboxSearchableDropdownInput.contrib","asset","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(){return j.jsx("div",{className:"_wy6"})}function l(a){return[j.jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onRemoveAssigned},b("Tooltip").propsFor(i._("Remove person assigned")),{children:j.jsx("div",{className:"_wy4"})}),"PagesManagerInboxAdminAssigner.removeAssigned"),j.jsx(k,{},"PagesManagerInboxAdminAssigner.divider"),j.jsx(b("Link.react"),babelHelpers["extends"]({className:"_wy3",onClick:a.onAssignToSelf},b("Tooltip").propsFor(i._("Assign to me")),{children:j.jsx("div",{className:"_wy5"})}),"PagesManagerInboxAdminAssigner.assignToMe")]}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$6=function(a){b("PagesManagerInboxAdminAssignMutation").commit({threadFBID:b("nullthrows")(c.props.thread.thread_fbid),pageID:c.props.pageID,adminID:a.getUniqueID(),adminName:a.getTitle(),adminPhotoUrl:a.getPhoto()});var d=b("nullthrows")(c.props.thread.thread_fbid);c.$7([d],a.getTitle(),a.getUniqueID(),a.getPhoto());b("PagesLogger").log(c.props.pageID,b("PagesLoggerEventEnum").CLICK,b("PagesLoggerEventTargetEnum").MULTI_ADMIN_ASSIGNMENT,"unified_inbox");b("PagesManagerInboxLogger").logAdminAssignmentAction(c.props.pageID,"assign","other")};c.$8=function(){b("PagesManagerInboxAdminUnassignMutation").commit({threadFBID:b("nullthrows")(c.props.thread.thread_fbid),pageID:b("nullthrows")(c.props.pageID)});c.$5.close();var a=b("nullthrows")(c.props.thread.thread_fbid);c.$7([a],null,null,null);b("PagesManagerInboxLogger").logAdminAssignmentAction(c.props.pageID,"unassign","other")};c.$9=function(){var a=c.props.admins.filter(function(a){return a.id===b("CurrentUser").getID()})[0];a=(a=a)!=null?a.profilePicUrl:a;b("PagesManagerInboxAdminAssignMutation").commit({threadFBID:b("nullthrows")(c.props.thread.thread_fbid),pageID:c.props.pageID,adminID:b("CurrentUser").getID(),adminName:b("CurrentUser").getName(),adminPhotoUrl:b("nullthrows")(a)});c.$5.close();var d=b("nullthrows")(c.props.thread.thread_fbid);c.$7([d],b("CurrentUser").getName(),b("CurrentUser").getID(),a);b("PagesManagerInboxLogger").logAdminAssignmentAction(b("nullthrows")(c.props.pageID),"assign","other")};c.$10=function(a){return j.jsx(b("Image.react"),{className:(c.props.shouldShowNewMultiAdminAssignment?"":"_16ny")+(c.props.shouldShowNewMultiAdminAssignment?" _8q1z":""),src:a.getPhoto()})};c.$3=new(b("SearchableEntry"))({uniqueID:0,title:""});c.$4=new(b("PagesManagerAdminSearchSource"))();return c}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this.props.admins.map(function(a){return{name:a.name,id:a.id,profile_picture:{uri:a.profilePicUrl}}});this.$4.cacheData(a)};d.$7=function(a,c,d,e){a=a.map(function(a){return b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a))});b("MercuryThreadActions").getForFBID(this.props.pageID).updateCommItemOwner(a,c,d,e)};d.render=function(){var a=this,c;this.$1=(c=this.props.thread.thread_associated_page_admin)==null?void 0:c.name;this.$2=(c=this.props.thread.thread_associated_page_admin)==null?void 0:c.id;(this.$1===null||this.$1===void 0)&&(this.$1=this.props.pageName);this.$3=new(b("SearchableEntry"))({uniqueID:(c=this.$2)!=null?c:0,title:""});return this.props.shouldShowNewMultiAdminAssignment?j.jsx(b("UnifiedInboxSearchableDropdownInput.contrib"),{chevron:j.jsx(b("Image.react"),{src:g("502188")}),className:"_8q1-"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"":" _8q9w")+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?" _8q7-":""),getLeftContentForEntry:this.$10,isRemoveDisabled:this.$2==null,listClassName:"_8q0u",onRemove:this.$8,onSelect:this.$6,ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!0,title:this.$1!==this.props.pageName?i._("Assigned to {admin_name}",[i._param("admin_name",this.$1)]).toString():i._("Assign conversation").toString(),value:this.$1?this.$3:null}):j.jsx(b("SearchableDropdownInput.contrib"),{className:"_ol6 _72of",getLeftContentForEntry:this.$10,header:j.jsx(l,{onAssignToSelf:this.$9,onRemoveAssigned:this.$8}),headerClassName:"_wxd",listClassName:"_4wkt",onSelect:this.$6,placeholder:i._("Unassigned"),ref:function(b){a.$5=b},resetQueryStringOnSelect:!0,searchSource:this.$4,showSelectedSubtitle:!1,title:i._("Assigned to {admin_name}",[i._param("admin_name",this.$1?this.$1:"")]).toString(),value:this.$1?this.$3:null})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderView.react",["cx","fbt","invariant","ActionList.react","BoostedComponentAppID","BoostedComponentDialogButtonV2Wrapper.react","BusinessInboxBizKitUtil","CenteredContainer.react","Layout.react","LineClamp.react","MercuryIDs","MessengerState.bs","PagesManagerAction","PagesManagerInboxActionContainer.react","PagesManagerInboxAdminAssignerRoot.react","PagesManagerInboxCometDetailHeaderAction.react","PagesManagerInboxDetailHeaderAction.react","PagesManagerInboxHeaderJobBanner.react","PagesManagerInboxMessengerAdminAssigner.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerInboxProfilePicContainer.react","PagesManagerInboxStore","React","RelayModern","Timestamp.react","formatDate","nullthrows","PagesManagerInboxHeaderView_commItem.graphql","PagesManagerInboxHeaderView_igPost.graphql","PagesManagerInboxHeaderView_story.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=b("BusinessInboxBizKitUtil").isBizKitBeta,n=b("BusinessInboxBizKitUtil").maybeApplyGeoHeaderStyle,o=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainer,p=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var q=b("Layout.react").Column,r=b("Layout.react").FillColumn,s=56+1,t="PageCommItemPart",u=40,v=16,w=20;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.shouldShowJobsBanner()?b("PagesManagerAction").setHeaderHeight(2*s):b("PagesManagerAction").setHeaderHeight(s)};d.shouldShowJobsBanner=function(){var a,b;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:(a=a[0])==null?void 0:a.job_opening;return a!==null&&a!==void 0&&((b=a.title)==null?void 0:b.text)!==null&&((b=a.title)==null?void 0:b.text)!==void 0&&a.job_status==="OPEN"?!0:!1};d.renderBoostButton=function(){var a,c=this.props.commItem.comm_type;a=(a=this.props)!=null?(a=a.story)!=null?a.legacy_story_hideable_id:a:a;if(a===null||a===void 0||a===""||c!=="FB_PAGE_POST")return null;c=b("PagesManagerInboxStore").getPageID();return c==null?null:p.jsx(b("BoostedComponentDialogButtonV2Wrapper.react"),{appID:b("BoostedComponentAppID").BOOSTED_POST,pageID:c,placement:"pages-inbox",targetID:a})};d.renderHeaderSubtitle=function(){var a=this,c;switch(this.props.commItem.comm_platform){case"INSTAGRAM":var d=null;this.props.igPost.like_count!==null&&this.props.igPost.like_count!==void 0&&this.props.igPost.like_count!==0&&(d=h._({"*":"{number} likes","_1":"1 like"},[h._plural(this.props.igPost.like_count,"number")]));var e=null;this.props.igPost.comment_count!==null&&this.props.igPost.comment_count!==void 0&&this.props.igPost.comment_count!==0&&(e=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.igPost.comment_count,"number")]));return p.jsxs(b("ActionList.react"),{children:[d,e,p.jsx(b("Timestamp.react"),{text:b("formatDate")(this.props.igPost.creation_time,"M j"),time:this.props.igPost.creation_time})]});case"FACEBOOK":e=(d=this.props.story)!=null?(d=d.feedback)!=null?(d=d.reactors)!=null?d.count:d:d:d;d=(d=this.props.story)!=null?(d=d.feedback)!=null?(d=d.comments)!=null?d.count:d:d:d;c=(c=this.props.story)!=null?c.creation_time:c;var f=null;e!==null&&e!==void 0&&e!==0&&(f=h._({"*":"{number} reactions","_1":"1 reaction"},[h._plural(this.props.story.feedback.reactors.count,"number")]));e=null;d!==null&&d!==void 0&&d!==0&&(e=h._({"*":"{number} comments","_1":"1 comment"},[h._plural(this.props.story.feedback.comments.count,"number")]));return p.jsxs(b("ActionList.react"),{children:[f,e,c!==null&&c!==void 0&&c!==0&&p.jsx(b("Timestamp.react"),{text:b("formatDate")(c,"M j"),time:c})]});case"MESSENGER":if(!b("PagesManagerInboxStore").getIsMultiAdminEnabled())return null;this.props.shouldUseMessengerStateForAdminAssignment||(this.props.commItem.id!==null&&this.props.commItem.id!==void 0&&this.props.commItem.id!==""||i(0,491));var g=b("PagesManagerInboxStore").getPageID(),j=b("PagesManagerInboxStore").getPageName(),k=b("PagesManagerInboxStore").getPageAdmins();if(g!=null&&k!=null&&j!=null)return this.props.shouldUseMessengerStateForAdminAssignment?p.jsx(b("MessengerState.bs").jsComponent,{fbid:g,children:function(c){return p.jsx(b("PagesManagerInboxMessengerAdminAssigner.react"),{admins:k,pageID:g,pageName:j,shouldShowNewMultiAdminAssignment:a.props.shouldShowNewMultiAdminAssignment,thread:b("MessengerState.bs").threads(c)[b("MercuryIDs").getThreadIDFromUserID(a.props.listItemKey)]})}}):p.jsx(b("PagesManagerInboxAdminAssignerRoot.react"),{commItemID:b("nullthrows")(this.props.commItem.id),pageID:g,shouldShowNewMultiAdminAssignment:this.props.shouldShowNewMultiAdminAssignment})}return null};d.escapedTitle=function(){var a=this.props.commItem.comm_title;return a!==null&&a!==void 0&&a!==""?a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)}):""};d.revampCommentHeaderPic=function(){var a,c,d,e;e=b("nullthrows")((e=this.props)!=null?(e=e.commItem)!=null?e.comm_platform:e:e);d=b("nullthrows")((d=this.props)!=null?(d=d.commItem)!=null?d.comm_type:d:d);a=(a=this.props.commItem)==null?void 0:(a=a.facebook_comment)==null?void 0:(a=a.author)==null?void 0:(a=a.profile_picture)==null?void 0:a.uri;c=(c=this.props.commItem)==null?void 0:c.__typename;return p.jsx(b("PagesManagerInboxProfilePic.react"),{className:"_7ywy",commPlatform:e,commType:d,commentType:c,imageSize:u,imageURI:a,showPlatformBadge:!1})};d.render=function(){var a,c;a=(a=this.props.commItem)==null?void 0:(a=a.page_customer)==null?void 0:(a=a.message_thread)==null?void 0:(a=a.thread_associated_job_applications)==null?void 0:(a=a.nodes)==null?void 0:a[0];a=this.shouldShowJobsBanner()&&a!==null&&a!==void 0?p.jsx(b("PagesManagerInboxHeaderJobBanner.react"),{jobApplication:a}):null;if(((c=this.props.commItem)==null?void 0:c.__typename)===t){return p.jsx("div",{children:p.jsxs(b("Layout.react"),{className:"_iyn",children:[p.jsx(q,{className:"_iyp",children:p.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.revampCommentHeaderPic()})}),p.jsx(r,{children:p.jsx("div",{className:"_72od",children:p.jsx("div",{className:"_7ywz",children:(c=this.props.commItem)==null?void 0:(c=c.facebook_comment)==null?void 0:(c=c.author)==null?void 0:c.name})})})]})})}return p.jsxs("div",{children:[p.jsxs(b("Layout.react"),{className:"_iyn",children:[p.jsx(q,{className:"_iyp",children:p.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:p.jsx(b("PagesManagerInboxProfilePicContainer.react"),{imageSize:m()?b("PagesManagerInboxPicSize").BizWebDetailViewHeaderPicSize:b("PagesManagerInboxPicSize").DetailViewHeaderPicSize,item:this.props.commItem,showPlatformBadge:!1})})}),p.jsx(r,{children:p.jsx("div",{className:"_72od",children:p.jsxs("div",{children:[p.jsx("div",{className:"_iyo",children:p.jsx(b("LineClamp.react"),{lineHeight:m()?w:v,lines:1,children:n(this.escapedTitle())})}),p.jsx("div",{className:"_iyr",children:this.renderHeaderSubtitle()})]})})}),p.jsx(q,{children:p.jsx(o,{ChildActionClass:m()?b("PagesManagerInboxCometDetailHeaderAction.react"):b("PagesManagerInboxDetailHeaderAction.react"),item:this.props.commItem,leftActions:this.renderBoostButton()})})]}),a]})};return c}(p.PureComponent);e.exports=a(c,{commItem:j!==void 0?j:j=b("PagesManagerInboxHeaderView_commItem.graphql"),igPost:k!==void 0?k:k=b("PagesManagerInboxHeaderView_igPost.graphql"),story:l!==void 0?l:l=b("PagesManagerInboxHeaderView_story.graphql")})}),null);
__d("PageManagerInboxContentSearchSource",["AbstractSearchSource","SearchableEntry"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.searchImpl=function(a,c,d){d||({});if(a){d=new(b("SearchableEntry"))({uniqueID:a,title:a,subtitle:a});c([d],a);return}c([],a)};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("PagesManagerInboxCustomerSearchableEntry",["SearchableEntry"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,{title:b.title,subtitle:b.subtitle,uniqueID:b.uniqueID,uri:b.uri})||this;c.$PagesManagerInboxCustomerSearchableEntry1=b.platform;return c}var c=b.prototype;c.getPlatform=function(){return this.$PagesManagerInboxCustomerSearchableEntry1};return b}(b("SearchableEntry"));e.exports=a}),null);
__d("PageManagerInboxUnifiedCustomerRelaySearchSource",["AbstractRelaySearchSource","PagesManagerInboxCustomerSearchableEntry","PagesManagerInboxFilterAction","RelayFBEnvironment","RelayModern","nullthrows","PageManagerInboxUnifiedCustomerRelaySearchSourceQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;function h(a,c,d){var e=g!==void 0?g:g=b("PageManagerInboxUnifiedCustomerRelaySearchSourceQuery.graphql");return{query:e,variables:{searchTerm:c,count:d,pageID:a,cursor:null}}}function i(a){a=(a=a)!=null?(a=a.page)!=null?(a=a.page_unified_customer_search)!=null?a.edges:a:a:a;b("PagesManagerInboxFilterAction").setPeopleSearchLoaded();return!a?[]:a.map(function(a){var c,d,e;a=b("nullthrows")(a.node);var f=b("nullthrows")(a.id);e=(e=(e=a)!=null?e.name:e)!=null?e:"";d=(d=(d=a)!=null?(d=d.ig_profile_info)!=null?d.name:d:d)!=null?d:"";c=(c=a)!=null?(c=c.profile_photo_uris)!=null?(c=c[0])!=null?c.uri:c:c:c;var g="FACEBOOK";a.ig_profile_info!==null&&(g="INSTAGRAM");return new(b("PagesManagerInboxCustomerSearchableEntry"))({title:e,subtitle:d,uniqueID:f,uri:c,platform:g})}).filter(function(a){return a!==null})}function j(a,b){return b(a)}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){return a.call(this,b("RelayFBEnvironment"),{bootstrapRequests:[],queryRequests:[{gen:function(a){return h(c,a,d)}}],packageFn:i,getAllForEmptyQuery:!0},j)||this}return c}(b("AbstractRelaySearchSource"));e.exports=a}),null);
__d("PageCustomerSearchViewItem.react",["cx","Image.react","PagesManagerInboxCustomerSearchableEntry","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=32;function j(a){var c=h.jsx(b("Image.react"),{className:"_4ul-",height:i,src:a.entry.getURI(),width:i});if(a.entry instanceof b("PagesManagerInboxCustomerSearchableEntry")){a=a.entry.getPlatform();return h.jsxs("div",{className:"_7yyd"+(a==="FACEBOOK"?" _5m15":"")+(a==="INSTAGRAM"?" _5m16":""),height:i,width:i,children:[c,h.jsx("div",{className:"_5m17",children:h.jsx("div",{className:"_5m18"})})]})}return c}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this,b=this.props.entry;return h.jsxs("li",{className:"_7znk","data-testid":void 0,onMouseDown:function(c){return a.props.onSelect(b,c)},children:[h.jsx(j,{entry:b}),h.jsxs("div",{className:"_7zlb",children:[this.props.renderHighlight(b.getTitle()),h.jsx("div",{className:Boolean(b.getSubtitle())?"_7zlc":"",children:b.getSubtitle()})]})]},b.getUniqueID())};return b}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerSearchResultRenderer.react",["ix","cx","fbt","BIZInboxClientLogger","Image.react","PageCustomerSearchViewItem.react","PageCustomLabelsTypeaheadViewItem.react","PagesManagerAction","PagesManagerInboxCometUtil","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerStore","PagesMessagingInboxActionLogger","React","ScrollableArea.react","ShimButton.react","TextSearchUtil","WIGProgressIndicator.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=b("PagesManagerInboxFilterStore").getActiveType();b("PagesManagerAction").clearViewListItem();b("PagesManagerInboxFilterAction").changeSearchTerm(d.props.queryString.toString());b("PagesManagerInboxFilterAction").changeSearchType("CONTENT");b("PagesManagerInboxLogger").logContentSearchClicked("CONTENT",!0);b("PagesMessagingInboxActionLogger").logSearchResultClicked("content_search_clicked",a,d.props.queryString,"CONTENT");a=b("PagesManagerInboxStore").getPageID();b("BIZInboxClientLogger").logDifferentSearchClick(a,d.props.queryString,"CONTENT")},d.$2=function(a){var c=a;d.props.queryString&&(c=b("TextSearchUtil").getTokens(a.toString(),d.props.queryString.toString()).map(function(a,b){return a.isHighlighted?j.jsx("span",{className:"_7znl",children:a.text},b):a.text}));return j.jsx("span",{children:c})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=b("PagesManagerInboxStore").getPageID();b("BIZInboxClientLogger").logSearchResultRenderView(a)};d.render=function(){var a=this,c=[],d=[];this.props.entries.map(function(e){e instanceof b("PagesManagerInboxCustomLabelSearchableEntry")?c.push(j.jsx(b("PageCustomLabelsTypeaheadViewItem.react"),{entry:e,onSelect:a.props.onSelect,renderHighlight:a.$2},e.getUniqueID())):!!e.getURI()===!0&&d.push(j.jsx(b("PageCustomerSearchViewItem.react"),{entry:e,onSelect:a.props.onSelect,renderHighlight:a.$2},e.getUniqueID()))});var e=c.length>0?j.jsx("div",{className:"_7zk3","data-testid":void 0,children:i._("LABELS")}):null,f=d.length===0&&b("PagesManagerInboxFilterStore").getIsPeopleSearchLoading();f=d.length>0||f?j.jsxs("div",{className:"_7zk3","data-testid":void 0,children:[i._("PEOPLE"),f&&j.jsx(b("WIGProgressIndicator.react"),{})]}):null;var h=this.props.queryString.trim().length>2?j.jsx(b("ShimButton.react"),{onMouseDown:this.$1,children:j.jsxs("div",{className:"_7zl7","data-testid":void 0,children:[j.jsx("div",{className:"_7zl8",children:j.jsx(b("Image.react"),{src:g("515638")})}),i._("Search in Messenger conversations")]})}):null,k=b("PagesManagerStore").getLayoutHeight()-b("PagesManagerStore").getListNavigationHeight();return j.jsx(b("ScrollableArea.react"),{maxHeight:k,children:j.jsxs("div",{className:"_7zl9"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?" _8g4e":""),children:[h,j.jsx("span",{className:"_7zla"}),f,d,j.jsx("span",{className:"_7zla"}),e,c]})})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderSearchBar.react",["cx","fbt","AbstractTextInput.react","BIZInboxClientLogger","CompositeSearchSource","FacebookAppIDs","FluxContainer","MediaManagerInboxContext.react","MediaManagerInboxQEUtils","PageManagerInboxContentSearchSource","PageManagerInboxCustomLabelSearchSource","PageManagerInboxUnifiedCustomerRelaySearchSource","PagesManagerAction","PagesManagerAdminSearchSource","PagesManagerInboxCometUtil","PagesManagerInboxCustomerSearchableEntry","PagesManagerInboxCustomLabelSearchableEntry","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxSearchTokenRenderer.react","PagesManagerSearchResultRenderer.react","PagesMessagingInboxActionLogger","React","XUITokenizer.react"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var i=b("React"),j=29;function k(a,b){return a.length>b?a.slice(0,b)+"...":a}c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){b("BIZInboxClientLogger").logSearchFocusClick(d.props.pageID,d.state.searchTerm)},d.$5=function(a){var c=b("PagesManagerInboxFilterStore").getActiveType();if(a instanceof b("PagesManagerInboxCustomLabelSearchableEntry"))b("PagesManagerInboxFilterAction").addCustomLabel(a.getData(),d.props.pageID),b("PagesMessagingInboxActionLogger").logSearchResultClicked("label_search_clicked",c,d.state.searchTerm,"LABEL"),b("BIZInboxClientLogger").logDifferentSearchClick(d.props.pageID,d.state.searchTerm,"LABEL");else if(!!a.getURI()===!0){b("PagesManagerInboxFilterAction").selectCustomer(a.getUniqueID());b("PagesManagerInboxFilterAction").changeSearchTerm(a.getTitle());b("PagesManagerInboxFilterAction").changeSearchType("CUSTOMER");var e="FACEBOOK";a instanceof b("PagesManagerInboxCustomerSearchableEntry")&&(e=a.getPlatform());b("PagesMessagingInboxActionLogger").logPeopleSearchClicked(c,d.state.searchTerm,"CUSTOMER",e);b("BIZInboxClientLogger").logDifferentSearchClick(d.props.pageID,d.state.searchTerm,"CUSTOMER")}else b("PagesManagerInboxFilterAction").changeSearchTerm(a.getTitle()),b("PagesManagerInboxFilterAction").changeSearchType("CONTENT"),b("PagesManagerInboxLogger").logContentSearchClicked("CONTENT",!0),b("BIZInboxClientLogger").logDifferentSearchClick(d.props.pageID,d.state.searchTerm,"CONTENT")},d.$6=function(a){a instanceof b("PagesManagerInboxCustomLabelSearchableEntry")&&b("PagesManagerInboxFilterAction").removeCustomLabel(a.getData(),d.props.pageID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore")]};c.calculateState=function(){var a;return{searchTerm:(a=b("PagesManagerInboxFilterStore")).getSearchTerm(),activeSearchLabels:a.getCurrentSearchCustomLabels(),pageCustomerID:a.getPageCustomerID(),searchType:a.getSearchType()}};var d=c.prototype;d.$1=function(a){b("PagesManagerInboxFilterStore").getSearchType()==="CONTENT"&&b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").changeSearchTerm(a.target.value)};d.$3=function(){return this.state.searchTerm||this.state.activeSearchLabels&&this.state.activeSearchLabels.length>0?null:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?h._("Search Inbox"):h._("Search")};d.$4=function(){var a;if(this.props.labels)return this.props.labels.toArray();a=((a=this.props.labels)!=null?(a=a.custom_tags)!=null?a.edges:a:a)||[];a=a.map(function(a){return a.node});return a};d.$7=function(){var a=this.context&&this.context.appID;return b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()||a===b("FacebookAppIDs").MEDIA_MANAGER&&b("MediaManagerInboxQEUtils").shouldShowNewDesign()};d.render=function(){var a=b("PagesManagerSearchResultRenderer.react"),c=new(b("PagesManagerAdminSearchSource"))(),d=new(b("CompositeSearchSource"))([new(b("PageManagerInboxUnifiedCustomerRelaySearchSource"))(this.props.pageID,5),b("PageManagerInboxCustomLabelSearchSource").getInstance(this.$4()),new(b("PageManagerInboxContentSearchSource"))()]);c=this.state.searchType==="ADMIN"?c:d;d={useLayer:!0,ViewRenderer:a,TokenRenderer:b("PagesManagerInboxSearchTokenRenderer.react"),maxEntries:200};if(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()&&(this.state.pageCustomerID||this.state.searchType==="CONTENT"))return i.jsx(b("AbstractTextInput.react"),{className:"_8f1r",onChange:this.$1,placeholder:this.$3(),value:this.state.searchTerm});if(this.state.pageCustomerID)return i.jsx("span",{className:"_22os",children:k(this.state.searchTerm,j)});return this.state.searchType==="CONTENT"?i.jsx(b("AbstractTextInput.react"),{className:this.$7()?"_8f1r":"_2dua",onChange:this.$1,placeholder:this.$3(),value:this.state.searchTerm}):i.jsx(b("XUITokenizer.react"),{className:this.$7()?"_8f1r":"_2dua",context:this.props.context,entries:this.state.activeSearchLabels,focusedOnInit:!0,hideViewWithEntries:!1,maxEntries:5,onAddEntryAttempt:this.$5,onChange:this.$1,onEnterWithoutSelection:this.$1,onInputFocus:this.$2,onQueryStringChange:this.$1,onRemoveEntryAttempt:this.$6,placeholder:this.$3(),presenter:d,searchSource:c,showEntriesOnFocus:!0,tokenClassName:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"_8h-z":"_22op"})};return c}(i.PureComponent);c.contextType=a;e.exports=b("FluxContainer").create(c)}),null);
__d("PagesManagerInboxCometSearchInput.react",["cx","AbstractTextInput.react","MediaManagerUtils","PagesManagerInboxListHeaderSearchBar.react","React","XUICloseButton.react","immutable","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.focusInput=function(){c.refs.inputField.focusInput()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return h.jsx("div",{children:h.jsxs("div",{className:b("joinClasses")(this.props.className,"_8ekb"+(this.props.isFocused||!!this.props.value?" _8ek6":"")+(this.props.searchActive?" _8ek7":"")+(b("MediaManagerUtils").isMediaManagerApp()?" _8wr5":"")),role:"search",children:[this.props.searchActive?h.jsx(b("PagesManagerInboxListHeaderSearchBar.react"),{context:this.props.context,labels:this.props.allLabels,pageID:this.props.pageID,value:this.props.value}):h.jsx(b("AbstractTextInput.react"),{className:"_8ekc",onBlur:this.props.onBlur,onChange:this.props.onChange,onClick:this.props.onClick,onEnter:this.props.onEnter,onFocus:this.props.onFocus,placeholder:this.props.placeholder,value:this.props.value}),h.jsx(b("XUICloseButton.react"),{className:(this.props.searchActive?"":"hidden_elem")+" _8ekd",onMouseDown:this.props.onClear,size:"large"})]})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxCometSearchBarContainer.react",["fbt","invariant","BIZInboxClientLogger","FluxContainer","PagesManagerAction","PagesManagerCustomLabelsStore","PagesManagerInboxCometSearchInput.react","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxUtils","PagesMessagingInboxActionLogger","React","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesManagerInboxUtils").setDefaultIGDirectFolder,j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){a.target instanceof HTMLInputElement||h(0,8726),b("PagesManagerInboxFilterAction").changeSearchTerm(a.target.value),d.setState({value:a.target.value})},d.$3=function(){b("PagesManagerInboxLogger").logSearchClick(!0,d.state.filterType),b("PagesMessagingInboxActionLogger").logSearchButtonClicked(d.state.filterType),b("PagesManagerInboxFilterAction").changeSearchType("LABEL"),b("PagesManagerInboxFilterAction").toggleSearch(!0)},d.$4=function(){b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerAction").clearViewListItem(),i(d.state.filterFolder,d.state.filterType,d.props.pageID),b("BIZInboxClientLogger").logSearchCancelClick(d.props.pageID)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerCustomLabelsStore")]};c.calculateState=function(){return{allLabels:b("PagesManagerCustomLabelsStore").getLabels(),filterType:b("PagesManagerInboxFilterStore").getActiveType(),isSearchActive:b("PagesManagerInboxFilterStore").getIsSearchActive(),value:"",filterFolder:b("PagesManagerInboxFilterStore").getActiveFolder()}};var d=c.prototype;d.render=function(){var a=this;return j.jsxs(j.Fragment,{children:[j.jsx(b("PagesManagerInboxCometSearchInput.react"),{allLabels:this.state.allLabels,context:this.$1,onChange:this.$2,onClear:this.$4,onClick:this.$3,pageID:this.props.pageID,placeholder:g._("Search Inbox"),searchActive:this.state.isSearchActive,value:this.state.value}),j.jsx("div",{ref:function(b){return a.$1=b}})]})};return c}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("LeadsCenterEmailTabImpressionFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("leads_center_email_tab_impression");e.exports=a}),null);
__d("LeadsCenterEmailThreadListClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("leads_center_email_thread_list_click");e.exports=a}),null);
__d("BizBroadcastEmailMode",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DRAFT:0,PUBLISHED:1,DELIVERING:2,STOPPED:3,COMPLETED:4,SCHEDULED:5,IN_REVIEW:6,NOT_APPROVED:7,CANCELED:8})}),null);
__d("BizInboxEmailMessageType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ONE_TO_ONE_INBOUND:"one_to_one_inbound",ONE_TO_ONE_OUTBOUND:"one_to_one_outbound",BROADCAST_OUTBOUND:"broadcast_outbound"})}),null);
__d("PagesManagerInboxLeadEmailUtils",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={getLabelAndDescriptionFromEmailInfo:function(a,b){if(a==="one_to_one_inbound")return{text:null,description:null};switch(b){case 0:case 6:case 2:case 1:return{text:g._("Sending").toString(),description:g._("Your email is in the process of being sent").toString()};case 4:return{text:g._("Sent").toString(),description:g._("Your email has been sent").toString()};case 7:return{text:g._("Rejected").toString(),description:g._("Your email was rejected. This could be because of inappropriate content or other issues. Please edit your email and try sending it again.").toString()};case 5:return{text:g._("Scheduled").toString(),description:g._("Your email has been scheduled.").toString()};default:return{text:g._("Failed").toString(),description:g._("Your email was not sent successfully. Please try again later").toString()}}}};e.exports=a}),null);
__d("MediaManagerInboxListRowIconConfig",["ix","asset"],(function(a,b,c,d,e,f,g){"use strict";b=(a={},a.TOP_FAN={name:"TOP_FAN",iconAsset:g("1148120")},a.VERIFIED_ACCOUNT={name:"VERIFIED_ACCOUNT",iconAsset:g("510733")},a.STARS_COMMENT={name:"STARS_COMMENT",iconAsset:g("647924")},a);e.exports=b}),null);
__d("PagesManagerInboxListRowAction.react",["cx","Link.react","PageCommItemFolder","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerInboxMercuryUtil","React","Tooltip"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=2e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){this.props.onStatusChange.call(this.props.onStatusChange,a)};d.render=function(){var a=this;return h.jsxs("div",{className:this.props.className,onClick:function(a){return a.stopPropagation()},role:"grid",tabIndex:-1,children:[this.props.actionParam.showDone?h.jsx(b("Link.react"),{onClick:function(){return a.$1(b("PageCommItemStatus").DONE)},children:h.jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemFolder").DONE),"right"),{className:"_4ocz _2x0y","data-tooltip-delay":i,children:h.jsx("div",{className:"_18am"})}))}):null,this.props.actionParam.showInbox?h.jsx(b("Link.react"),{onClick:function(){return a.$1(b("PageCommItemStatus").TODO)},children:h.jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(b("PageCommItemStatusUtil").getToolTipLabel(b("PageCommItemFolder").TODO),"right"),{className:"_4ocz","data-tooltip-delay":i,children:h.jsx("div",{className:"_2x0z"})}))}):null,this.$2()]})};d.$2=function(){var a=this,c=b("PagesManagerInboxMercuryUtil").shouldUseMercury(),d=c?b("PageCommItemStatusUtil").getStarLabel(b("PageCommItemStatus").FOLLOW_UP):b("PageCommItemStatusUtil").getLabel(b("PageCommItemStatus").FOLLOW_UP);if(!this.props.actionParam.showFollowUp)return null;d=h.jsx(b("Link.react"),{onClick:function(){return a.$1(b("PageCommItemStatus").FOLLOW_UP)},children:h.jsx("div",babelHelpers["extends"]({},b("Tooltip").propsFor(d,"right"),{className:"_4ocz"+(c?" _63kh":""),"data-tooltip-delay":i,children:h.jsx("div",{className:"_63ki"})}))});return d};return c}(h.Component);e.exports=a}),null);
__d("PagesManagerInboxReplyInsignia.react",["cx","fbt","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","Tooltip.react","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="page_inbox_reply_insignia_nux",k=b("PagesManagerInboxNUX")[j];a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showNux:b("PagesManagerInboxStore").shouldShowNUX(j)},d.$1=i.createRef(),d.$2=function(){return d.$1.current},d.$5=function(){b("PagesManagerInboxNUXAction").dismiss(k),d.setState({showNux:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){return h._("Messages you've responded to are marked as \"replied\".")};d.$4=function(){return h._("Replied")};d.render=function(){var a=this.state.showNux&&this.props.isViewingRow;a&&b("PagesManagerInboxNUXAction").logView(k);a=a?i.jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:this.$2,onCloseButtonClick:this.$5,position:"below",shown:!0,children:this.$3()}):null;var c=i.jsx("div",{className:"_8mf0",ref:this.$1});c=this.props.showTooltip?i.jsx(b("Tooltip.react"),{display:"block",tooltip:this.$4(),children:c}):i.jsx(i.Fragment,{children:c});return i.jsxs(i.Fragment,{children:[c,a]})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListRowFooter.react",["JSResource","LeftRight.react","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxReplyInsignia.react","PagesManagerInboxStore","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("PagesManagerInboxThreadLabelContainer.react").__setRef("PagesManagerInboxListRowFooter.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.$1=!1;if(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign())c.$1=!1;else{var d=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(d){c.$1=Boolean((d=d.messengerConfig)==null?void 0:(d=d.commerceConfig)==null?void 0:d.shouldShowReplyInsigniaTooltip)}else{d=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];c.$1=Boolean(d.shouldShowReplyInsigniaTooltip)}}return c}var d=c.prototype;d.render=function(){var a;return g.jsxs(b("LeftRight.react"),{direction:"left",children:[this.props.showReplyInsignia?g.jsx(b("PagesManagerInboxReplyInsignia.react"),{isViewingRow:(a=this.props.isViewingRow)!=null?a:!1,showTooltip:this.$1}):null,this.props.labels?g.jsx(g.Suspense,{fallback:null,children:g.jsx(h,{hoverContextRef:this.props.getLabelHovercontextRef,labels:this.props.labels,setupHoverContextRef:this.props.setupLabelHoverContextRef,shouldShowCometNewDesign:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()})}):null]})};return c}(g.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxMessageActionContainer.react",["FluxContainer","IGMessageDataMutateAction","IGMessageServerActions","MediaManagerInboxContext.react","MercuryIDs","MessagingTag","PageCommItemActionType","PageCommItemFolder","PageCommItemStatus","PageCommItemStatusUtil","PageCommItemTypeUtil","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListAction","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerMessagesInterface","PagesManagerMessagingThreadlistAction","PagesManagerStore","React","emptyFunction","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var g=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){b("PagesManagerInboxLogger").itemStatusChanged(d.props.item.id,d.props.item.comm_type,a);b("PagesManagerInboxLogger").itemStatusChangedInThread(d.props.item.id,d.props.item.comm_type,a,d.state.commItemFolder);c=d.props.item.thread_id;var e=d.props.item.thread_fbid,f=null;d.props.commPlatform==="WEC"&&(f=b("PagesManagerInboxStore").getMailboxID(d.props.commPlatform));d.props.item.thread_id===void 0&&(c=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(d.props.item.target_id)),e=d.props.item.target_id);var g=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];switch(a){case b("PageCommItemStatus").DONE:g.isBackgroundFolderEnabled?b("PagesManagerMessagesInterface").changeThreadFolderToBackground(d.props.pageID,c,d.props.item.comm_status):b("PagesManagerMessagesInterface").changeThreadFolderToDone(d.props.pageID,c,d.props.item.comm_status);d.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").TODO:b("PagesManagerMessagesInterface").changeThreadFolderToInbox(d.props.pageID,c,e,d.props.item.comm_status,g.isBackgroundFolderEnabled);break;case b("PageCommItemStatus").FOLLOW_UP:b("PagesManagerMessagesInterface").markThreadAsFollowUp(d.props.pageID,c,e,!0,d.props.item.comm_status);break;case b("PageCommItemStatus").SPAM:b("PagesManagerMessagesInterface").markThreadAsSpam(d.props.pageID,[c],b("MessagingTag").OTHER,b("PageCommItemStatus").SPAM,d.props.item.comm_status,d.props.item.folder,d.props.item.is_archived);d.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;case b("PageCommItemStatus").DELETED:b("PagesManagerMessagesInterface").markThreadAsDeleted(d.props.pageID,c,f);d.state.viewingItem===e&&b("PagesManagerAction").viewListItem(null);break;default:break}b("PagesManagerMessagingThreadlistAction").updateThreadlist(d.props.pageID);d.context&&d.context.logMarkStatusActions!==b("emptyFunction")&&d.context.logMarkStatusActions(c,d.props.commPlatform,d.props.mediaManagerInboxRowIndex,d.state.commItemFolder,a)},d.$2=function(a){var c=b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(d.props.item.target_id));b("PagesManagerMessagesInterface").changeThreadReadStatus(d.props.pageID,c,!d.props.item.is_read);d.props.item.is_read&&b("PagesManagerInboxLogger").logMarkAsUnread(d.props.item.comm_type,d.props.pageID);d.context&&d.context.logMarkReadStatusActions!==b("emptyFunction")&&(a===b("PageCommItemActionType").MARK_READ||a===b("PageCommItemActionType").MARK_UNREAD)&&d.context.logMarkReadStatusActions(c,d.props.commPlatform,d.props.mediaManagerInboxRowIndex,d.state.commItemFolder,a)},d.$4=function(a,c){c=d.props.item;var e=c.token,f=b("PageCommItemStatusUtil").getUnreadStatusForMutation(a,c,d.state.commItemFolder),g=b("PageCommItemStatusUtil").getFollowUpStatusForMutation(a,c,d.state.commItemFolder);b("PagesManagerInboxLogger").itemStatusChangedInThread(e,"INSTAGRAM_DIRECT",a,d.state.commItemFolder);d.state.commItemFolder!==a&&g==null&&f==null?(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.pageID,c.token)):g!==null&&(d.state.commItemFolder===b("PageCommItemFolder").TODO?b("IGMessageDataMutateAction").updateThreadFollowUpStatus(d.props.pageID,e,c.is_follow_up!==!0):d.state.commItemFolder===b("PageCommItemFolder").FOLLOW_UP&&(b("PagesManagerAction").clearViewListItem(),b("IGMessageDataMutateAction").deleteThread(d.props.pageID,e)));c=b("IGMessageServerActions").getForFBID(d.props.pageID);b("PagesManagerInboxListAction").itemFolderChange([e],b("PageCommItemStatusUtil").getIGDStatus(a),b("PageCommItemStatusUtil").getIGDStatus(d.state.commItemFolder));c.updateThreadStatus(e,b("PageCommItemStatusUtil").getIGDirectFolder(a,d.state.commItemFolder),g,f)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore"),b("PagesManagerInboxFilterStore")]};c.calculateState=function(a,c){a=b("PagesManagerInboxStore").getPlatformConfig(c&&c.item.comm_type?b("PageCommItemTypeUtil").toPageCommPlatform(c.item.comm_type):b("PagesManagerInboxFilterStore").getActiveType());return{viewingItem:b("PagesManagerStore").getViewingListItem(),commItemFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),shouldShowDeleteButton:Boolean(a.showDeleteConversationButton)}};var d=c.prototype;d.$3=function(){var a,c=this.props.item&&this.props.item.comm_type,d=this.props.item&&this.props.item.is_read,e=c==="FB_MESSAGE"||c==="FB_USER_POST"||c==="FB_REVIEW",f=null,g=this.state.commItemFolder;this.props.item&&this.props.item.comm_status&&(f=this.props.item.comm_status.toUpperCase());a=this.props.item&&this.props.item.is_page_follow_up||((a=this.props.item)==null?void 0:a.is_follow_up);a===void 0&&(a=f===b("PageCommItemStatus").FOLLOW_UP);f=c==="WEC_MESSAGE";return{showDone:(g===b("PageCommItemFolder").TODO||g===b("PageCommItemFolder").UNREAD||g===b("PageCommItemFolder").FOLLOW_UP)&&!f,showFollowUp:(g===b("PageCommItemFolder").TODO||g===b("PageCommItemFolder").UNREAD)&&!a&&!f,showUnFollowup:(g===b("PageCommItemFolder").TODO||g===b("PageCommItemFolder").UNREAD)&&a,showInbox:!f&&a,showMarkRead:!d&&!f,showMarkUnread:d&&!f,showSpam:e&&g!==b("PageCommItemFolder").SPAM&&g!==b("PageCommItemFolder").DONE&&!f,showDelete:this.state.shouldShowDeleteButton||f}};d.render=function(){var a=this.props,b=a.ChildActionClass;a=babelHelpers.objectWithoutPropertiesLoose(a,["ChildActionClass"]);return g.jsx(b,babelHelpers["extends"]({},a,{actionParam:this.$3(),onReadStatusChange:this.$2,onStatusChange:this.props.commPlatform==="INSTAGRAM_DIRECT"?this.$4:this.$1,userID:(b=this)!=null?(b=b.props)!=null?(b=b.item)!=null?(b=b.page_customer)!=null?(b=b.user)!=null?b.id:b:b:b:b:b}))};return c}(g.PureComponent);c.contextType=a;e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("PagesManagerInboxListRow.react",["ix","cx","fbt","invariant","BusinessInboxBizKitUtil","ErrorBoundary.react","FacebookAppIDs","FacepileRounded.react","FDSCheckboxInput.react","Focus","Image.react","Layout.react","LineClamp.react","MediaManagerInboxContext.react","MediaManagerInboxListRowIconConfig","MediaManagerInboxQEUtils","MercuryIDs","MercuryThreadTimestampReact.re","MercuryTimestamp","MessengerTextWithEmoticons.react","PageCommItemFolder","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerInboxActionContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxListRowAction.react","PagesManagerInboxListRowFooter.react","PagesManagerInboxLogger","PagesManagerInboxMercuryUtil","PagesManagerInboxMessageActionContainer.react","PagesManagerInboxProfilePicContainer.react","PagesManagerInboxStore","React","TextWithEntities.react","Tooltip","XUIBadge.react","emptyFunction","fbglyph","nullthrows"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("BusinessInboxBizKitUtil").maybeApplyGeoGreyTextStyle,l=b("BusinessInboxBizKitUtil").maybeApplyGeoTextBoldStyle,m=b("BusinessInboxBizKitUtil").maybeApplyGeoTextStyle;a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var n=b("MercuryThreadTimestampReact.re").make,o=b("PagesManagerInboxActionContainer.react").PagesManagerInboxActionContainer,p=b("React"),q=b("Layout.react").Column,r=b("Layout.react").FillColumn,s=18,t=18,u=20;function v(a){var c=b("PagesManagerInboxStore").getIsMultiAdminEnabled();if(!c)return null;c=(c=a.thread.thread_associated_page_admin)==null?void 0:(c=c.profile_picture)==null?void 0:c.uri;a=(a=a.thread.thread_associated_page_admin)==null?void 0:a.name;var d=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(d!=null){Boolean((d=d.inboxRedesignConfig)==null?void 0:d.shouldShowNewMultiAdminAssignment)}else b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment;return a&&c?p.jsxs("span",{className:"_4fyc",children:[p.jsx(b("Image.react"),babelHelpers["extends"]({className:"_4fyd",src:c},b("Tooltip").propsFor(a))),p.jsx(b("Image.react"),{className:"_4fye",src:g("125812")})]}):null}function w(a){var c,d=b("PagesManagerInboxStore").getIsMultiAdminEnabled();if(!d||!a.item)return null;d=(d=a.item)==null?void 0:(d=d.comm_item_owners)==null?void 0:(d=d.nodes[0])==null?void 0:(d=d.admin)==null?void 0:(d=d.profile_picture)==null?void 0:d.uri;c=(c=a.item)==null?void 0:(c=c.comm_item_owners)==null?void 0:(c=c.nodes[0])==null?void 0:(c=c.admin)==null?void 0:c.name;var e=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(e!=null){e=Boolean((e=e.inboxRedesignConfig)==null?void 0:e.shouldShowNewMultiAdminAssignment)}else e=b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment;if(e&&a.platform==="INSTAGRAM_DIRECT"){d=(e=a.item)==null?void 0:(e=e.assigned_admin)==null?void 0:(e=e.profile_picture)==null?void 0:e.uri;c=(e=a.item)==null?void 0:(a=e.assigned_admin)==null?void 0:a.name}return c&&d?p.jsxs("span",{className:"_4fyc",children:[p.jsx(b("Image.react"),babelHelpers["extends"]({className:"_4fyd",src:d},b("Tooltip").propsFor(c))),p.jsx(b("Image.react"),{className:"_4fye",src:g("125812")})]}):null}function x(a){var c,d=a.activeFolder===b("PageCommItemFolder").SPAM||a.activeFolder===b("PageCommItemFolder").DONE;if(a.commType==="WEC_MESSAGE"||a.shouldShowIGRevampComments)c=null;else if(a.badgeCount>1&&!a.shouldShowIGRevampComments&&(a.commType==="FB_PAGE_POST"||a.commType==="FB_AD_POST"||a.commType==="INSTAGRAM_POST"||a.commType==="FB_GROUP_POST"))c=p.jsx(b("XUIBadge.react"),{className:"_24d_",count:a.badgeCount});else if(a.activeFolder&&a.activeFolder===b("PageCommItemFolder").DONE||a.commStatus===b("PageCommItemStatus").DONE&&!b("PagesManagerInboxMercuryUtil").shouldUseMercury())c=p.jsx("div",{className:"_za4"});else if(a.activeFolder&&a.activeFolder===b("PageCommItemFolder").FOLLOW_UP||a.commStatus===b("PageCommItemStatus").FOLLOW_UP||((a=a.item)==null?void 0:a.is_follow_up)&&!d)b("PagesManagerInboxMercuryUtil").shouldUseMercury()?c=p.jsx("div",{className:"_i65"}):c=p.jsx("div",{className:"_4thl"});else return null;return p.jsx("div",{className:"_za5",children:c})}function y(a){return a.profilePicElement?a.profilePicElement:p.jsx(b("PagesManagerInboxProfilePicContainer.react"),{item:b("nullthrows")(a.item)})}function z(a,c){if(c.inline_style==="BOLD")return p.jsx("span",{className:"_1t5i",children:a});c=c.entity_with_image&&c.entity_with_image.image&&c.entity_with_image.image.uri;return c?p.jsx(b("Image.react"),{className:"_1t5n",src:c}):a}function A(a){a.snippetWithEntities&&a.snippetElement&&j(0,1607);if(a.snippetElement)return a.snippetElement;if(!a.snippetWithEntities)return null;return a.commPlatform==="MESSENGER"?p.jsx(b("MessengerTextWithEmoticons.react"),{renderEmoji:!0,renderEmoticons:!0,text:a.snippetWithEntities.text}):p.jsx(b("TextWithEntities.react"),{imageRanges:a.snippetWithEntities.image_ranges,inlineStyleRanges:a.snippetWithEntities.inline_style_ranges,interpolator:z,renderEmoji:!0,text:a.snippetWithEntities.text})}function B(a){a.title&&!a.titleElement||!a.title&&a.titleElement||j(0,1608);return a.titleElement?!a.isRead?l(a.titleElement):m(a.titleElement):m(p.jsx("span",{children:C(a.title)}))}function C(a){return a?a.replace(/&#(\d+);/g,function(a,b){return String.fromCharCode(b)}):null}function D(a){return!(a.showActions&&a.item)?null:b("PagesManagerInboxMercuryUtil").shouldUseMercury()?p.jsx(b("PagesManagerInboxMessageActionContainer.react"),{ChildActionClass:b("PagesManagerInboxListRowAction.react"),className:"_4a51",commPlatform:a.commPlatform,item:b("nullthrows")(a.item),mediaManagerInboxRowIndex:a.mediaManagerInboxRowIndex,pageID:a.pageID}):p.jsx(o,{ChildActionClass:b("PagesManagerInboxListRowAction.react"),className:"_4a51",item:b("nullthrows")(a.item),mediaManagerInboxRowIndex:a.mediaManagerInboxRowIndex,pageID:a.pageID})}function E(a){var c;if(!a.shouldRenderRowIcon||a.icons==null)return null;var d=p.jsx("div",{style:{height:20,width:20}});if(((c=a.icons)==null?void 0:c.length)!==0){c=a.icons.map(function(a){a=b("MediaManagerInboxListRowIconConfig")[a];return{name:a.name,image_src:a.iconAsset}});d=p.jsx(b("FacepileRounded.react"),{imageSize:16,profiles:c})}return p.jsx(q,{className:"_8lx9","data-testid":"creator_studio_top_comments_icons_column",children:d})}c=40;d=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$2=!1;d.$4=null;d.$5=function(a){d.$4=a};d.$6=function(){return d.$4};d.$1=d.$3.bind(babelHelpers.assertThisInitialized(d));c=b("PagesManagerInboxFilterStore").getActiveType();if(c==="MESSENGER"){c=b("PagesManagerInboxStore").getBusinessInboxAppConfig();d.$2=c==null?b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.shouldShowReplyInsignia:Boolean((c=c.messengerConfig)==null?void 0:(c=c.commerceConfig)==null?void 0:c.shouldShowReplyInsignia)}return d}var d=c.prototype;d.componentDidMount=function(){if(this.context&&this.context.logRowImpression!==b("emptyFunction")&&this.props.commPlatform!=="MEDIA_MANAGER_FB_COMMS"){var a;this.context.logRowImpression(this.props.commPlatform==="MESSENGER"?(a=this.props.item)==null?void 0:a.thread_fbid:(a=this.props.item)==null?void 0:a.id,this.props.commPlatform,this.props.rowIndex,this.props.activeFolder)}};d.$7=function(){var a,b=this.props.badgeCount;if(!this.props.shouldShowIGRevampComments||((a=this.props.item)==null?void 0:a.is_read)||b===0)return null;a=b>u?u.toString()+"+":b.toString();return p.jsx("div",{className:"_86fv",children:i._("{unread number} unread",[i._param("unread number",a)])})};d.$8=function(a,b){var c={},d=[];for(var e=0;e<a.length;e++){var f;f=(f=a[e])==null?void 0:f.name;f!=null&&c[f]!==!0&&(c[f]=!0,d[d.length]=a[e])}for(var f=0;f<b.length;f++){a=(e=b[f])==null?void 0:e.name;a!=null&&c[a]!==!0&&(c[a]=!0,d[d.length]=b[f])}return d};d.$9=function(a){a.stopPropagation()};d.$3=function(a,b){b=(b=this.props.selectionConfig)==null?void 0:b.onSelectionToggle;b&&b(a)};d.$10=function(){var a=this.context&&this.context.appID;return a===b("FacebookAppIDs").MEDIA_MANAGER&&b("MediaManagerInboxQEUtils").shouldShowNewDesign()};d.$11=function(){var a;if(!this.$2)return!1;else if(Boolean(this.props.hasPageReplied))return!0;a=(a=this.props.item)==null?void 0:a.snippet_sender;return a==null||!b("MercuryIDs").isValid(a)?!1:b("MercuryIDs").getUserIDFromParticipantID(a)===this.props.pageID};d.render=function(){var a,c,d,e=this.props.commType==="FB_GROUP_POST",f=null;f=this.props.labels?this.props.labels:this.$8(((a=this.props.item)==null?void 0:(a=a.page_thread_info)==null?void 0:a.customLabels)||[],((a=this.props.item)==null?void 0:(a=a.page_thread_info)==null?void 0:a.customTags)||[]);a=null;switch(this.props.commPlatform){case"WEC":a="wec_thread_list";break;case"MESSENGER":a="messenger_thread_list_row";break;case"FACEBOOK":a="facebook_post_list_row_item";break}c=Boolean((c=this.props)==null?void 0:(c=c.selectionConfig)==null?void 0:c.enabled);d=Boolean((d=this.props)==null?void 0:(d=d.selectionConfig)==null?void 0:d.selected);var g=this.$11();return p.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:p.jsxs("div",{className:"_4k8w"+(b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"":" _8gcz")+" _75ux"+(this.props.showActions?" _5_n1":"")+(this.props.isViewing?" _2tms":"")+(this.props.isRead?"":" _284c")+(this.props.shouldAnimate?" _3_40":"")+(this.props.commPlatform==="INSTAGRAM"?" _5m16":"")+(this.props.commPlatform==="FACEBOOK"||this.props.commPlatform==="MEDIA_MANAGER_FB_COMMS"?" _5m15":"")+(this.props.commPlatform==="MESSENGER"?" _5m10":"")+(this.props.commPlatform==="WEC"?" _7r_8":"")+(this.props.commPlatform==="INSTAGRAM_DIRECT"?" _6wkq":""),"data-testid":a,onClick:this.props.onViewingListItem,onMouseDown:function(a){return b("Focus").setWithoutOutline(a.target)},role:"presentation",children:[p.jsxs(b("Layout.react"),{className:"_6yv6","data-testid":"search_label_result_list",children:[p.jsx(E,{icons:this.props.icons,shouldRenderRowIcon:this.$10()}),p.jsx(q,{className:"_11eh",children:p.jsx(y,{item:this.props.item,profilePicElement:this.props.profilePicElement})}),p.jsxs(r,{children:[p.jsxs(r,{className:"_284g",children:[p.jsx("div",{className:"_4k8x",children:p.jsxs(b("LineClamp.react"),{lineHeight:s,lines:e?2:1,children:[this.props.item!=null&&this.props.commPlatform==="MESSENGER"&&this.props.shouldUseMessengerStateForAdminAssignment?p.jsx(v,{pageID:this.props.pageID,thread:this.props.item}):p.jsx(w,{item:this.props.item,pageID:this.props.pageID,platform:this.props.commPlatform}),p.jsx(B,{isRead:this.props.isRead,title:this.props.title,titleElement:this.props.titleElement})]})}),p.jsxs("div",{className:"_4k8y",children:[this.props.subtitle&&!f?k(p.jsx(b("TextWithEntities.react"),{className:"_2dmv",imageRanges:(a=this.props)!=null?(a=a.subtitle)!=null?a.image_ranges:a:a,inlineStyleRanges:(e=this.props)!=null?(e=e.subtitle)!=null?e.inline_style_ranges:e:e,interpolator:z,renderEmoji:!0,text:(a=this.props)!=null?(a=a.subtitle)!=null?a.text:a:a}),this.props.isRead):null,p.jsx(b("LineClamp.react"),{lineHeight:t,lines:1,children:k(p.jsx(A,{commPlatform:this.props.commPlatform,snippetElement:this.props.snippetElement,snippetWithEntities:this.props.shouldShowIGRevampComments?this.props.igRevampSnippetWithEntities:this.props.snippetWithEntities}),this.props.isRead)}),this.$7(),this.props.second_subtitle?p.jsx(b("LineClamp.react"),{lineHeight:t,lines:1,children:p.jsx(b("TextWithEntities.react"),{imageRanges:(e=this.props)!=null?(e=e.second_subtitle)!=null?e.image_ranges:e:e,inlineStyleRanges:(a=this.props)!=null?(a=a.second_subtitle)!=null?a.inline_style_ranges:a:a,renderEmoji:!0,text:(e=this.props)!=null?(e=e.second_subtitle)!=null?e.text:e:e})}):null]})]}),p.jsxs(q,{className:"_11ei",children:[p.jsxs("div",{className:c?"_8gnh":"",children:[p.jsxs("div",{className:"_4ugl",children:[isNaN(this.props.timestampInMS)?null:p.jsx("div",{className:"_5hhj",children:k(p.jsx(n,{text:b("MercuryTimestamp").getRelativeTimestamp(this.props.timestampInMS),time:this.props.timestampInMS,title:(a=b("MercuryTimestamp").getAbsoluteTimestamp(this.props.timestampInMS))!=null?a:void 0}))}),p.jsx(x,{activeFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),badgeCount:this.props.badgeCount,commStatus:this.props.commStatus,commType:this.props.commType,item:this.props.item,shouldShowIGRevampComments:this.props.shouldShowIGRevampComments})]}),p.jsx(D,{commPlatform:this.props.commPlatform,item:this.props.item,mediaManagerInboxRowIndex:this.props.rowIndex,pageID:this.props.pageID,showActions:this.props.showActions}),!this.props.showActions&&this.props.item&&this.props.item.parent_comm_item_photo_preview?p.jsx(b("Image.react"),{className:"_7-24",src:(e=this.props.item)==null?void 0:(a=e.parent_comm_item_photo_preview)==null?void 0:a.uri}):null]}),c&&p.jsx("div",{className:"_8ic-",onClick:this.$9,role:"presentation",children:p.jsx(b("FDSCheckboxInput.react"),{label:"",onChange:this.$1,value:d})})]}),this.props.footerElement?this.props.footerElement:p.jsx(b("PagesManagerInboxListRowFooter.react"),{getLabelHovercontextRef:this.$6,isViewingRow:this.props.isViewing,labels:f,setupLabelHoverContextRef:this.$5,showReplyInsignia:g})]})]}),this.props.isViewing?p.jsx("div",{className:"_5z5s"}):null,this.props.shouldAnimate?p.jsx("div",{className:"_3_42",style:{backgroundColor:this.props.commStatus?b("PageCommItemStatusUtil").getColor(this.props.commStatus):void 0}}):null]})})};return c}(p.PureComponent);d.defaultProps={imageSize:c,shouldAnimate:!1,showActions:!0,badgeCount:0,shouldShowIGRevampComments:!1};d.contextType=a;e.exports=d}),null);
__d("PagesManagerInboxLeadEmailListItem.react",["ix","fbt","BizBroadcastEmailMode","BizInboxEmailMessageType","BusinessInboxBizKitUtil","FBInitialsProfilePicture.react","FDSText.react","FlexLayout.react","Image.react","PageCommItemStatus","PagesManagerInboxLeadEmailUtils","PagesManagerInboxListRow.react","React","RelayHooks","getJSEnumSafe","nullthrows","PagesManagerInboxLeadEmailListItem_BusinessInboxMessageThread.graphql","Tooltip.react","asset","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("BusinessInboxBizKitUtil").maybeApplyGeoTextStyle,k=b("React");c=b("React");var l=c.useCallback;b("RelayHooks").graphql;var m=b("RelayHooks").useFragment,n=i!==void 0?i:i=b("PagesManagerInboxLeadEmailListItem_BusinessInboxMessageThread.graphql");function a(a){var c,d,e,f,i,o,p,q=30,r=h._("UNKNOWN"),s=m(n,a.thread),t=b("nullthrows")(s.id),u=l(function(){var b=a.onClick;b(t)},[a.onClick,t]);c=(c=s.email_messages)==null?void 0:(c=c.nodes)==null?void 0:(c=c[0])==null?void 0:c.creation_time;d=b("getJSEnumSafe")(b("BizBroadcastEmailMode"),(d=s.email_messages)==null?void 0:(d=d.nodes)==null?void 0:(d=d[0])==null?void 0:d.email_mode);e=b("getJSEnumSafe")(b("BizInboxEmailMessageType"),(e=s.email_messages)==null?void 0:(e=e.nodes)==null?void 0:(e=e[0])==null?void 0:e.biz_email_type);e=b("PagesManagerInboxLeadEmailUtils").getLabelAndDescriptionFromEmailInfo(e,d);d=(d=s.email_messages)==null?void 0:(d=d.nodes)==null?void 0:(d=d[0])==null?void 0:d.is_from_customer;f=(f=s.email_messages)==null?void 0:(f=f.nodes)==null?void 0:(f=f[0])==null?void 0:f.preview_text;i=s==null?void 0:(i=s.customer_contact)==null?void 0:i.name;o=s==null?void 0:(o=s.customer_contact)==null?void 0:o.email;p=(p=s.customer_contact)==null?void 0:p.first_name;s=(s=s.customer_contact)==null?void 0:s.last_name;q=k.jsx(b("FBInitialsProfilePicture.react"),{circleProfile:!0,firstName:(p=p)!=null?p:"",height:q,lastName:(p=s)!=null?p:""});s=k.jsxs(b("FlexLayout.react"),{className:"b2r9obmk",direction:"horizontal",children:[k.jsx(b("Image.react"),{className:"faez4nw9 q48522wo",src:d===!0?g("483098"):g("793176")}),k.jsx(b("Tooltip.react"),{tooltip:e==null?void 0:e.description,children:k.jsx(b("FDSText.react"),{color:"placeholder",size:"meta1",children:e==null?void 0:e.text})})]});return k.jsx(b("PagesManagerInboxListRow.react"),{commPlatform:"MESSENGER",commStatus:b("PageCommItemStatus").TODO,commType:"FB_MESSAGE",footerElement:s,isRead:!0,isViewing:t===a.selectedThreadID,onViewingListItem:u,pageID:a.pageID,profilePicElement:q,showActions:!0,snippetElement:j(f),subtitle:null,timestampInMS:b("nullthrows")(c)*1e3,title:(d=(p=i)!=null?p:o)!=null?d:r.toString()},t)}e.exports=a}),null);
__d("PagesManagerInboxListEmptyState.react",["cx","fbt","ix","Image.react","PageCommItemFolder","PagesManagerInboxFilterStore","PagesManagerInboxStore","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){switch(this.props.folder){case b("PageCommItemFolder").DONE:return this.props.platform==="MESSENGER"||this.props.platform==="INSTAGRAM_DIRECT"?h._("No messages"):h._("No comments");case b("PageCommItemFolder").FOLLOW_UP:return this.props.platform==="MESSENGER"||this.props.platform==="INSTAGRAM_DIRECT"?h._("No messages"):h._("No comments");case b("PageCommItemFolder").TODO:switch(this.props.platform){case"MESSENGER":return h._("No messages");case"WEC":return h._("No messages to show");case"FACEBOOK":return h._("No comments");case"INSTAGRAM":return h._("No comments")}break;case b("PageCommItemFolder").SPAM:return this.props.platform==="INSTAGRAM"||this.props.platform==="FACEBOOK"?h._("No comments"):h._("No messages");case b("PageCommItemFolder").UNREAD:switch(this.props.platform){case"MESSENGER":case"INSTAGRAM_DIRECT":return h._("No messages");case"FACEBOOK":return h._("No unread reviews or comments to show");case"INSTAGRAM":return h._("No unread Instagram comments to show")}break;case b("PageCommItemFolder").INSTAGRAM_THREADS:case b("PageCommItemFolder").MESSENGER_THREADS:return h._("No messages");case b("PageCommItemFolder").EMAIL_THREADS:return h._("No emails")}return null};d.$2=function(){var a=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];a=a.selectedCommentView==="TOP_LEVEL_COMMENT";switch(this.props.folder){case b("PageCommItemFolder").DONE:switch(this.props.platform){case"MESSENGER":case"INSTAGRAM_DIRECT":case"WEC":return h._("You can quickly file messages to \"Done\" by using the tick button.");case"FACEBOOK":case"INSTAGRAM":return h._("You can quickly file comments as \"Done\" by using the tick button.");default:return null}case b("PageCommItemFolder").FOLLOW_UP:switch(this.props.platform){case"MESSENGER":case"INSTAGRAM_DIRECT":case"WEC":return h._("Use the star button to mark messages as \"Follow up\".");case"FACEBOOK":case"INSTAGRAM":return h._("Use the star button to mark comments as \"Follow up\".");default:return null}case b("PageCommItemFolder").TODO:switch(this.props.platform){case"MESSENGER":return h._("Messages sent to your Page will appear here.");case"FACEBOOK":return a?null:h._("Reviews and comments on your posts will appear here.");case"INSTAGRAM":return h._("Comments on your Instagram posts will appear here.")}break;case b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS:return h._("Communications and notifications from Facebook will appear here.");case b("PageCommItemFolder").EMAIL_THREADS:return h._("The emails that you've sent or received will appear here.")}return null};d.$3=function(){var a;switch(this.props.folder){case b("PageCommItemFolder").DONE:a=i("94968");break;case b("PageCommItemFolder").FOLLOW_UP:a=i("94970");break;default:return null}return!a?null:j.jsx(b("Image.react"),{className:"_2-xd",src:a})};d.$4=function(){switch(this.props.folder){case b("PageCommItemFolder").DONE:return i("497630");case b("PageCommItemFolder").FOLLOW_UP:return i("484107");default:return i("94969")}};d.render=function(){return j.jsxs("div",{className:"_2-x8"+(this.props.folder===b("PageCommItemFolder").DONE?" _2-x9":""),"data-testID":"list_empty_state",children:[j.jsx(b("Image.react"),{src:this.$4()}),j.jsx("div",{className:"_2-xa"+(this.props.folder===b("PageCommItemFolder").TODO||this.props.folder===b("PageCommItemFolder").SPAM?" _2-xb":""),children:this.$1()}),j.jsx("div",{className:"_2-xc",children:this.$2()}),this.$3()]})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxLeadEmailListView.react",["LeadsCenterEmailThreadListClickFalcoEvent","PageCommItemFolder","PagesManagerInboxLeadEmailListItem.react","PagesManagerInboxListEmptyState.react","PagesManagerInboxListSpinner.react","PagesSelectableSimpleList.react","React","RelayHooks","nullthrows","PagesManagerInboxLeadEmailListView_page.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");c=b("React");var i=c.useCallback,j=c.useEffect;b("RelayHooks").graphql;var k=b("RelayHooks").usePaginationFragment,l=g!==void 0?g:g=b("PagesManagerInboxLeadEmailListView_page.graphql");function a(a){var c,d=81,e=10,f=k(l,a.page),g=f.data,m=f.loadNext,n=f.hasNext;f=f.isLoadingNext;var o=i(function(){m(e)},[m]),p=a.selectedThreadID;j(function(){p!=null&&b("LeadsCenterEmailThreadListClickFalcoEvent").log(function(){var a;return{event_location:"business_inbox",page_id:g.id,business_presence_node_id:g==null?void 0:(a=g.business_presence_node)==null?void 0:a.id,client_timestamp_ms:Date.now(),event_data:{email_thread_id:p}}})},[p]);c=g==null?void 0:(c=g.leadEmailThreadItems)==null?void 0:(c=c.edges)==null?void 0:c.filter(function(a){var b;return a!=null&&(a==null?void 0:(b=a.node)==null?void 0:(b=b.email_messages)==null?void 0:b.count)!=null&&(a==null?void 0:(b=a.node)==null?void 0:(a=b.email_messages)==null?void 0:a.count)!==0});if(c==null||c.length===0)return h.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:b("PageCommItemFolder").EMAIL_THREADS,pageID:b("nullthrows")(g.id),platform:"FACEBOOK"});if(p==null){var q;q=c==null?void 0:(q=c[0])==null?void 0:(q=q.node)==null?void 0:q.id;q!=null&&a.onThreadSelected(q)}q=function(a){var c=a==null?void 0:(a=a.leadEmailThreadItems)==null?void 0:(a=a.edges)==null?void 0:a.filter(function(a){return a!=null});return function(a){return b("nullthrows")(c==null?void 0:(a=c[a].node)==null?void 0:a.id)}};var r=function(a,c,d){return function(e,f,g){f=a==null?void 0:(f=a.leadEmailThreadItems)==null?void 0:(g=f.edges)==null?void 0:g.filter(function(a){var b;return a!=null&&(a==null?void 0:(b=a.node)==null?void 0:(b=b.email_messages)==null?void 0:b.count)!=null&&(a==null?void 0:(b=a.node)==null?void 0:(a=b.email_messages)==null?void 0:a.count)!==0});return f==null||f.length===0?null:h.jsx(b("PagesManagerInboxLeadEmailListItem.react"),{onClick:d,pageID:b("nullthrows")(a.id),selectedThreadID:c,thread:b("nullthrows")(f==null?void 0:f[e].node)},b("nullthrows")(f==null?void 0:(g=f[e].node)==null?void 0:g.id))}};return h.jsx(b("PagesSelectableSimpleList.react"),{canLoadMoreRows:n,height:a.height,isLoadingMoreRows:f,loadingIndicator:h.jsx(b("PagesManagerInboxListSpinner.react"),{}),onRequestMoreRows:o,rowCount:c.length,rowHeight:d,rowKeyGetter:q(g),rowRenderer:r(g,a.selectedThreadID,a.onThreadSelected),showHeader:!1})}e.exports=a}),null);
__d("PagesManagerInboxListLoading.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=4;c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=[];for(var b=0;b<this.props.count;b++)a.push(this.$1(b));return h.jsx("div",{style:{height:this.props.height},children:a})};c.$1=function(a){return h.jsx("div",{className:"_2dqm",children:h.jsxs("div",{className:"_2iwq _2dqn",children:[h.jsx("div",{className:"_2iwr"}),h.jsx("div",{className:"_2iws"}),h.jsx("div",{className:"_2iwt"}),h.jsx("div",{className:"_2iwu"}),h.jsx("div",{className:"_2iww"}),h.jsx("div",{className:"_2iwx"})]})},"rowPlaceholder"+a)};return b}(h.PureComponent);c.defaultProps={count:a};e.exports=c}),null);
__d("PagesManagerInboxLeadEmailListContainer.react",["ErrorBoundary.react","FluxContainer","LeadsCenterEmailTabImpressionFalcoEvent","PagesManagerAction","PagesManagerInboxLeadEmailListView.react","PagesManagerInboxListLoading.react","PagesManagerInboxLogger","PagesManagerInboxQueryRenderer.react","PagesManagerStore","React","RelayModern","PagesManagerInboxLeadEmailListContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxLeadEmailListContainerQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){a=a.props;return a?h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsx(b("PagesManagerInboxLeadEmailListView.react"),{height:d.props.height,onThreadSelected:d.$1,page:a.page,selectedThreadID:d.state.selectedThread})}):h.jsx(b("PagesManagerInboxListLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerStore")]};c.calculateState=function(a){return{selectedThread:b("PagesManagerStore").getViewingListItem()}};var d=c.prototype;d.componentDidMount=function(){var a=this;b("LeadsCenterEmailTabImpressionFalcoEvent").log(function(){return{event_location:"business_inbox",page_id:a.props.pageID,client_timestamp_ms:Date.now(),event_data:{}}})};d.$1=function(a){b("PagesManagerAction").viewListItem(a)};d.render=function(){return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},isLiveQuery:!0,query:i,render:this.$2,variables:{pageID:this.props.pageID}})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxAutomationToastContainer.react",["cx","fbt","FDSGuidanceToast.react","FDSGuidanceToastButton.react","FDSGuidanceToastCloseButton.react","FluxContainer","MercuryIDs","MessengerState.bs","PageCommItemFolder","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerMessagesInterface","PagesManagerMessagingThreadlistAction","PagesMarketingAutomationActions","PagesMarketingAutomationStore","React","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){if(d.state.recentAutomationThreadFBID){var a=b("MercuryIDs").getThreadIDFromUserID(d.state.recentAutomationThreadFBID),c=b("MessengerState.bs").getThreadMetaNow(d.props.pageID,a);b("PagesManagerInboxLogger").itemStatusChanged(c.page_comm_item_id,c.comm_type,b("PageCommItemFolder").TODO);b("PagesManagerInboxLogger").itemStatusChangedInHeader(c.page_comm_item_id,c.comm_type,b("PageCommItemFolder").TODO,d.props.commItemFolder);var e=b("PagesManagerInboxStore").getConfig().platformConfigs[d.props.activeType];b("PagesManagerMessagesInterface").changeThreadFolderToInbox(d.props.pageID,a,b("nullthrows")(d.state.recentAutomationThreadFBID),b("nullthrows")(c.comm_status),e.isBackgroundFolderEnabled);b("PagesManagerMessagingThreadlistAction").updateThreadlist(d.props.pageID)}d.$1()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(a){return{recentAutomationThreadFBID:b("PagesMarketingAutomationStore").getRecentAutomationThreadFBID(),shouldShowToast:b("PagesMarketingAutomationStore").getShouldShowAutomationToast()}};var d=c.prototype;d.$1=function(){b("PagesMarketingAutomationActions").updateShouldShowAutomationToast(!1)};d.render=function(){return this.state.shouldShowToast&&this.props.selectedCustomerID===this.state.recentAutomationThreadFBID?i.jsx("div",{className:"_8qfj",children:i.jsx(b("FDSGuidanceToast.react"),{callToActionButton:i.jsx(b("FDSGuidanceToastButton.react"),{label:"Undo",onClick:this.$2}),closeButton:i.jsx(b("FDSGuidanceToastCloseButton.react"),{onClick:this.$1}),content:h._("Conversation moved to Done folder"),type:"success"})}):null};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxBanToastContainer.react",["ix","cx","fbt","CenteredContainer.react","FluxContainer","Image.react","Layout.react","PagesManagerInboxListAction","PagesManagerInboxListStore","React","ReactTransitionGroup","XUICard.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k=b("Layout.react").Column,l=b("Layout.react").FillColumn,m=500,n=1e4;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxListStore")]};c.calculateState=function(){return{isBanned:b("PagesManagerInboxListStore").getIsUserBanned(),userName:b("PagesManagerInboxListStore").getUserName()}};var d=c.prototype;d.render=function(){var a=this.state.userName?j.jsx(o,{isBanned:this.state.isBanned,userName:this.state.userName},this.state.userName):null;return j.jsx(b("ReactTransitionGroup"),{children:a})};return c}(j.PureComponent);var o=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state={shouldHide:!1},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.componentDidMount=function(){var a=this;setTimeout(function(){a.state.shouldHide||b("PagesManagerInboxListAction").removeBanNotice()},n)};d.componentWillLeave=function(a){this.setState({shouldHide:!0},function(){setTimeout(a,m)})};d.$1=function(){if(this.props.isBanned)return i._("{name} has been banned from this Page.",[i._param("name",this.props.userName)]);else return i._("Ban has been removed")};d.render=function(){return j.jsx("div",{className:"_9e3"+(this.state.shouldHide?" _9e5":""),children:j.jsx(b("XUICard.react"),{className:"_6zj7",children:j.jsxs(b("Layout.react"),{className:"_9ee",children:[j.jsx(k,{className:"_9ef",children:j.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:j.jsx(b("Image.react"),{src:g("691343")})})}),j.jsx(l,{className:"_9ef _9eh",children:j.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.$1()})})]})})})};return a}(j.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxBulkActionsNotice.react",["cssVar","cx","CenteredContainer.react","Layout.react","LayoutColumn.react","LayoutFillColumn.react","React","ReactCSSTransitionGroup","XUICard.react","joinClasses","productsAssertExhausted","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useEffect,k=c.useState,l=1e4,m=3e3;function a(a){var c=a.actionType,d=a.message,e=a.onNoticeHide;a=k(!0);var f=a[0],g=a[1];a=c?n(c):"";j(function(){var a=c!==null&&Boolean(d);a&&(g(!1),b("setTimeout")(function(){g(!0),e()},l))},[c,d,e]);return i.jsx(b("ReactCSSTransitionGroup"),{transitionEnterTimeout:m,transitionLeaveTimeout:m,transitionName:{enter:"_8iog",enterActive:"_8iou",leave:"_8iot",leaveActive:"_8iov"},children:!f&&i.jsx("div",{className:"_8j2a",children:i.jsx(b("XUICard.react"),{className:"_8j2b",style:{backgroundColor:"#90949c"},children:i.jsxs(b("Layout.react"),{className:"_8j2f",children:[i.jsx(b("LayoutColumn.react"),{className:"_8j2g",children:i.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:i.jsx("div",{className:b("joinClasses")("_8ip0",a)})})}),i.jsx(b("LayoutFillColumn.react"),{className:"_8j2g _8j2h",children:i.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:d})})]})})})})}function n(a){switch(a){case"DONE":return"_8j2i";case"FOLLOW_UP":return"_8j2j";case"INBOX":return"_8j2k";case"MARK_UNREAD":return"_8j5m";case"SPAM":return"_8j2l";case"DELETE":return"_8j2m";case"ASSIGN_ADMIN":return"_8jdm";case"REPLY":return"_8iof";case"LABEL":return"_8ip1";default:b("productsAssertExhausted")(a)}return""}e.exports=a}),null);
__d("PagesManagerInboxBulkActionsNoticeContainer.react",["FluxContainer","PagesManagerAction","PagesManagerInboxBulkActionsNotice.react","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerStore")]};c.calculateState=function(){return{lastBulkActionResult:b("PagesManagerStore").getLastBulkActionResult()}};var d=c.prototype;d.render=function(){var a;a=(a=this.state.lastBulkActionResult)!=null?a:{};var c=a.actionType;a=a.message;return g.jsx(b("PagesManagerInboxBulkActionsNotice.react"),{actionType:c,message:a,onNoticeHide:b("PagesManagerAction").removeLastBulkActionResult})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxFolderChangeNotice.react",["ix","cx","fbt","invariant","CenteredContainer.react","Image.react","Layout.react","Link.react","PageCommItemStatus","PageCommItemStatusUtil","PagesManagerInboxMercuryUtil","React","ReactTransitionGroup","XUICard.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),l=b("Layout.react").Column,m=b("Layout.react").FillColumn,n=500,o=1e4;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.mutatedItem;a=a?k.jsx(p,{mutatedItem:a,onUndoClick:this.props.onUndoClick,removeMutation:this.props.removeMutation},"mutatedItem"+a.id+a.newFolder):null;return k.jsx(b("ReactTransitionGroup"),{children:a})};return c}(k.PureComponent);var p=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a;a=c.call(this)||this;a.$1=function(){a.props.onUndoClick&&a.props.onUndoClick(a.props.mutatedItem)};a.state={shouldHide:!1};return a}var d=a.prototype;d.componentDidMount=function(){var a=this;window.setTimeout(function(){a.state.shouldHide||a.props.removeMutation(a.props.mutatedItem)},o)};d.render=function(){var a=this.props.mutatedItem.newFolder,c=null;this.props.onUndoClick&&(c=k.jsx(l,{className:"_9ef",children:k.jsx(b("Link.react"),{className:"_9ei",onClick:this.$1,children:k.jsx(b("CenteredContainer.react"),{className:"_9ej",fullHeight:!0,horizontal:!1,vertical:!0,children:i._("Undo")})})}));return k.jsx("div",{className:"_9e3"+(this.state.shouldHide?" _9e5":""),children:k.jsx(b("XUICard.react"),{className:"_9e6",style:{backgroundColor:b("PageCommItemStatusUtil").getColor(a)},children:k.jsxs(b("Layout.react"),{className:"_9ee",children:[k.jsx(l,{className:"_9ef",children:k.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.$2()})}),k.jsx(m,{className:"_9ef _9eh",children:k.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!1,vertical:!0,children:this.$3()})}),c]})})})};d.componentWillLeave=function(a){this.setState({shouldHide:!0},function(){window.setTimeout(a,n)})};d.$2=function(){var a;switch(this.props.mutatedItem.newFolder){case b("PageCommItemStatus").TODO:a=g("115680");break;case b("PageCommItemStatus").FOLLOW_UP:a=g("26062");break;case b("PageCommItemStatus").DONE:a=g("114571");break;case b("PageCommItemStatus").SPAM:a=g("115608");break}return!a?null:k.jsx(b("Image.react"),{src:a})};d.$3=function(){switch(this.props.mutatedItem.newFolder){case b("PageCommItemStatus").DONE:return i._("Moved to Done folder");case b("PageCommItemStatus").FOLLOW_UP:return b("PagesManagerInboxMercuryUtil").shouldUseMercury()?i._("Marked as \"Follow up\""):i._("Item moved to Follow up");case b("PageCommItemStatus").TODO:return this.props.mutatedItem.oldFolder===b("PageCommItemStatus").FOLLOW_UP?i._("Removed from \"Follow up\""):i._("Moved to Main folder");case b("PageCommItemStatus").SPAM:return i._("Moved to Spam folder");default:j(0,4240,this.props.mutatedItem.newFolder)}};return a}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxFolderChangeNoticeContainer.react",["FluxContainer","PageCommItemStatusEditMutation","PagesManagerInboxFolderChangeNotice.react","PagesManagerInboxListAction","PagesManagerInboxListStore","PagesManagerInboxMercuryUtil","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("PageCommItemStatusEditMutation").commit({actor_id:d.props.pageID,ids:[a.id],isUndo:!0,isViewing:a.id===d.state.viewingItem,oldValue:a.newFolder,status:a.oldFolder}),d.$2(a)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxListStore"),b("PagesManagerStore")]};c.calculateState=function(){return{mutatedItem:b("PagesManagerInboxListStore").getLastMutatedItem(),viewingItem:b("PagesManagerStore").getViewingListItem()}};var d=c.prototype;d.render=function(){var a=b("PagesManagerInboxMercuryUtil").shouldUseMercury()?null:this.$1;return g.jsx(b("PagesManagerInboxFolderChangeNotice.react"),{mutatedItem:this.state.mutatedItem,onUndoClick:a,removeMutation:this.$2})};d.$2=function(a){b("PagesManagerInboxListAction").removeMutatedItem([a.id])};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("BulkActionsContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({showBulkSelection:!1,selectedThreads:[]});e.exports=c}),null);
__d("MediaManagerInboxPriorityTabActions",["MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_ON_VIEWING_PRIORITY_ITEM,priorityType:a})};e.exports={onViewingPriorityItem:a}}),null);
__d("XMediaManagerFBCommsSetMessageSeenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fb_comms/set_message_seen/",{page_id:{type:"FBID"},tip_name:{type:"String",required:!0},aymt_tip_id:{type:"FBID",required:!0},row_index:{type:"String",required:!0}})}),null);
__d("MediaManagerInboxFBCommsTabMessageRowContainer.react",["cx","AsyncRequest","FluxContainer","Image.react","MediaManagerInboxContext.react","MediaManagerInboxFBCommsActions","MediaManagerInboxPriorityTabActions","PageCommItemActionType","PageCommItemFolder","PagesManagerAction","PagesManagerInboxListRow.react","PagesManagerStore","React","XMediaManagerFBCommsSetMessageSeenController","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var h=b("MediaManagerInboxFBCommsActions").decrementFBCommsBadgeCount,i=b("MediaManagerInboxFBCommsActions").setFBCommsMessageSeen,j=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.item.node;b("PagesManagerAction").viewListItem(a.id);b("MediaManagerInboxPriorityTabActions").onViewingPriorityItem("TOP_FB_COMMS");if(a.clickedTime==null&&a.tip_name!=null&&a.tip_name!=""){var c=b("XMediaManagerFBCommsSetMessageSeenController").getURIBuilder().setFBID("page_id",a.pageID).setString("tip_name",a.tipName).setFBID("aymt_tip_id",a.id).setString("row_index",d.props.rowIndex).getURI();new(b("AsyncRequest"))(c).setHandler(function(c){c.payload&&(h(d.props.pageID),d.context&&d.context.logMarkReadStatusActions!==b("emptyFunction")&&d.context.logMarkReadStatusActions(a.id,"MEDIA_MANAGER_FB_COMMS",b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS,b("PageCommItemActionType").MARK_READ,d.props.rowIndex))}).send();d.props.isPriorityTab||i(d.props.pageID,d.props.item,1)}},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerStore")]};c.calculateState=function(a,c){var d=!1,e=b("PagesManagerStore").getViewingListItem();c.item.node.id&&e&&(d=c.item.node.id===e);e=a!=null&&a.isRead||c.item.node.clickedTime!=null;return{isViewing:d,isRead:e}};var d=c.prototype;d.componentDidMount=function(){this.context&&this.context.logRowImpression!==b("emptyFunction")&&this.context.logRowImpression(this.props.item.node.id,"MEDIA_MANAGER_FB_COMMS",this.props.rowIndex,b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS)};d.render=function(){if(this.props.item==null)return null;var a=this.props.item.node;return j.jsx(b("PagesManagerInboxListRow.react"),{commPlatform:"MEDIA_MANAGER_FB_COMMS",commStatus:null,commType:null,isRead:this.state.isRead,isViewing:this.state.isViewing,labels:null,pageID:this.props.pageID,profilePicElement:j.jsx(b("Image.react"),{src:"/images/fb_communications/glyph-app-facebook-circle-1x.png"}),rowIndex:this.props.rowIndex,snippetElement:j.jsx("div",{className:"_8wxv",children:a.body}),subtitle:null,timestampInMS:(a.validationTime||0)*1e3,titleElement:j.jsx("div",{className:"_8wxv",children:a.title}),onViewingListItem:this.$1})};return c}(j.PureComponent);c.contextType=a;e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("MediaManagerInboxLoggerActions",["MediaManagerActionTypes","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerActionTypes").MediaManagerActionTypes;a=function(a){b("PagesManagerDispatcher").dispatch({type:g.MEDIA_MANAGER_INBOX_LIST_ROW_IMPRESSION,rowIndex:a})};e.exports={logListRowIndex:a}}),null);
__d("PagesManagerInboxMessageProfilePicContainer.react",["invariant","MercuryIDs","MessengerParticipantsImages.re","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={imageURI:null};return b}var d=c.prototype;d.componentDidMount=function(){this.$2(this.props)};d.UNSAFE_componentWillReceiveProps=function(a){this.$2(a)};d.componentWillUnmount=function(){this.$1&&this.$1.remove()};d.$2=function(a){var c=this;this.$1&&this.$1.remove();var d=a.item.participants.filter(function(c){return b("MercuryIDs").getUserIDFromParticipantID(c)!==a.pageID});d.length===0&&a.item.participants.length>0&&(d=a.item.participants.slice(0,1));d.length===1||g(0,3754);this.$1=b("MessengerParticipantsImages.re").getOrderedBigImageMulti(d,function(a){c.setState({imageURI:a[0]})})};d.render=function(){return h.jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:this.props.commPlatform,commType:this.props.commType,imageSize:this.props.imageSize,imageURI:this.state.imageURI,showPlaceholder:!0,showPlatformBadge:this.props.showPlatformBadge})};return c}(h.PureComponent);a.defaultProps={imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,showPlatformBadge:!0};e.exports=a}),null);
__d("PagesManagerInboxMessageListRowContainer.react",["fbt","BulkSelectionThreadAction","FluxContainer","MediaManagerInboxContext.react","MediaManagerInboxLoggerActions","MediaManagerInboxPriorityTabActions","MediaManagerUtils","MercuryThreadSnippet.react","MercuryThreadTitle_DEPRECATED.react","PagesManagerAction","PagesManagerBulkActionLogger","PagesManagerInboxFilterAction","PagesManagerInboxFilterStore","PagesManagerInboxListRow.react","PagesManagerInboxMessageProfilePicContainer.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerInboxStore","PagesManagerMessagesInterface","PagesManagerMessagingMessagelistAction","PagesManagerStore","React","emptyFunction","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=b("MediaManagerInboxContext.react").MediaManagerInboxContext;var h=b("React"),i=0;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.item;d.context&&d.context.logClickRow!==b("emptyFunction")&&d.context.logClickRow(a.thread_fbid,d.props.filter);b("PagesManagerInboxFilterAction").changePlatform(d.props.filter);var c=d.props.rowIndex;b("MediaManagerUtils").isMediaManagerApp()&&c!=null&&(b("MediaManagerInboxLoggerActions").logListRowIndex(c),d.props.filter==="MEDIA_MANAGER_PRIORITY"&&b("MediaManagerInboxPriorityTabActions").onViewingPriorityItem("TOP_MESSAGES"));b("PagesManagerAction").viewListItem(a.thread_fbid);a.unread_count>0&&b("PagesManagerMessagesInterface").changeThreadReadStatus(d.props.pageID,a.thread_id,!0)},d.$3=function(){b("PagesManagerInboxFilterAction").changePlatform(d.props.filter),b("PagesManagerAction").viewListItem(d.$2()),b("PagesManagerMessagingMessagelistAction").contentSearchSelectedIndex(i)},d.$6=function(a){var c=a?[b("BulkSelectionThreadAction").SELECT,d.state.selectedThreads.length]:[b("BulkSelectionThreadAction").UNSELECT,d.state.selectedThreads.length-1],e=c[0];c=c[1];b("PagesManagerBulkActionLogger").logThreadCheckboxSelect({event_data:{thread_index:c,thread_action:e}});b("PagesManagerAction").handleThreadSelectionChange(d.props.item.thread_fbid||"",a)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a,c){a=!1;var d=b("PagesManagerStore").getViewingListItem(),e=b("PagesManagerInboxFilterStore").getActiveFolder();c.item.thread_fbid&&d&&(a=c.item.thread_fbid===d);d=b("PagesManagerStore").getThreadLabelMap();d=d&&c.item.thread_fbid?d.get(c.item.thread_fbid):null;var f=!1,g=!1,h=!1,i=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(i!=null){var j;h=(j=i.messengerConfig)==null?void 0:j.shouldUseMessengerStateForAdminAssignment;g=Boolean((j=i.messengerConfig)==null?void 0:(i=j.commerceConfig)==null?void 0:i.shouldShowBulkSelection)}else g=b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.showBulkSelection,h=b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.shouldUseMessengerStateForAdminAssignment;switch(b("PagesManagerInboxFilterStore").getActiveType()){case"MESSENGER":f=!0;break;case"INSTAGRAM_DIRECT":f=!0;h=!1;break}j=b("PagesManagerInboxFilterStore").getSearchType();return{labels:d,isViewing:a,activeFolder:e,showActions:f,searchType:j,showBulkSelection:g&&b("PagesManagerStore").isBulkSelectionMode(),selectedForBulkActions:b("PagesManagerStore").isThreadSelected(c.item.thread_fbid||""),selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),shouldUseMessengerStateForAdminAssignment:Boolean(h)}};var d=c.prototype;d.$2=function(){var a;a=b("nullthrows")((a=this.props.item)!=null?(a=a.node)!=null?(a=a.all_participants)!=null?(a=a.nodes)!=null?(a=a[0])!=null?(a=a.messaging_actor)!=null?a.id:a:a:a:a:a:a);return a};d.$4=function(){var a;a=b("nullthrows")((a=this.props.item)!=null?(a=a.content_search_result_context)!=null?a.approx_count:a:a);return a};d.$5=function(){return g._({"*":"{number} matched messages","_1":"1 matched message"},[g._plural(this.$4(),"number")])};d.render=function(){var a=this.state.commPlatformType==="WEC"?"WEC_MESSAGE":"FB_MESSAGE";if(this.state.searchType==="CONTENT"){var c,d,e;e=b("nullthrows")((e=this.props.item)!=null?(e=e.node)!=null?(e=e.all_participants)!=null?(e=e.nodes)!=null?(e=e[0])!=null?(e=e.messaging_actor)!=null?e.name:e:e:e:e:e:e);d=b("nullthrows")((d=this.props.item)!=null?(d=d.node)!=null?(d=d.all_participants)!=null?(d=d.nodes)!=null?(d=d[0])!=null?(d=d.messaging_actor)!=null?(d=d.profile_picture)!=null?d.uri:d:d:d:d:d:d:d);c=Number((c=this.props.item)!=null?(c=c.node)!=null?c.updated_time_precise:c:c);return h.jsx(b("PagesManagerInboxListRow.react"),{commPlatform:this.props.filter,commStatus:this.props.item.comm_status,commType:a,isRead:!0,isViewing:this.state.isViewing,item:this.props.item,onViewingListItem:this.$3,pageID:this.props.pageID,profilePicElement:h.jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:this.props.filter,commType:a,imageSize:this.props.imageSize,imageURI:d,showPlaceholder:!0,showPlatformBadge:this.props.showPlatformBadge}),rowIndex:this.props.rowIndex,selectionConfig:{enabled:this.state.showBulkSelection,onSelectionToggle:this.$6,selected:this.state.selectedForBulkActions},showActions:!1,snippetElement:this.$5(),subtitle:null,timestampInMS:c,title:e})}return h.jsx(b("PagesManagerInboxListRow.react"),{activeFolder:this.state.activeFolder,badgeCount:this.props.item.unread_count,commPlatform:this.props.filter,commStatus:this.props.item.comm_status,commType:a,isRead:this.props.item.unread_count===0,isViewing:this.state.isViewing,item:this.props.item,labels:this.state.labels,onViewingListItem:this.$1,pageID:this.props.pageID,profilePicElement:h.jsx(b("PagesManagerInboxMessageProfilePicContainer.react"),{commPlatform:this.props.filter,commType:a,item:this.props.item,pageID:this.props.pageID}),rowIndex:this.props.rowIndex,selectionConfig:{enabled:this.state.showBulkSelection,onSelectionToggle:this.$6,selected:this.state.selectedForBulkActions},shouldAnimate:this.props.shouldAnimate,shouldUseMessengerStateForAdminAssignment:this.state.shouldUseMessengerStateForAdminAssignment,showActions:this.state.showActions,snippet:this.props.item.snippet,snippetElement:h.jsx(b("MercuryThreadSnippet.react"),{participants:b("immutable").Map({}),shouldRenderYou:!0,thread:this.props.item,viewer:this.props.pageID}),subtitle:this.props.item.subtitle,timestampInMS:this.props.item.timestamp,titleElement:h.jsx(b("MercuryThreadTitle_DEPRECATED.react"),{thread:this.props.item,viewer:this.props.pageID})},this.props.item.thread_fbid)};return c}(h.PureComponent);c.defaultProps={imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,showPlatformBadge:!0};c.contextType=a;e.exports=b("FluxContainer").create(c,{withProps:!0,pure:!1})}),null);
__d("MediaManagerInboxPriorityMessageRow.react",["cx","MercuryIDs","MessengerState.re","PagesManagerInboxMessageListRowContainer.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.fetchThread()};d.componentDidUpdate=function(a){this.props.edges[this.props.rowIndex].id!==a.edges[a.rowIndex].id&&this.fetchThread()};d.fetchThread=function(){var a=this.props.edges[this.props.rowIndex].id;a=b("MercuryIDs").getThreadIDFromUserID(a);b("MessengerState.re").getThreadMeta(this.props.pageID,a,b("emptyFunction"),null);b("MessengerState.re").fetchMoreMessages(this.props.pageID,a,0,10,b("emptyFunction"),null,"mercury")};d.render=function(){var a=this,c=this.props.edges[this.props.rowIndex].id;return h.jsx(b("MessengerState.re").jsComponent,{fbid:this.props.pageID,children:function(d){d=b("MessengerState.re").thread(d,b("MercuryIDs").getThreadIDFromUserID(c));return d==null?h.jsx("div",{className:"_2dqm",children:h.jsxs("div",{className:"_2iwq _2dqn",children:[h.jsx("div",{className:"_2iwr"}),h.jsx("div",{className:"_2iws"}),h.jsx("div",{className:"_2iwt"}),h.jsx("div",{className:"_2iwu"}),h.jsx("div",{className:"_2iww"}),h.jsx("div",{className:"_2iwx"})]})},c):h.jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:"MESSENGER",item:d,pageID:a.props.pageID,shouldAnimate:!1},c)}})};return c}(h.Component);e.exports=a}),null);
__d("MediaManagerInboxPriorityTabTopMessageRow.react",["cx","MercuryIDs","MessengerState.re","PagesManagerInboxMessageListRowContainer.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.fetchThread()};d.componentDidUpdate=function(a){this.props.item.top_message_thread_id!==a.item.top_message_thread_id&&this.fetchThread()};d.fetchThread=function(){var a=this.props.item.top_message_thread_id;a=b("MercuryIDs").getThreadIDFromUserID(a);b("MessengerState.re").getThreadMeta(this.props.pageID,a,b("emptyFunction"),null);b("MessengerState.re").fetchMoreMessages(this.props.pageID,a,0,10,b("emptyFunction"),null,"mercury")};d.render=function(){var a=this,c=this.props.item.top_message_thread_id;return h.jsx(b("MessengerState.re").jsComponent,{fbid:this.props.pageID,children:function(d){d=b("MessengerState.re").thread(d,b("MercuryIDs").getThreadIDFromUserID(c));return d==null?h.jsx("div",{className:"_2dqm",children:h.jsxs("div",{className:"_2iwq _2dqn",children:[h.jsx("div",{className:"_2iwr"}),h.jsx("div",{className:"_2iws"}),h.jsx("div",{className:"_2iwt"}),h.jsx("div",{className:"_2iwu"}),h.jsx("div",{className:"_2iww"}),h.jsx("div",{className:"_2iwx"})]})},c):h.jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:"MEDIA_MANAGER_PRIORITY",item:d,pageID:a.props.pageID,rowIndex:a.props.rowIndex,shouldAnimate:!1},c)}})};return c}(h.Component);e.exports=a}),null);
__d("MediaManagerInboxPriorityTabRowContainer.react",["FluxContainer","MediaManagerInboxCustomTabUtils","MediaManagerInboxFBCommsTabMessageRowContainer.react","MediaManagerInboxPriorityTabActions","MediaManagerInboxPriorityTabTopMessageRow.react","PageCommItemReadEditMutation","PagesManagerAction","PagesManagerInboxListRow.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){var a=d.props.item.top_comment_content,c=a.parent_item.id;b("PagesManagerAction").viewListItem(c);b("MediaManagerInboxPriorityTabActions").onViewingPriorityItem(a.priority_type);b("PageCommItemReadEditMutation").commit({actor_id:d.props.pageID,ids:[c]})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerStore")]};c.calculateState=function(a,c){a=!1;var d=b("PagesManagerStore").getViewingListItem();c=b("MediaManagerInboxCustomTabUtils").getPriorityTabItemID(c.item);c&&d&&(a=c===d);return{isViewing:a}};var d=c.prototype;d.render=function(){switch(this.props.rowType){case"TOP_MESSAGES":return g.jsx(b("MediaManagerInboxPriorityTabTopMessageRow.react"),{item:this.props.item.top_message_content,pageID:this.props.pageID,rowIndex:this.props.rowIndex});case"TOP_COMMENTS":var a=this.props.item.top_comment_content;return g.jsx(b("PagesManagerInboxListRow.react"),{commPlatform:"MEDIA_MANAGER_PRIORITY",commStatus:a.comm_status,commType:a.comm_type,icons:a.comm_icon_type,isRead:a.parent_item.is_read,isViewing:this.state.isViewing,labels:null,pageID:this.props.pageID,profilePicElement:this.$1(),rowIndex:this.props.rowIndex,snippetWithEntities:a.top_comment_snippet,subtitle:null,timestampInMS:(a.last_modified_at||0)*1e3,title:(a=a.page_comm_item)==null?void 0:a.comm_title,onViewingListItem:this.$2});case"TOP_FB_COMMS":return g.jsx(b("MediaManagerInboxFBCommsTabMessageRowContainer.react"),{isPriorityTab:!0,item:this.props.item,pageID:this.props.pageID,rowIndex:this.props.rowIndex});default:return null}};d.$1=function(){return g.jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:"FACEBOOK",commType:"FB_PAGE_POST_COMMENT",imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURI:this.props.item.top_comment_content.thumbnail.uri,showPlatformBadge:!0})};return c}(g.Component);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerAwayToggleSubscription",["RelayFBEnvironment","RelayModern","RelayRTIGraphQLSubscriptionTopicProvider","relay-runtime","PagesManagerAwayToggleSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription;c=b("relay-runtime").getRequest;var i=g!==void 0?g:g=b("PagesManagerAwayToggleSubscription.graphql");d=c(i);f=d.params.id;f!==null&&b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(f,function(a){return"gqls/page_away_toggle_subscribe/page_id_"+a.page_id});function a(a){return h(b("RelayFBEnvironment"),{subscription:i,variables:{input:a}})}e.exports={subscribe:a}}),null);
__d("PagesManagerInboxAwayInfoContainer.react",["cx","fbt","DateTime","FDSText.react","FluxContainer","Link.react","PagesManagerInboxFilterStore","PagesManagerInboxStore","PagesTimeRangeEditorUtilities","React","RelayModern","XPagesManagerInboxController","PagesManagerInboxAwayInfoContainer_page.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getBusinessInboxAppConfig(),c="",d=!1;if(a!=null){var e;c=(e=(e=a.pageConfig)==null?void 0:e.pageName)!=null?e:"";d=((e=a.instagramDirectConfig)==null?void 0:e.showConnectButton)!==!0}else{c=(a=b("PagesManagerInboxStore").getConfig().pageName)!=null?a:"";d=(a=((e=b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT)==null?void 0:e.igAccountID)!==null)!=null?a:!1}return{commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),pageName:c,isIGDirecConnected:d}};var d=c.prototype;d.$1=function(a){a=b("DateTime").localCreate(a);var c=b("DateTime").localNow();return b("PagesTimeRangeEditorUtilities").getFormatedTime(a,c)};d.$2=function(a,c,d){if(a===null||a===void 0||a===""||c===null||c===void 0||c==="")return null;var e=j.jsx(b("Link.react"),{href:this.$3(),children:h._("Edit")});if(d==null)return h._("You're scheduled to always be away. Away messages will be sent. {linkToAwaySettings}",[h._param("linkToAwaySettings",e)]);var f=b("PagesTimeRangeEditorUtilities").getIsRequestTimeInAwayTimeRange(c,b("PagesTimeRangeEditorUtilities").getTimeRangesFromJson(a));d=b("PagesTimeRangeEditorUtilities").isTimeInAwayTimeRange(b("DateTime").create(d-1,b("PagesTimeRangeEditorUtilities").getTimezoneID(c)),c,b("PagesTimeRangeEditorUtilities").getTimeRangesFromJson(a));if(f&&d)return h._("You're scheduled to be away during this time each week. Away messages will be sent. {linkToAwaySettings}",[h._param("linkToAwaySettings",e)])};d.$3=function(){return b("XPagesManagerInboxController").getURIBuilder().setString("page_token",this.props.page.id).setEnum("section","automated_responses").setEnum("automation","away_message").getURI()};d.render=function(){if(this.state.commPlatform!=="MESSENGER"&&(this.state.commPlatform!=="INSTAGRAM_DIRECT"||this.props.shouldShowUnifiedThreadlist===!1)||this.state.commPlatform==="INSTAGRAM_DIRECT"&&this.state.isIGDirecConnected===!1)return null;var a=this.props.page,c=a.away_toggle_expiration,d=a.is_away_toggle_on,e=a.away_time_zone;a=a.away_time_range;if(d!==!0)return null;d=this.$2(a,e,c);a=null;c!==null&&c!==void 0&&c!==0?a=h._("{page name} is away until {time}.",[h._param("page name",this.state.pageName),h._param("time",this.$1(c))]):a=h._("{page name} is always away.",[h._param("page name",this.state.pageName)]);return j.jsxs("div",{className:"_2dnf",children:[j.jsx(b("FDSText.react"),{color:"negative",size:"body1",children:a}),j.jsx(b("FDSText.react"),{color:"placeholder",display:"block",size:"body3",children:d})]})};return c}(j.PureComponent);e.exports=a(b("FluxContainer").create(c),{page:i!==void 0?i:i=b("PagesManagerInboxAwayInfoContainer_page.graphql")})}),null);
__d("PagesManagerInboxAwayInfoRoot.react",["PagesManagerAwayToggleSubscription","PagesManagerInboxAwayInfoContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxAwayInfoRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&this.$1.dispose()};d.UNSAFE_componentWillMount=function(){this.$1=b("PagesManagerAwayToggleSubscription").subscribe({page_id:this.props.pageID})};d.$2=function(a){return a.props&&!a.error?h.jsx(b("PagesManagerInboxAwayInfoContainer.react"),babelHelpers["extends"]({},a.props)):null};d.render=function(){return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxAwayInfoRootQuery.graphql"),render:this.$2,variables:{pageID:this.props.pageID,shouldShowUnifiedThreadlist:this.props.shouldShowUnifiedThreadlist}})};return c}(h.PureComponent);e.exports=a}),null);
__d("BusinessToolsMegaphoneNUX.react",["cx","fbt","FDSButton.react","Image.react","React","XUICard.react","XUICloseButton.react","XUIContextualDialog.react","XUIText.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=[i.jsx(b("XUICloseButton.react"),{className:"_651v",onClick:this.props.onClose,size:"medium"},"nuxClose"),i.jsx("div",{className:"_651w",children:this.props.imageSize!=null?i.jsx(b("Image.react"),{height:this.props.imageSize,src:this.props.imageSrc,width:this.props.imageSize}):i.jsx(b("Image.react"),{src:this.props.imageSrc})},"nuxImage"),i.jsxs("div",{className:"_651u",children:[i.jsx(b("XUIText.react"),{className:"_314o",display:"block",headingLevel:1,size:"header3",weight:"bold",children:this.props.headerText}),i.jsx(b("XUIText.react"),{display:"block",size:"header4",children:this.props.bodyText}),this.props.buttonText!==void 0&&this.props.buttonText!==null&&this.props.onButtonClick?i.jsx(b("FDSButton.react"),{label:this.props.buttonText,margin:"_3-8x",onClick:this.props.onButtonClick,use:"primary"}):null]},"nuxText")];this.props.contextRef?a=i.jsx(b("XUIContextualDialog.react"),{alignment:"center",contextRef:this.props.contextRef,label:h._("Business tools megaphone"),offsetY:12,position:"above",shown:this.props.shown,width:352,children:c}):a=this.props.shown?i.jsx(b("XUICard.react"),{className:"_71q4",children:c}):null;return a};return c}(i.PureComponent);e.exports=a}),null);
__d("XPagesAutomatedResponsesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/automated_responses/{?automation}/",{page_token:{type:"String",required:!0},business_id:{type:"Int"},automation:{type:"Enum",enumType:1},use_intake_form_setup_experience:{type:"Bool",defaultValue:!1},services_referrer:{type:"Enum",defaultValue:"automated_response",enumType:1},services_referrer_surface:{type:"Enum",defaultValue:"inbox",enumType:1}})}),null);
__d("PagesManagerInboxListHeaderAutomatedFaqNux.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","MessengerSMBExperimentDebugTypedLogger","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","RelayFBEnvironment","RelayModern","URI","XPagesAutomatedResponsesController","promiseDone","PagesManagerInboxListHeaderAutomatedFaqNuxEligibleToShowQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("React"),l=b("RelayModern").fetchQuery;b("RelayModern").graphql;var m="pages_inbox_auto_response_faq";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowAutomationNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowAutomationNUX:!1})},d.$4=function(){b("PagesManagerInboxNUXAction").logClickGetStarted(d.$2()),new(b("MessengerSMBExperimentDebugTypedLogger"))().setPageID(d.props.pageID).setEvent("nux_redirection").log(),(j||(j=b("URI"))).go(b("XPagesAutomatedResponsesController").getURIBuilder().setString("page_token",d.props.pageID).setEnum("automation","custom_questions").setEnum("services_referrer","automated_response").setEnum("services_referrer_surface","inbox").getURI()),d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=this,c=b("PagesManagerInboxStore").shouldShowNUX(m);if(!c)return!1;b("promiseDone")(l(b("RelayFBEnvironment"),i!==void 0?i:i=b("PagesManagerInboxListHeaderAutomatedFaqNuxEligibleToShowQuery.graphql"),{pageID:this.props.pageID}),function(c){c=Boolean((c=c)!=null?c.eligible_to_show_faq_nux_query:c);c&&(b("PagesManagerInboxNUXAction").logView(a.$2()),a.setState({shouldShowAutomationNUX:!0}))});return!1};d.$2=function(){return b("PagesManagerInboxNUX")[m]};d.render=function(){var a=g._("Customise frequently asked questions"),c=g._("You can now suggest questions that people can ask your Page. Then set up automated responses to those questions."),d=g._("Set Up");return k.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("587530"),onButtonClick:this.$4,onClose:this.$3,shown:this.state.shouldShowAutomationNUX},"BusinessToolsMegaphoneNUX")};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderAutomationNUX.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerInboxUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesManagerInboxUtils").changeInboxTab,j=b("React"),k="pages_comms_new_automated_responses",l="business_inbox_covid_automated_response";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowAutomationNUX:d.$1(),shouldShowCOVIDAutomationNUX:d.$2()},d.$4=function(){d.state.shouldShowCOVIDAutomationNUX===!0&&(b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[l]),d.setState({shouldShowCOVIDAutomationNUX:!1})),b("PagesManagerInboxNUXAction").dismiss(d.$3()),d.setState({shouldShowAutomationNUX:!1})},d.$5=function(){i("MESSENGER","automated_responses",d.props.filterType,null,d.props.pageID),d.$4()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(k);a&&b("PagesManagerInboxNUXAction").logView(this.$3());return a};d.$2=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(l);a&&b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[l]);return a};d.$3=function(){return b("PagesManagerInboxNUX")[k]};d.render=function(){var a=this.state.shouldShowAutomationNUX===!0&&this.state.shouldShowCOVIDAutomationNUX===!1,c=a?g._("New automated responses available"):g._("Try automated responses");a=a?g._("Set up responses to automatically answer general questions and feedback about your business."):g._("Set up automated responses on Instagram and Messenger to easily answer questions, help people learn about your operations and connect even when you're not available.");var d=g._("Set up automated responses");return j.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:a,buttonText:d,headerText:c,imageSrc:h("587530"),onButtonClick:this.$5,onClose:this.$4,shown:this.state.shouldShowAutomationNUX||this.state.shouldShowCOVIDAutomationNUX},"BusinessToolsMegaphoneNUX")};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderInstagramDirectNux.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerInboxUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesManagerInboxUtils").changeInboxTab,j=b("React"),k="page_inbox_instagram_direct_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowInstagramDirectNux:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowInstagramDirectNux:!1})},d.$4=function(){i("INSTAGRAM_DIRECT","messages",d.props.filterType,null,d.props.pageID),b("PagesManagerInboxNUXAction").logClickGetStarted(d.$2()),d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(k);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[k]};d.render=function(){var a=g._("Manage Instagram messages in Inbox"),c=g._("You can now read and respond to Instagram Direct messages from Inbox."),d=g._("Get Started");return j.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("895232"),onButtonClick:this.$4,onClose:this.$3,shown:this.state.shouldShowInstagramDirectNux},"BusinessToolsMegaphoneNUX")};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderPersonaNUX.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XPagesManagerSettingsController"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="www_page_messaging_persona_entrybutton";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowPersonaNUX:d.$1()},d.$4=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowPersonaNUX:!1})},d.$5=function(){b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",d.props.pageID).setString("tab","admin_roles").getURI().setFragment("PERSONAS").go(),d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(j);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[j]};d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(this.$2())};d.render=function(){var a=g._("Tell customers who's sending them messages"),c=g._("Choose a display name and photo to tell people when you're sending messages on behalf of the Page."),d=g._("Set Up Display Name");return i.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("616182"),onButtonClick:this.$5,onClose:this.$4,shown:this.state.shouldShowPersonaNUX},"BusinessToolsMegaphoneNUX")};return c}(i.PureComponent);e.exports=a}),null);
__d("MediaManagerInboxFocusCommentAction",["PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a={setPostWithFocusCommentID:function(a,c){b("PagesManagerDispatcher").dispatch({type:b("PagesManagerActionType").LIST.VIEW,postID:a,focusCommentID:c})}};e.exports=a}),null);
__d("PageCommItemPartReadEditMutation",["RelayFBEnvironment","RelayModern","PageCommItemPartReadEditMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PageCommItemPartReadEditMutation.graphql");function a(a){var c=a.ids.map(function(a){return{id:a,is_read:!0}});return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:{page_comm_item_part_mark_as_read:{page_comm_item_parts:c}},variables:{input:{actor_id:a.actor_id,ids:a.ids}}})}e.exports={commit:a}}),null);
__d("PagesManagerInboxListRowContainer.react",["FluxContainer","MediaManagerInboxFocusCommentAction","MediaManagerInboxFocusCommentStore","MediaManagerInboxLoggerActions","MediaManagerUtils","PageCommItemFolder","PageCommItemPartReadEditMutation","PageCommItemReadEditMutation","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxInstagramPostComposerActions","PagesManagerInboxListRow.react","PagesManagerInboxStore","PagesManagerStore","React","RelayModern","PagesManagerInboxListRowContainer_item.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props.item.id;d.props.item.is_read!==!0&&a!=null&&(d.props.item.__typename==="PageCommItemPart"?b("PageCommItemPartReadEditMutation").commit({actor_id:d.props.pageID,ids:[a]}):b("PageCommItemReadEditMutation").commit({actor_id:d.props.pageID,ids:[a]}));if(d.props.item.__typename==="PageCommItemPart"){var c;a=(c=d.props.item.parent_item)==null?void 0:c.id;a!=null&&(d.state.filter===b("PageCommItemFolder").MEDIA_MANAGER_STARS_COMMENT||d.state.filter===b("PageCommItemFolder").PRIORITY)&&b("MediaManagerInboxFocusCommentAction").setPostWithFocusCommentID(a,d.props.item.comm_source_id)}c=d.props.rowIndex;b("MediaManagerUtils").isMediaManagerApp()&&c!=null&&b("MediaManagerInboxLoggerActions").logListRowIndex(c);b("PagesManagerAction").viewListItem(a);b("PagesManagerInboxInstagramPostComposerActions").clearMessage()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerStore"),b("PagesManagerInboxStore"),b("MediaManagerInboxFocusCommentStore")]};c.calculateState=function(a,c){a=!1;var d=b("PagesManagerStore").getViewingListItem();if(c.item.id!=null&&c.item.id!==""&&d!=null&&d!==""){var e=b("MediaManagerInboxFocusCommentStore").get(d);e=e===c.item.comm_source_id&&b("MediaManagerUtils").isMediaManagerApp();a=c.item.id===d||((c=c.item.parent_item)==null?void 0:c.id)===d&&e}c=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];return{filter:b("PagesManagerInboxFilterStore").getActiveFolder(),isViewing:a,shouldShowIGRevampComments:!!c.shouldShowIGRevampComments}};var d=c.prototype;d.render=function(){var a;return h.jsx(b("PagesManagerInboxListRow.react"),{badgeCount:this.props.item.unread_count||0,commPlatform:this.props.item.comm_platform,commStatus:this.props.item.comm_status,commType:this.props.item.comm_type,icons:this.props.item.comm_icon_type,igRevampSnippetWithEntities:this.props.item.ig_revamp_snippet_with_entities,isRead:!!this.props.item.is_read,isViewing:this.state.isViewing,item:this.props.item,onViewingListItem:this.$1,pageID:this.props.pageID,rowIndex:this.props.rowIndex,shouldAnimate:this.props.shouldAnimate,shouldShowIGRevampComments:this.state.shouldShowIGRevampComments,showActions:!0,snippetWithEntities:this.state.filter===b("PageCommItemFolder").PRIORITY||this.state.filter===b("PageCommItemFolder").MEDIA_MANAGER_STARS_COMMENT?this.props.item.top_comment_snippet:this.props.item.snippet_with_entities,subtitle:this.props.item.subtitle,timestampInMS:(this.props.item.last_modified_at||0)*1e3,title:this.state.filter===b("PageCommItemFolder").PRIORITY||this.state.filter===b("PageCommItemFolder").MEDIA_MANAGER_STARS_COMMENT?(a=this.props.item.page_comm_item)==null?void 0:a.comm_title:this.props.item.comm_title!==null&&this.props.item.comm_title!==void 0&&this.props.item.comm_title!==""?this.props.item.comm_title:"Facebook User"},this.props.item.id)};return c}(h.Component);e.exports=a(b("FluxContainer").create(c,{withProps:!0,pure:!1}),{item:g!==void 0?g:g=b("PagesManagerInboxListRowContainer_item.graphql")})}),null);
__d("MediaManagerInboxList.react",["cssVar","MediaManagerInboxCustomTabUtils","MediaManagerInboxFBCommsTabMessageRowContainer.react","MediaManagerInboxPriorityMessageRow.react","MediaManagerInboxPriorityTabRowContainer.react","MediaManagerUtils","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAwayInfoRoot.react","PagesManagerInboxFilterStore","PagesManagerInboxListHeaderAutomatedFaqNux.react","PagesManagerInboxListHeaderAutomationNUX.react","PagesManagerInboxListHeaderInstagramDirectNux.react","PagesManagerInboxListHeaderPersonaNUX.react","PagesManagerInboxListRowContainer.react","PagesManagerInboxListSpinner.react","PagesManagerInboxMercuryUtil","PagesManagerInboxMessageListRowContainer.react","PagesMessagingInboxActionLogger","PagesMessagingPerfTypedLogger","PagesSelectableSimpleList.react","QuickPerformanceLogger","React","ResponsiveBlock.react","debounce"],(function(a,b,c,d,e,f,g){"use strict";var h=b("MediaManagerUtils").isMediaManagerApp,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){return a.call(this,b,c)||this}var d=c.prototype;d.componentDidMount=function(){this.props.height!==0&&this.props.edges.length>0&&this.$1(),b("PagesMessagingInboxActionLogger").logInitialListRendered(this.props.filterType,this.props.pageID)};d.$1=function(){if(this.props.loadEndEventLogged===!0||this.props.loadStartTime===void 0||this.props.loadStartTime===null||this.props.logLoadEndEvent===null)return;var a=this.props.loadStartTime;a=new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setPerfTime(Date.now()-a);this.props.filterType==="MESSENGER"&&(b("QuickPerformanceLogger").annotateMarkerString(36241413,"page_id",this.props.pageID),b("QuickPerformanceLogger").markerEnd(36241413,2),a.setEventName("threadlist_render_complete").setPlatform("MESSENGER").log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent());this.props.filterType==="FACEBOOK"&&(a.setEventName("comment_list_render_complete_event").setPlatform("FACEBOOK").log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent())};d.$2=function(a,c){b("PagesManagerAction").setListHeaderHeight(c)};d.$3=function(){return i.jsx(b("ResponsiveBlock.react"),{onResize:this.$2,children:i.jsx(b("PagesManagerInboxAwayInfoRoot.react"),{pageID:this.props.pageID,shouldShowUnifiedThreadlist:!1})})};d.render=function(){var a=this.props.height-this.props.paddingBottom;return this.props.edges.length?i.jsxs("div",{children:[this.$3(),i.jsxs(b("ResponsiveBlock.react"),{onResize:this.$2,children:[i.jsx(b("PagesManagerInboxListHeaderPersonaNUX.react"),{pageID:this.props.pageID}),i.jsx(b("PagesManagerInboxListHeaderAutomationNUX.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),i.jsx(b("PagesManagerInboxListHeaderInstagramDirectNux.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),i.jsx(b("PagesManagerInboxListHeaderAutomatedFaqNux.react"),{filterType:this.props.filterType,pageID:this.props.pageID})]}),i.jsx(j,{classProps:this.props,edges:this.props.edges,hasMore:this.props.hasMore,platform:this.props.filterType,scrollHeight:a})]}):i.jsxs("div",{style:{height:a,backgroundColor:"#FFFFFF"},children:[this.$3(),this.props.emptyState]})};return c}(i.PureComponent);function j(a){var c=a.edges;b("PagesManagerInboxFilterStore").getActiveFolder()===b("PageCommItemFolder").FOLLOW_UP&&b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER"&&(c=c.filter(function(a){return a.is_page_follow_up===!0}));return i.jsx(b("PagesSelectableSimpleList.react"),{canLoadMoreRows:a.hasMore,height:a.scrollHeight,loadingIndicator:i.jsx(b("PagesManagerInboxListSpinner.react"),{}),rowCount:c.length,rowHeight:parseInt("80px",10),rowKeyGetter:l(c,a.platform),rowRenderer:m(c,a.classProps),showHeader:!1,onRequestMoreRows:k(a.classProps.onLoadMore)})}function k(a){return b("debounce")(function(){return a()},100)}function l(a,c){return function(d,e,f){e===void 0;if(b("PagesManagerInboxMercuryUtil").shouldUseMercury())return a[d].thread_id;return c==="MEDIA_MANAGER_PRIORITY"?b("MediaManagerInboxCustomTabUtils").getPriorityRowKey(a[d].node):a[d].node.id}}function m(a,c){var d=c.pageID,e=c.filterType,f=c.isCreatorStudioPriorityFilter;return function(c,g,j){if(b("PagesManagerInboxMercuryUtil").shouldUseMercury())return e==="MESSENGER"&&f&&b("MediaManagerUtils").isMediaManagerApp()?i.jsx(b("MediaManagerInboxPriorityMessageRow.react"),{edges:a,pageID:d,rowIndex:c}):i.jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:e,item:a[c],pageID:d,rowIndex:c,shouldAnimate:!1},a[c].id);if(e==="MEDIA_MANAGER_PRIORITY")return i.jsx(b("MediaManagerInboxPriorityTabRowContainer.react"),{item:a[c].node,pageID:d,rowIndex:c,rowType:a[c].node.row_type});return e==="MEDIA_MANAGER_FB_COMMS"&&h()?i.jsx(b("MediaManagerInboxFBCommsTabMessageRowContainer.react"),{isPriorityTab:!1,item:a[c],pageID:d,rowIndex:c}):i.jsx(b("PagesManagerInboxListRowContainer.react"),{item:a[c].node,pageID:d,rowIndex:c,shouldAnimate:!1},a[c].node.id)}}e.exports=a}),null);
__d("MediaManagerInboxFBCommsTabList.react",["MediaManagerInboxFBCommsActions","MediaManagerInboxList.react","PageCommItemFolder","PagesManagerAction","PagesManagerInboxListEmptyState.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("MediaManagerInboxFBCommsActions").loadMoreFBCommsMessages,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){g(c.props.pageID)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){if(this.props.viewingItem==null){var a=this.props.messages[0]?this.props.messages[0].node.id:null;a!=null&&b("PagesManagerAction").viewListItem(a)}};d.render=function(){return h.jsx(b("MediaManagerInboxList.react"),{edges:this.props.messages,emptyState:h.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:b("PageCommItemFolder").MEDIA_MANAGER_FB_COMMS,pageID:this.props.pageID,platform:"MEDIA_MANAGER_FB_COMMS"}),filterType:"MEDIA_MANAGER_FB_COMMS",hasMore:this.props.hasNextPage,height:this.props.height,isCreatorStudioPriorityFilter:!1,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:!1,onLoadMore:this.$1})};return c}(h.Component);e.exports=a}),null);
__d("MediaManagerInboxFBCommsTabListContainer.react",["FluxContainer","LoadObject","MediaManagerFBCommsStore","MediaManagerInboxFBCommsTabList.react","PagesManagerInboxListLoading.react","PagesManagerStore","React","loadObjectComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=260;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={messagesObject:b("LoadObject").loading(),viewingItem:null},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("MediaManagerFBCommsStore"),b("PagesManagerStore")]};c.calculateState=function(a,c){a=b("MediaManagerFBCommsStore").get(c.pageID);c=b("PagesManagerStore").getViewingListItem();return{messagesObject:a,viewingItem:c}};var d=c.prototype;d.render=function(){return g.jsx(i,{height:this.props.height,object:this.state.messagesObject,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,viewingItem:this.state.viewingItem})};return c}(g.PureComponent);var i=b("loadObjectComponent")({loading:function(){return g.jsx(b("PagesManagerInboxListLoading.react"),{height:h})},error:function(){return null},loaded:function(a,c){return g.jsx(b("MediaManagerInboxFBCommsTabList.react"),{hasNextPage:!!a.hasNextPage,height:c.height,messages:a.messages.toArray(),paddingBottom:c.paddingBottom,pageID:c.pageID,viewingItem:c.viewingItem})}});e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaManagerInboxPlusPriorityEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"NONE",TOP_MESSAGES:"TOP_MESSAGES",TOP_COMMENTS:"TOP_COMMENTS",TOP_FB_COMMS:"TOP_FB_COMMS",ALL:"ALL"})}),null);
__d("MediaManagerInboxPriorityTabPaginationList.react",["MediaManagerInboxCustomTabUtils","MediaManagerInboxList.react","MediaManagerInboxPlusPriorityEnum","MediaManagerInboxPriorityTabActions","PageCommItemFolder","PagesManagerAction","PagesManagerInboxListEmptyState.react","React","RelayModern","emptyFunction","MediaManagerInboxPriorityTabPaginationList_viewer.graphql","MediaManagerInboxPriorityTabPaginationListPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isLoading:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.render=function(){var a=this,c,d=[];c=(c=this.props)!=null?(c=c.viewer)!=null?(c=c.inbox_priority_rows)!=null?c.edges:c:c:c;c&&(d=c.map(function(b){if(b.node!=null&&b.node.row_type==="TOP_FB_COMMS"){var c=null,d=null,e=null,f=null,g=null,h=null,i=!1,j=null,k=null,l=b.node;if(l.__typename==="InboxAYMTRow"){var m=l.content;c=m==null?void 0:m.id;d=m==null?void 0:m.tip_name;e=m==null?void 0:m.title;f=m==null?void 0:m.body;g=m==null?void 0:m.button_label;h=m==null?void 0:m.button_uri;i=!!(m==null?void 0:m.should_load_uri_in_same_window);j=m==null?void 0:m.validation_timestamp;k=m==null?void 0:m.clicked_timestamp}else if(l.__typename==="InboxNotifRow"){var n;m=l.ent_notif;c=m==null?void 0:m.id;d="";e=m==null?void 0:(n=m.body)==null?void 0:n.text;f="";g="go";h=m==null?void 0:m.url;j=m==null?void 0:m.notif_sent_time;k=m==null?void 0:m.first_read_time}return{node:{row_type:l.row_type,$2:l.__typename,node:{id:c,pageID:a.props.pageID,tipName:d,title:e,body:f,cta:{label:g,action:h,shouldLoadInSameWindow:i},validationTime:j,clickedTime:k,productType:"MONETIZATION"}}}}return b}),d=d.filter(function(a){return!!a.node}));return i.jsx(b("MediaManagerInboxList.react"),{edges:d,emptyState:i.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:this.props.folder,pageID:this.props.pageID,platform:"MEDIA_MANAGER_PRIORITY"}),filterType:"MEDIA_MANAGER_PRIORITY",hasMore:!1,height:this.props.height,isCreatorStudioPriorityFilter:this.props.folder===b("PageCommItemFolder").PRIORITY,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:!1,onLoadMore:b("emptyFunction")},"list"+this.props.folder)};d.$1=function(){var a,c=[];a=(a=this.props)!=null?(a=a.viewer)!=null?(a=a.inbox_priority_rows)!=null?a.edges:a:a:a;a&&(c=a.filter(function(a){return!!a.node}));a=b("MediaManagerInboxCustomTabUtils").getPriorityTabItemID((a=c[0])==null?void 0:a.node);c=b("MediaManagerInboxCustomTabUtils").getPriorityTabItemRowType((c=c[0])==null?void 0:c.node);a!=null?(b("PagesManagerAction").viewListItem(a),b("MediaManagerInboxPriorityTabActions").onViewingPriorityItem(c)):b("PagesManagerAction").clearViewListItem()};return c}(i.Component);e.exports=a(c,{viewer:g!==void 0?g:g=b("MediaManagerInboxPriorityTabPaginationList_viewer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.viewer)!=null?a.inbox_priority_rows:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=a.page_id;a=a.row_type;var d=b.count;b=b.cursor;return{count:d,cursor:b,page_id:c,row_type:a}},query:h!==void 0?h:h=b("MediaManagerInboxPriorityTabPaginationListPaginationQuery.graphql")})}),null);
__d("MediaManagerInboxPriorityTabListContainer.react",["ErrorBoundary.react","FluxContainer","MediaManagerInboxCustomTabUtils","MediaManagerInboxPriorityTabPaginationList.react","PagesManagerInboxFilterStore","PagesManagerInboxListLoading.react","React","RelayFBEnvironment","RelayModern","emptyFunction","MediaManagerInboxPriorityTabListContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFilterStore")]};c.calculateState=function(){return{folder:b("PagesManagerInboxFilterStore").getActiveFolder()}};var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("ErrorBoundary.react"),{onHandleError:b("emptyFunction"),children:h.jsx(i,{environment:b("RelayFBEnvironment"),query:g!==void 0?g:g=b("MediaManagerInboxPriorityTabListContainerQuery.graphql"),render:function(c){var d=c.error;c=c.props;if(c&&!d){d=!d&&c&&c.viewer?c.viewer:null;return h.jsx(b("MediaManagerInboxPriorityTabPaginationList.react"),{folder:a.state.folder,height:a.props.height,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID,viewer:d})}return h.jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})},variables:{page_id:this.props.pageID,row_type:b("MediaManagerInboxCustomTabUtils").getPriorityTabGraphQLFilter(this.state.folder)}})})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MediaManagerInboxCustomTabMessageList.react",["MediaManagerInboxFBCommsTabListContainer.react","MediaManagerInboxPriorityTabListContainer.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){switch(this.props.tab){case"MEDIA_MANAGER_PRIORITY":return g.jsx(b("MediaManagerInboxPriorityTabListContainer.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID});case"MEDIA_MANAGER_FB_COMMS":return g.jsx(b("MediaManagerInboxFBCommsTabListContainer.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID});default:return null}};return c}(g.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderAutomatedCheckoutNUX.react",["fbt","BusinessToolsMegaphoneNUX.react","MessengerAdsConversionFunnelTypedLogger","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","SavedResponsesUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="business_inbox_automated_checkout",j="create",k="dismiss";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNUX:d.$1()},d.$4=function(){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_nux_click").setConversionType("BUYER_INFORMATION").setEventSubtype(k).setPageID(d.props.pageID).log(),d.$3()},d.$5=function(){new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_nux_click").setConversionType("BUYER_INFORMATION").setEventSubtype(j).setPageID(d.props.pageID).log(),b("SavedResponsesUtils").editAutomatedCheckout(),d.$3(),b("SavedResponsesUtils").editAutomatedCheckout()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&(new(b("MessengerAdsConversionFunnelTypedLogger"))().setName("buyer_information_nux_impression").setConversionType("BUYER_INFORMATION").setPageID(this.props.pageID).log(),b("PagesManagerInboxNUXAction").logView(this.$2()));return a};d.$2=function(){return b("PagesManagerInboxNUX")[i]};d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(this.$2()),this.setState({shouldShowNUX:!1})};d.render=function(){var a=g._("Gather buyer information faster"),c=g._("Set up a sequence of questions to ask before someone makes a purchase."),d=g._("Create");return h.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,onButtonClick:this.$5,onClose:this.$4,shown:this.state.shouldShowNUX},"BusinessToolsMegaphoneNUX")};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderBizWebUpsellNUX.react",["fbt","ix","AsyncRequest","BizKitGating","BizKitUpsellUtils","BusinessToolsMegaphoneNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XBizKitUpsellStatusUpdateController","XBizKitController","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("BizKitGating").getShouldGoToBizWebFromUpsell,j=b("BizKitUpsellUtils").openDialog,k=b("React"),l="bizweb_inbox_upsell_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowNUX:!1})},d.$4=function(){var a=i(),c=b("XBizKitUpsellStatusUpdateController").getURIBuilder().setBool("is_on_waitlist",!a).setFBID("page_id",d.props.pageID).getURI();b("promiseDone")(new(b("AsyncRequest"))(c).setMethod("POST").exec(),function(c){if(a===!0){c=c==null?void 0:(c=c.payload)==null?void 0:c.bpnID;var d=b("XBizKitController").getURIBuilder().getURI();d=d.toString().concat("/inbox").concat(c!=null?"?bpn_id=".concat(c):"");window.open(d,"_blank")}else j()});b("PagesManagerInboxNUXAction").logClickGetStarted(d.$2());b("PagesManagerInboxNUXAction").logDismissOnlyForFBNux(d.$2());d.setState({shouldShowNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(l);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[l]};d.render=function(){var a=g._("Try a new way to manage your business"),c=g._("You'll be able to post to Facebook and Instagram at the same time, see updates at a glance and get insights in one place."),d=g._("Try new experience");return k.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("1353564"),onButtonClick:this.$4,onClose:this.$3,shown:this.state.shouldShowNUX},"BusinessToolsMegaphoneNUX")};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxList.react",["cssVar","BIZInboxClientLogger","MediaManagerInboxPriorityMessageRow.react","MediaManagerUtils","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAwayInfoRoot.react","PagesManagerInboxFilterStore","PagesManagerInboxListHeaderAutomatedCheckoutNUX.react","PagesManagerInboxListHeaderAutomatedFaqNux.react","PagesManagerInboxListHeaderAutomationNUX.react","PagesManagerInboxListHeaderBizWebUpsellNUX.react","PagesManagerInboxListHeaderInstagramDirectNux.react","PagesManagerInboxListHeaderPersonaNUX.react","PagesManagerInboxListRowContainer.react","PagesManagerInboxListSpinner.react","PagesManagerInboxMercuryUtil","PagesManagerInboxMessageListRowContainer.react","PagesMessagingInboxActionLogger","PagesMessagingPerfTypedLogger","PagesSelectableSimpleList.react","QuickPerformanceLogger","React","ResponsiveBlock.react","debounce"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c){return a.call(this,b,c)||this}var d=c.prototype;d.componentDidMount=function(){this.props.height!==0&&this.props.edges.length>0&&this.$1(),b("PagesMessagingInboxActionLogger").logInitialListRendered(this.props.filterType,this.props.pageID),b("BIZInboxClientLogger").logThreadListRenderView(this.props.pageID,this.props.filterType)};d.$1=function(){if(this.props.loadEndEventLogged===!0||this.props.loadStartTime===void 0||this.props.loadStartTime===null||this.props.logLoadEndEvent===null)return;var a=this.props.loadStartTime;a=new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setPerfTime(Date.now()-a);this.props.filterType==="MESSENGER"&&(b("QuickPerformanceLogger").annotateMarkerString(36241413,"page_id",this.props.pageID),b("QuickPerformanceLogger").markerEnd(36241413,2),a.setEventName("threadlist_render_complete").setPlatform("MESSENGER").log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent());this.props.filterType==="FACEBOOK"&&(a.setEventName("comment_list_render_complete_event").setPlatform("FACEBOOK").log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent())};d.$2=function(a,c){b("PagesManagerAction").setListHeaderHeight(c)};d.$3=function(){return h.jsx(b("ResponsiveBlock.react"),{onResize:this.$2,children:h.jsx(b("PagesManagerInboxAwayInfoRoot.react"),{pageID:this.props.pageID,shouldShowUnifiedThreadlist:!1})})};d.render=function(){var a=this.props.height-this.props.paddingBottom;return this.props.edges.length?h.jsxs("div",{children:[this.$3(),h.jsxs(b("ResponsiveBlock.react"),{onResize:this.$2,children:[h.jsx(b("PagesManagerInboxListHeaderBizWebUpsellNUX.react"),{pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderPersonaNUX.react"),{pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderAutomationNUX.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderInstagramDirectNux.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderAutomatedFaqNux.react"),{filterType:this.props.filterType,pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderAutomatedCheckoutNUX.react"),{pageID:this.props.pageID})]}),h.jsx(i,{classProps:this.props,edges:this.props.edges,hasMore:this.props.hasMore,scrollHeight:a})]}):h.jsxs("div",{style:{height:a,backgroundColor:"#FFFFFF"},children:[this.$3(),this.props.emptyState]})};return c}(h.PureComponent);function i(a){var c=a.edges;b("PagesManagerInboxFilterStore").getActiveFolder()===b("PageCommItemFolder").FOLLOW_UP&&b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER"&&(c=c.filter(function(a){return a.is_page_follow_up===!0}));return h.jsx(b("PagesSelectableSimpleList.react"),{canLoadMoreRows:a.hasMore,height:a.scrollHeight,loadingIndicator:h.jsx(b("PagesManagerInboxListSpinner.react"),{}),onRequestMoreRows:j(a.classProps.onLoadMore),rowCount:c.length,rowHeight:parseInt("80px",10),rowKeyGetter:k(c),rowRenderer:l(c,a.classProps),showHeader:!1})}function j(a){return b("debounce")(function(){return a()},100)}function k(a){return function(c,d,e){d===void 0;return b("PagesManagerInboxMercuryUtil").shouldUseMercury()?a[c].thread_id:a[c].node.id}}function l(a,c){var d=c.pageID,e=c.filterType,f=c.isCreatorStudioPriorityFilter;return function(c,g,i){return b("PagesManagerInboxMercuryUtil").shouldUseMercury()?e==="MESSENGER"&&f&&b("MediaManagerUtils").isMediaManagerApp()?h.jsx(b("MediaManagerInboxPriorityMessageRow.react"),{edges:a,pageID:d,rowIndex:c}):h.jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:e,item:a[c],pageID:d,rowIndex:c,shouldAnimate:!1},a[c].id):h.jsx(b("PagesManagerInboxListRowContainer.react"),{item:a[c].node,pageID:d,rowIndex:c,shouldAnimate:!1},a[c].node.id)}}e.exports=a}),null);
__d("MediaManagerInboxPriorityMessageUserList",["PageCommItemFolder","PagesManagerAction","PagesManagerInboxList.react","PagesManagerInboxListEmptyState.react","PagesManagerInboxListLoading.react","PagesManagerStore","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){var c=b("PagesManagerStore").getViewingListItem();if(c==null&&a.users.length>0){c=a.users[0];c!=null&&b("PagesManagerAction").viewListItem(c)}c=a.users.map(function(a){return{id:a}});return a.isLoading?g.jsx(b("PagesManagerInboxListLoading.react"),{height:a.height}):g.jsx(b("PagesManagerInboxList.react"),{edges:c,emptyState:g.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:a.folder,pageID:a.pageID,platform:"MESSENGER"}),filterType:"MESSENGER",hasMore:!1,height:a.height,isCreatorStudioPriorityFilter:a.folder===b("PageCommItemFolder").PRIORITY,paddingBottom:a.paddingBottom,pageID:a.pageID,shouldShowPromoteButton:!1,onLoadMore:b("emptyFunction")},"list"+a.folder)};e.exports=a}),null);
__d("MediaManagerInboxPriorityMessageListContainer.react",["CreatorStudioInboxMessengerRankedUsersStore","FluxContainer","MediaManagerInboxPriorityMessageUserList","PagesManagerInboxFilterStore","PagesManagerInboxListEmptyState.react","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore"),b("CreatorStudioInboxMessengerRankedUsersStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getConfig(),c=b("PagesManagerInboxFilterStore").getActiveFolder(),d=b("CreatorStudioInboxMessengerRankedUsersStore").getRankedUserIDs(a.pageID),e=b("CreatorStudioInboxMessengerRankedUsersStore").isLoading();return{folder:c,isLoading:e,shouldShowRankedUserList:a.fbMessengerState!=="DISABLED",users:d}};var d=c.prototype;d.render=function(){return!this.state.shouldShowRankedUserList?g.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:this.state.folder,pageID:this.props.pageID,platform:"MESSENGER"}):g.jsx(b("MediaManagerInboxPriorityMessageUserList"),{folder:this.state.folder,height:this.props.height,isLoading:this.state.isLoading,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,users:this.state.users})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxSearchResultListRow.react",["BulkActionsContext","BulkSelectionThreadAction","PagesManagerAction","PagesManagerBulkActionLogger","PagesManagerInboxFilterAction","PagesManagerInboxListRow.react","PagesManagerInboxMercuryUtil","PagesManagerInboxProfilePicContainer.react","PagesMessagingInboxActionLogger","React","RelayModern","nullthrows","PagesManagerInboxSearchResultListRow_customerComm.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=d.context.selectedThreads;c=a?[b("BulkSelectionThreadAction").SELECT,c.length]:[b("BulkSelectionThreadAction").UNSELECT,c.length-1];var e=c[0];c=c[1];b("PagesManagerBulkActionLogger").logThreadCheckboxSelect({event_data:{thread_index:c,thread_action:e}});b("PagesManagerAction").handleThreadSelectionChange(d.props.customerComm.target_id||"",a)},d.$3=function(){var a;b("PagesManagerInboxFilterAction").changePlatform(d.props.platform);b("PagesMessagingInboxActionLogger").logSearchResultOpened(d.props.platform,"CUSTOMER",(a=d.$2())!=null?a:"");b("PagesManagerAction").viewListItem(d.$2())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c,d,e,f=this.context,g=f.showBulkSelection;f=f.selectedThreads;e=b("nullthrows")((e=this.props)!=null?(e=e.customerComm)!=null?e.comm_title:e:e);d=Number((d=this.props)!=null?(d=d.customerComm)!=null?d.last_modified_at:d:d);c=b("nullthrows")((c=this.props)!=null?(c=c.customerComm)!=null?c.snippet_with_entities:c:c);return h.jsx(b("PagesManagerInboxListRow.react"),{commPlatform:this.props.customerComm.comm_platform,commStatus:this.props.customerComm.comm_status,commType:this.props.customerComm.comm_type,hasPageReplied:this.props.hasPageReplied,isRead:!0,isViewing:this.$2()===this.props.viewingItem,item:this.props.customerComm,labels:this.props.labels,onViewingListItem:this.$3,pageID:this.props.pageID,profilePicElement:h.jsx(b("PagesManagerInboxProfilePicContainer.react"),{item:this.props.customerComm}),selectionConfig:{enabled:g,onSelectionToggle:this.$1,selected:!!f.find(function(b){return b===a.props.customerComm.target_id||""})},showActions:!1,snippetWithEntities:c,subtitle:null,timestampInMS:d*1e3,title:e})};d.$2=function(){if(this.props.customerComm.comm_type==="FB_MESSAGE"&&b("PagesManagerInboxMercuryUtil").shouldUseMercury()){var a;return(a=this.props)!=null?(a=a.customerComm)!=null?a.target_id:a:a}else{a=(a=this.props)!=null?(a=a.customerComm)!=null?(a=a.parent_item)!=null?a.id:a:a:a;return a!==null&&a!==void 0&&a!==""?a:(a=this.props)!=null?(a=a.customerComm)!=null?a.id:a:a}};return c}(h.PureComponent);c.contextType=b("BulkActionsContext");e.exports=a(c,{customerComm:g!==void 0?g:g=b("PagesManagerInboxSearchResultListRow_customerComm.graphql")})}),null);
__d("PagesManagerInboxSearchResultsFacebookList.react",["cx","fbt","OnVisible.react","PagesManagerInboxListSpinner.react","PagesManagerInboxSearchResultListRow.react","React","RelayModern","emptyFunction","nullthrows","PagesManagerInboxSearchResultsFacebookList_pageCustomer.graphql","PagesManagerInboxSearchResultsFacebookListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=20;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(l,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c,d;d=(d=this.props.pageCustomer)!=null?(d=d.facebook_comms)!=null?d.edges:d:d;if(!d||!d.length)return null;var e=b("nullthrows")((c=this.props.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c);return k.jsxs("div",{children:[this.$1(),d.map(function(c){c=b("nullthrows")(c.node);return k.jsx(b("PagesManagerInboxSearchResultListRow.react"),{customerComm:c,pageID:e,platform:"FACEBOOK",viewingItem:a.props.viewingItem},c.id)}),this.$2()]})};d.$1=function(){return this.props.isLabelSearch?k.jsx("div",{className:"_7zk3",children:h._("FACEBOOK COMMENTS")}):k.jsx("div",{className:this.props.titleClassName,children:h._("Facebook posts and comments")})};d.$2=function(){return!this.props.relay.hasMore()?null:k.jsx(b("OnVisible.react"),{onVisible:this.$3,children:k.jsx(b("PagesManagerInboxListSpinner.react"),{})})};return c}(k.PureComponent);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxSearchResultsFacebookList_pageCustomer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.pageCustomer)!=null?a.facebook_comms:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,pageCustomerID:a.pageCustomer.id}},query:j!==void 0?j:j=b("PagesManagerInboxSearchResultsFacebookListPaginationQuery.graphql")})}),null);
__d("IGDirectMessageThreadPreviewView.react",["ix","cx","fbt","Image.react","React","asset","cxMargin","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k="HIGHLIGHT_STORY",l="REACTION",m="REPLY";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c,d,e=this.props.item.sender_id===this.props.igID;switch(this.props.item.ig_item_type){case"TEXT":return j.jsx("div",{children:e?j.jsxs("span",{children:[i._("You:")," ",(d=this.props.item)!=null?d.text:d]}):j.jsx("span",{children:(d=this.props.item)!=null?d.text:d})});case"LINK":d=b("nullthrows")((d=this.props)!=null?(d=d.item)!=null?(d=d.link_source)!=null?d.text:d:d:d);return j.jsx("div",{children:e?j.jsxs("span",{children:[i._("You:")," ",d]}):j.jsx("span",{children:d})});case"ANIMATED_MEDIA":return j.jsx("div",{children:e?i._("You shared a GIF."):i._("Shared a GIF.")});case"MEDIA":d=(d=this.props.item)!=null?(d=d.ig_thread_item_media)!=null?d.media_type:d:d;switch(d){case"IMAGE":return e?i._("You sent a photo"):i._("Sent a photo");case"VIDEO":return e?i._("You sent a video"):i._("Sent a video")}break;case"MEDIA_SHARE":return e?i._("You sent a post"):i._("Sent a post");case"STORY_SHARE":d=(d=this.props.item)!=null?(d=d.share)!=null?d.story_type:d:d;c=(c=this.props.item)!=null?(c=c.share)!=null?(c=c.user)!=null?c.username:c:c:c;a=(a=this.props.item)!=null?(a=a.share)!=null?a.title:a:a;if(c===null)return a;if(d==="USER_STORY"||d==="ADS_STORY")if(e)return i._("You sent {username}'s story",[i._param("username",c)]);else return i._("Sent {username}'s story",[i._param("username",c)]);if(e)return i._("You sent {username}'s story highlight",[i._param("username",c)]);else return i._("Sent {username}'s story highlight",[i._param("username",c)]);case"FELIX_SHARE":if(e)return i._("You shared an IGTV video");else return i._("Shared an IGTV video");case"RAVEN_MEDIA":d=(a=this.props.item)!=null?(a=a.raven_media)!=null?a.media_type:a:a;switch(d){case"IMAGE":return e?i._("You sent a photo"):i._("Sent a photo");case"VIDEO":return e?i._("You sent a video"):i._("Sent a video")}break;case"PROFILE":return j.jsx("div",{children:e?j.jsxs("span",{children:[i._("You:")," ","@",(c=this.props.item)!=null?(c=c.profileshare)!=null?(c=c.user)!=null?c.username:c:c:c]}):j.jsxs("span",{children:["@",(a=this.props.item)!=null?(a=a.profileshare)!=null?(a=a.user)!=null?a.username:a:a:a]})});case"LIKE":return e?j.jsxs("div",{className:"_76uz",children:[i._("You:"),j.jsx(b("Image.react"),{className:"_3-99",src:g("562747")})]}):j.jsx(b("Image.react"),{src:g("562747")});case"ACTION_LOG":return(d=this.props.item)!=null?(d=d.action_log)!=null?d.description:d:d;case"REEL_SHARE":a=(c=this.props)!=null?(c=c.item)!=null?(c=c.share)!=null?c.type:c:c:c;c=(d=this.props)!=null?(d=d.item)!=null?(d=d.share)!=null?d.story_type:d:d:d;if(e){if(a===m)return c===k?i._("You replied to their story highlight"):i._("You replied to their story");if(a===l){d=(d=this.props)!=null?(d=d.item)!=null?(d=d.share)!=null?d.text:d:d:d;return c===k?i._("You reacted to their story highlight: {reaction}",[i._param("reaction",d)]):i._("You reacted to their story: {reaction}",[i._param("reaction",d)])}d=(d=this.props)!=null?(d=d.item)!=null?(d=d.share)!=null?(d=d.user)!=null?d.username:d:d:d:d;return i._("Mentioned {username} in your story",[i._param("username",d)])}else{d=(d=this.props)!=null?(d=d.item)!=null?(d=d.share)!=null?(d=d.user)!=null?d.instagram_user_id:d:d:d:d;if(a===m){if(d===this.props.igID)return c===k?i._("Replied to your story highlight"):i._("Replied to your story")}else if(a===l){a=(d=this.props)!=null?(d=d.item)!=null?(d=d.share)!=null?d.text:d:d:d;return c===k?i._("Reacted to your story highlight: {reaction}",[i._param("reaction",a)]):i._("Reacted to your story: {reaction}",[i._param("reaction",a)])}else return i._("Mentioned you in their story")}break;case"VOICE_MEDIA":return e?i._("You sent a voice message"):i._("Sent a voice message")}return e?i._("You sent a message"):i._("Sent a message")};return c}(j.PureComponent);e.exports=a}),null);
__d("IGDirectMessageThreadPreviewContainer.react",["FluxContainer","IGDirectMessageThreadPreviewView.react","IGMessageInboxStore","PagesManagerInboxListSpinner.react","React","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){a=b("IGMessageInboxStore").getThreadItem(c.mailboxID,c.token);c=b("IGMessageInboxStore").getInboxIGID();return{item:a,igID:c}};var d=c.prototype;d.render=function(){var a=this.state.item.getValue();return!a?g.jsx(b("PagesManagerInboxListSpinner.react"),{}):g.jsx(b("IGDirectMessageThreadPreviewView.react"),{igID:b("nullthrows")(this.state.igID),item:a,participants:this.props.participants})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("UnifiedInboxIGMessageThreadRowView.react",["IGDirectMessageGroupProfilePic.react","IGDirectMessageThreadPreviewContainer.react","IGMessageInboxStore","PageCommItemFolder","PageCommItemStatus","PagesManagerInboxListRow.react","PagesManagerInboxPicSize","PagesManagerInboxProfilePic.react","PagesManagerInboxStore","React","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c,d,e,f="INSTAGRAM_DIRECT",h="IG_MESSAGE";e=(e=(e=this.props.thread)!=null?(e=e.thread_users)!=null?(e=e.nodes)!=null?e.length:e:e:e)!=null?e:0;d=(d=(d=this.props.thread)!=null?d.is_group:d)!=null?d:!1;var i=[],j=null,k=null;if(e>=2){var l;k=(l=this.props.thread)!=null?(l=l.thread_users)!=null?(l=l.nodes)!=null?(l=l[1])!=null?(l=l.profile_picture)!=null?l.uri:l:l:l:l:l;j=this.props.thread.thread_title}else{k=(l=this.props.thread)!=null?(l=l.thread_users)!=null?(l=l.nodes)!=null?(l=l[0])!=null?(l=l.profile_picture)!=null?l.uri:l:l:l:l:l;j=(l=this.props.thread)!=null?(l=l.thread_users)!=null?(l=l.nodes)!=null?(l=l[0])!=null?l.username:l:l:l:l}e=e>2?g.jsx(b("IGDirectMessageGroupProfilePic.react"),{imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURIs:[k,(l=this.props.thread)!=null?(l=l.thread_users)!=null?(l=l.nodes)!=null?(l=l[2])!=null?(l=l.profile_picture)!=null?l.uri:l:l:l:l:l]}):null;l=b("nullthrows")(this.props.thread.last_activity_at);l=parseInt(l.slice(0,l.length-3),10);var m="";c=(c=this.props.thread)!=null?(c=c.thread_users)!=null?c.nodes:c:c;a=(a=this.props.thread)!=null?(a=a.thread_items)!=null?(a=a.nodes)!=null?(a=a[0])!=null?a.token:a:a:a:a;if(c!==null&&c!==void 0&&a!==null&&a!==void 0){m=g.jsx(b("IGDirectMessageThreadPreviewContainer.react"),{mailboxID:this.props.mailboxID,participants:c,token:a});if(d===!1&&!this.props.labels&&((c=this.props.thread)==null?void 0:(a=c.thread_labels)==null?void 0:a.nodes)!=null&&((d=this.props.thread)==null?void 0:(c=d.thread_labels)==null?void 0:c.nodes.length)!==0){c=((a=this.props.thread)==null?void 0:(d=a.thread_labels)==null?void 0:d.nodes)||[];i=c.map(function(a){var b=a.id,c=a.label_color;a=a.name;return b!=null&&c!=null&&a!=null?{id:b,color:c,name:a}:null}).filter(function(a){return a!=null})}}return g.jsx(b("PagesManagerInboxListRow.react"),{activeFolder:b("PageCommItemFolder").TODO,commPlatform:f,commStatus:b("PageCommItemStatus").TODO,commType:h,isRead:!b("IGMessageInboxStore").isThreadUnread(this.props.mailboxID,this.props.thread),isViewing:this.props.isViewing,item:this.props.thread,labels:this.props.labels?this.props.labels:i,onViewingListItem:this.props.onViewingListItem,pageID:this.props.mailboxID,profilePicElement:g.jsx(b("PagesManagerInboxProfilePic.react"),{commPlatform:f,commType:h,imageSize:b("PagesManagerInboxPicSize").ListRowProPicSize,imageURI:k,profileElement:e,showPlaceholder:!0,showPlatformBadge:!0}),shouldAnimate:!1,snippetElement:m,subtitle:null,timestampInMS:l,titleElement:j},this.props.thread.token)};return c}(g.PureComponent);e.exports=a}),null);
__d("UnifiedInboxIGMessageThreadRowContainer.react",["FluxContainer","IGMessageDataMutateAction","IGMessageInboxStore","IGMessageServerActions","PagesManagerAction","PagesManagerInboxFilterAction","PagesManagerInboxListSpinner.react","React","UnifiedInboxIGMessageThreadRowView.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){d.props.onClick&&d.props.onClick(d.props.token);b("PagesManagerInboxFilterAction").changePlatform("INSTAGRAM_DIRECT");var a=d.state.thread.getValue();b("PagesManagerAction").viewListItem(d.props.token);if(!a||a.is_read===!0)return;b("IGMessageDataMutateAction").updateThreadReadStatus(d.props.mailboxID,d.props.token,!0);a=b("IGMessageServerActions").getForFBID(d.props.mailboxID);a.updateThreadStatus(d.props.token,null,null,!0)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){a=b("IGMessageInboxStore").getThread(c.mailboxID,c.token,1,null,Boolean(c.fetchFromUser));return{thread:a}};var d=c.prototype;d.render=function(){var a=this.state.thread.getValue();return!a?g.jsx(b("PagesManagerInboxListSpinner.react"),{}):g.jsx(b("UnifiedInboxIGMessageThreadRowView.react"),{isViewing:this.props.isViewing,labels:this.props.labels,mailboxID:this.props.mailboxID,onViewingListItem:this.$1,thread:a})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxSearchResultsInstagramDirectList.react",["cx","fbt","OnVisible.react","PagesManagerInboxListSpinner.react","PagesMessagingInboxActionLogger","React","RelayModern","UnifiedInboxIGMessageThreadRowContainer.react","emptyFunction","nullthrows","PagesManagerInboxSearchResultsInstagramDirectList_pageCustomer.graphql","PagesManagerInboxSearchResultsInstagramDirectListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=20;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(l,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return this.props.useNewLabelSearch===!0?null:k.jsx("div",{className:"_7zk3",children:h._("INSTAGRAM DIRECT MESSAGES")})};d.$2=function(){return!this.props.relay.hasMore()?null:k.jsx(b("OnVisible.react"),{onVisible:this.$3,children:k.jsx(b("PagesManagerInboxListSpinner.react"),{})})};d.$4=function(a){b("PagesMessagingInboxActionLogger").logSearchResultOpened("INSTAGRAM_DIRECT","CUSTOMER",a)};d.render=function(){var a=this,c,d;d=((d=(d=this.props.pageCustomer)!=null?(d=d.instagram_direct_comms)!=null?d.edges:d:d)!=null?d:[]).filter(function(a){return a.node!==null});if(!d||!d.length)return null;var e=b("nullthrows")((c=this.props.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c);return k.jsxs("div",{children:[this.$1(),d.map(function(c){var d;c=c.node;d=(d=c)!=null?d.token:d;return c===null||d===null?null:k.jsx(b("UnifiedInboxIGMessageThreadRowContainer.react"),{isViewing:!1,labels:a.props.labels,mailboxID:e,onClick:a.$4,token:(c=d)!=null?c:""},d)}),this.$2()]})};return c}(k.PureComponent);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxSearchResultsInstagramDirectList_pageCustomer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.pageCustomer)!=null?a.instagram_direct_comms:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,pageCustomerID:a.pageCustomer.id}},query:j!==void 0?j:j=b("PagesManagerInboxSearchResultsInstagramDirectListPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxSearchResultsInstagramList.react",["cx","fbt","OnVisible.react","PagesManagerInboxListSpinner.react","PagesManagerInboxSearchResultListRow.react","React","RelayModern","emptyFunction","nullthrows","PagesManagerInboxSearchResultsInstagramList_pageCustomer.graphql","PagesManagerInboxSearchResultsInstagramListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var l=20;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(l,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c,d;d=(d=this.props.pageCustomer)!=null?(d=d.instagram_comms)!=null?d.edges:d:d;if(!d||!d.length)return null;var e=b("nullthrows")((c=this.props.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c);return k.jsxs("div",{children:[this.$1(),d.map(function(c){c=b("nullthrows")(c.node);return k.jsx(b("PagesManagerInboxSearchResultListRow.react"),{customerComm:c,pageID:e,platform:"INSTAGRAM",viewingItem:a.props.viewingItem},c.id)}),this.$2()]})};d.$1=function(){return this.props.isLabelSearch?k.jsx("div",{className:"_7zk3",children:h._("INSTAGRAM COMMENTS")}):k.jsx("div",{className:this.props.titleClassName,children:h._("INSTAGRAM COMMENTS")})};d.$2=function(){return!this.props.relay.hasMore()?null:k.jsx(b("OnVisible.react"),{onVisible:this.$3,children:k.jsx(b("PagesManagerInboxListSpinner.react"),{})})};return c}(k.PureComponent);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxSearchResultsInstagramList_pageCustomer.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.pageCustomer)!=null?a.instagram_comms:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,pageCustomerID:a.pageCustomer.id}},query:j!==void 0?j:j=b("PagesManagerInboxSearchResultsInstagramListPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxListSearchResultsList.react",["cx","fbt","PagesManagerInboxMercuryUtil","PagesManagerInboxSearchResultListRow.react","PagesManagerInboxSearchResultsFacebookList.react","PagesManagerInboxSearchResultsInstagramDirectList.react","PagesManagerInboxSearchResultsInstagramList.react","React","RelayModern","nullthrows","PagesManagerInboxListSearchResultsList_pageCustomer.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this,c,d;d=(d=this.props)!=null?(d=d.pageCustomer)!=null?(d=d.messenger_comms)!=null?d.edges:d:d:d;var e=(c=this.props)!=null?(c=c.pageCustomer)!=null?(c=c.page)!=null?c.id:c:c:c;return!d||!d.length||e===null||e===void 0||e===""?null:j.jsxs("div",{children:[this.$2(),d.map(function(c){c=b("nullthrows")(c.node);var d=b("PagesManagerInboxMercuryUtil").shouldUseMercury()?c.target_id:c.id;return j.jsx(b("PagesManagerInboxSearchResultListRow.react"),{customerComm:c,hasPageReplied:a.$3(),labels:a.$4(),pageID:e,platform:"MESSENGER",viewingItem:a.props.viewingItem},d)})]})};d.$3=function(){var a;return!Boolean((a=this.props.pageCustomer.message_thread)==null?void 0:a.is_page_unresponded_thread)};d.$4=function(){var a;a=((a=this.props)!=null?(a=a.pageCustomer)!=null?(a=a.labels)!=null?a.edges:a:a:a)||[];return!a||a.length===0?[]:a.map(function(a){var b,c;b=(b=a.node)==null?void 0:b.id;c=(c=a.node)==null?void 0:c.label_color;a=(a=a.node)==null?void 0:a.name;return b!=null&&c!=null&&a!=null?{id:b,color:c,name:a}:null}).filter(function(a){return a!=null})};d.$2=function(){if(this.props.useNewLabelSearch===!0)return null;return this.props.isLabelSearch?j.jsx("div",{className:"_7zk3",children:h._("MESSAGES")}):j.jsx("div",{className:this.$5(),children:h._("MESSENGER CONVERSATIONS")})};d.$5=function(){return"_3-69"};d.$6=function(){return j.jsx(b("PagesManagerInboxSearchResultsInstagramDirectList.react"),{isLabelSearch:this.props.isLabelSearch,labels:this.$4(),pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),useNewLabelSearch:this.props.useNewLabelSearch,viewingItem:this.props.viewingItem})};d.render=function(){return this.props.useNewLabelSearch===!0?j.jsxs("div",{children:[this.$1(),this.$6()]}):j.jsxs("div",{children:[this.$1(),j.jsx(b("PagesManagerInboxSearchResultsFacebookList.react"),{isLabelSearch:this.props.isLabelSearch,pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),viewingItem:this.props.viewingItem}),j.jsx(b("PagesManagerInboxSearchResultsInstagramList.react"),{isLabelSearch:this.props.isLabelSearch,pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),viewingItem:this.props.viewingItem}),j.jsx(b("PagesManagerInboxSearchResultsInstagramDirectList.react"),{isLabelSearch:this.props.isLabelSearch,pageCustomer:this.props.pageCustomer,titleClassName:this.$5(),useNewLabelSearch:this.props.useNewLabelSearch,viewingItem:this.props.viewingItem})]})};return c}(j.Component);c.defaultProps={isLabelSearch:!1};e.exports=a(c,{pageCustomer:i!==void 0?i:i=b("PagesManagerInboxListSearchResultsList_pageCustomer.graphql")})}),null);
__d("PagesManagerInboxListSearchResults.react",["PagesManagerInboxListLoading.react","PagesManagerInboxListSearchResultsList.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxListSearchResultsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxListSearchResultsQuery.graphql"),variables:{pageCustomerID:this.props.pageCustomerID},render:function(c){var d=c.error;c=c.props;return c&&!d?h.jsx(b("PagesManagerInboxListSearchResultsList.react"),{isLabelSearch:a.props.isLabelSearch,pageCustomer:c.CrmUnifiedContact,useNewLabelSearch:a.props.useNewLabelSearch,viewingItem:a.props.viewingItem}):h.jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})}})};return c}(h.PureComponent);a.defaultProps={isLabelSearch:!1};e.exports=a}),null);
__d("PageManagerInboxLabelThreadSearchResults.react",["ix","cx","fbt","Image.react","OnVisible.react","PagesManagerInboxListSearchResults.react","PagesManagerInboxListSpinner.react","React","RelayModern","asset","emptyFunction","PageManagerInboxLabelThreadSearchResults_searchResults.graphql","PageManagerInboxLabelThreadSearchResultsPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var m=20;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){d.props.relay.loadMore(m,b("emptyFunction"))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){return l.jsxs("div",{className:"_7zl7","data-testid":void 0,children:[l.jsx("div",{className:"_7zl8",children:l.jsx(b("Image.react"),{src:g("515638")})}),i._("No results found")]})};d.$2=function(){return!this.props.relay.hasMore()?null:l.jsx(b("OnVisible.react"),{onVisible:this.$3,children:l.jsx(b("PagesManagerInboxListSpinner.react"),{})})};d.render=function(){var a=this,c;c=((c=this.props)!=null?(c=c.searchResults)!=null?(c=c.results)!=null?c.edges:c:c:c)||[];c=c.map(function(a){return(a=a.node)==null?void 0:a.id});return c.length===0?this.$1():l.jsxs("div",{children:[c.map(function(c){return c==null?null:l.jsx(b("PagesManagerInboxListSearchResults.react"),{height:a.props.height,pageCustomerID:c,useNewLabelSearch:a.props.useNewLabelSearch,viewingItem:null},c)}),this.$2()]})};return c}(l.PureComponent);e.exports=a(c,{searchResults:j!==void 0?j:j=b("PageManagerInboxLabelThreadSearchResults_searchResults.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.searchResults)!=null?a.results:a:a},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,labels:{labels:a.labels.map(function(a){return a.getUniqueID()})}}},query:k!==void 0?k:k=b("PageManagerInboxLabelThreadSearchResultsPaginationQuery.graphql")})}),null);
__d("PageManagerInboxLabelThreadSearch.react",["PageManagerInboxLabelThreadSearchResults.react","PagesManagerInboxListLoading.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PageManagerInboxLabelThreadSearchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;var i=20;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=a.error;a=a.props;return a&&!c?h.jsx(b("PageManagerInboxLabelThreadSearchResults.react"),{height:d.props.height,labels:d.props.labels,searchResults:a,useNewLabelSearch:!0}):h.jsx(b("PagesManagerInboxListLoading.react"),{height:d.props.height})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.labels.map(function(a){return a.getUniqueID()});return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxLabelThreadSearchQuery.graphql"),render:this.$1,variables:{labels:{labels:a},count:i,cursor:null}})};return c}(h.PureComponent);e.exports=a}),null);
__d("PageManagerInboxThreadContentSearchResults.react",["ix","cx","fbt","BIZInboxClientLogger","Image.react","PagesManagerInboxList.react","React","RelayModern","asset","nullthrows","PageManagerInboxThreadContentSearchResults_threadsSearch.graphql","PageManagerInboxThreadContentSearchResultsPaginationQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var m=5;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){var a,b;c.props.relay.loadMore(m,{start:function(){return a=Date.now()},next:function(){a&&!b&&(b=Date.now()-a)}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){b("BIZInboxClientLogger").logDifferentSearchResultRenderView(this.props.pageID,this.props.searchTerm,"CONTENT")};d.$1=function(){return l.jsxs("div",{className:"_7zl7","data-testid":void 0,children:[l.jsx("div",{className:"_7zl8",children:l.jsx(b("Image.react"),{src:g("515638")})}),i._("No results found")]})};d.render=function(){var a;a=b("nullthrows")((a=this.props)!=null?(a=a.threadsSearch)!=null?(a=a.results)!=null?a.edges:a:a:a);a=a.slice();return l.jsx(b("PagesManagerInboxList.react"),{edges:a,emptyState:this.$1(),filterType:"MESSENGER",hasMore:this.props.relay.hasMore(),height:this.props.height,onLoadMore:this.$2,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:this.props.shouldShowPromoteButton})};return c}(l.PureComponent);e.exports=a(c,{threadsSearch:j!==void 0?j:j=b("PageManagerInboxThreadContentSearchResults_threadsSearch.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.threadsSearch)!=null?a.results:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{cursor:b,count:c,query_params:{query:a.searchTerm,search_type:"CONTENT"}}},query:k!==void 0?k:k=b("PageManagerInboxThreadContentSearchResultsPaginationQuery.graphql")})}),null);
__d("PageManagerInboxThreadContentSearch.react",["PageManagerInboxThreadContentSearchResults.react","PagesManagerInboxListLoading.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PageManagerInboxThreadContentSearchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PageManagerInboxThreadContentSearchQuery.graphql"),render:function(c){var d=c.error;c=c.props;return c&&!d?h.jsx(b("PageManagerInboxThreadContentSearchResults.react"),{filterType:a.props.filterType,height:a.props.height,paddingBottom:a.props.paddingBottom,pageID:a.props.pageID,searchTerm:a.props.searchTerm,shouldShowPromoteButton:a.props.shouldShowPromoteButton,threadsSearch:c.threadsSearch}):h.jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})},variables:{query_params:{query:this.props.searchTerm,search_type:"CONTENT"}}})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxWECAccountLinkingSendCodeMethod.react",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({SEND_CODE_VIA_VOICE:0,SEND_CODE_VIA_SMS:1})}),null);
__d("PagesManagerInboxWECAccountLinkingStep.react",[],(function(a,b,c,d,e,f){"use strict";e.exports=Object.freeze({ADD:"ADD",CONFIRM:"CONFIRM",FINISH:"FINISH"})}),null);
__d("XPagesManagerInboxWECAccountLinkingSetUpAccountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/wec/setup_account/",{request_user_id:{type:"Int"},business_name:{type:"String"},country_code:{type:"String"},phone_number:{type:"String"},send_code_method:{type:"Enum",enumType:0}})}),null);
__d("XPagesManagerInboxWECAccountLinkingUpdateAccountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/wec/update_account/",{request_user_id:{type:"Int"},page_wec_number_id:{type:"FBID"},is_public:{type:"Bool",defaultValue:!1}})}),null);
__d("XPagesManagerInboxWECAccountLinkingVerifyNumberController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/wec/verify_number/",{account_status_id:{type:"FBID"},normalized_phone_number:{type:"String"},request_user_id:{type:"Int"},request_code:{type:"Int"}})}),null);
__d("PagesManagerInboxWECAccountLinkingDialog.react",["cx","fbt","AsyncRequest","DevappSwitchButton.react","FDSButton.react","FDSCancelButton.react","FDSLink.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FlexLayout.react","PagesManagerInboxWECAccountLinkingSendCodeMethod.react","PagesManagerInboxWECAccountLinkingStep.react","PhoneCodeSelector.react","PhoneNumberValidator.react","React","SUIBusinessTheme","SUIText.react","XPagesManagerInboxWECAccountLinkingSetUpAccountController","XPagesManagerInboxWECAccountLinkingUpdateAccountController","XPagesManagerInboxWECAccountLinkingVerifyNumberController","XUIButton.react","XUIGrayText.react","XUIText.react","XUITextInput.react","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="WEC_connect_business",k="WEC_connect_dialog",l={accountStatusID:null,businessName:"",codeSent:!1,countryCode:"US",isPublic:!0,isShown:!1,isValidNumber:!1,phoneCode:"1",phoneError:null,phoneNumber:"",phoneNumberFormatted:"",step:b("PagesManagerInboxWECAccountLinkingStep.react").ADD,verificationCode:"",normalized_phone_number:null,title:h._("Add a WEC Business Number to Inbox"),subTitle:h._("Make your business number a WEC Buisness number."),page_wec_number_id:null,error_message:null};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state=l,d.$7=function(){d.setState(function(){return{codeSent:!1,step:b("PagesManagerInboxWECAccountLinkingStep.react").ADD}})},d.$15=function(){d.setState(function(){return{isShown:!0}})},d.$16=function(){d.setState(function(){return l})},d.$4=function(){var a=b("XPagesManagerInboxWECAccountLinkingSetUpAccountController").getURIBuilder().setInt("request_user_id",d.props.pageID).setString("business_name",d.state.businessName).setString("country_code",d.state.phoneCode).setString("phone_number",d.state.phoneNumber).setEnum("send_code_method",b("PagesManagerInboxWECAccountLinkingSendCodeMethod.react").SEND_CODE_VIA_SMS);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(function(a){a.payload.success&&a.payload.account_status_id?d.setState(function(){return{codeSent:!0,step:b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM,accountStatusID:a.payload.account_status_id,normalized_phone_number:a.payload.normalized_phone_number}}):d.setState(function(){return{accountStatusID:null,error_message:a.payload.errorMsg,normalized_phone_number:null}})}).send()},d.$5=function(){var a=b("XPagesManagerInboxWECAccountLinkingSetUpAccountController").getURIBuilder().setInt("request_user_id",d.props.pageID).setString("business_name",d.state.businessName).setString("country_code",d.state.phoneCode).setString("phone_number",d.state.phoneNumber).setInt("send_code_method",b("PagesManagerInboxWECAccountLinkingSendCodeMethod.react").SEND_CODE_VIA_VOICE);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(function(a){a.payload.success&&a.payload.account_status_id?d.setState(function(){return{codeSent:!1,step:b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM,accountStatusID:a.payload.account_status_id,normalized_phone_number:a.payload.normalized_phone_number}}):d.setState(function(){return{accountStatusID:null,error_message:a.payload.errorMsg,normalized_phone_number:null}})}).send()},d.$2=function(){var a=b("XPagesManagerInboxWECAccountLinkingVerifyNumberController").getURIBuilder().setInt("request_user_id",d.props.pageID).setFBID("account_status_id",d.state.accountStatusID).setString("normalized_phone_number",d.state.normalized_phone_number).setInt("request_code",d.state.verificationCode);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setErrorHandler(function(a){}).setHandler(function(a){a.payload.success&&a.payload.page_wec_number_id?d.setState(function(){return{page_wec_number_id:a.payload.page_wec_number_id,step:b("PagesManagerInboxWECAccountLinkingStep.react").FINISH,title:h._("Success! WEC added to Inbox"),subTitle:h._("Your WEC messages will now appear in your inbox")}}):d.setState(function(){return{page_wec_number_id:null,error_message:a.payload.errorMsg}})}).send()},d.$3=function(){var a=b("XPagesManagerInboxWECAccountLinkingUpdateAccountController").getURIBuilder().setInt("request_user_id",d.props.pageID).setFBID("page_wec_number_id",d.state.page_wec_number_id).setBool("is_public",d.state.isPublic);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setErrorHandler(function(a){}).setHandler(function(a){a.payload.success||d.setState(function(){return{error_message:a.payload.errorMsg}}),window.location.reload()}).send()},d.$11=function(a){var b=(a=a)!=null?(a=a.target)!=null?a.value:a:a;d.setState(function(a){return{businessName:b||""}})},d.$12=function(a,b){d.setState({phoneCode:a,countryCode:b})},d.$13=function(a){var b=(a=a)!=null?(a=a.target)!=null?a.value:a:a;d.setState(function(a){return{phoneNumber:b||""}})},d.$14=function(a){if(a!=null&&d.state.isShown){var b=a.status==="valid";b&&a.parsed&&a.parsed.internationalNumberWithPlus!==null&&a.parsed.internationalNumberWithPlus!==void 0&&a.parsed.internationalNumberWithPlus!==""?d.setState(function(){return{isValidNumber:!0,phoneError:null,phoneNumberFormatted:a.parsed.internationalNumberWithPlus||""}}):d.setState(function(a){return{isValidNumber:!1,phoneError:h._("Invalid phone number"),phoneNumberFormatted:""}})}},d.$8=function(a){var b=(a=a)!=null?(a=a.target)!=null?a.value:a:a;d.setState(function(a){return{verificationCode:b||""}})},d.$10=function(){d.setState(function(a){return{isPublic:!d.state.isPublic}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=null,c=null,d=null;switch(this.state.step){case b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM:a=i.jsx(b("FDSButton.react"),{label:h._("Confirm"),onClick:this.$2,use:"primary"});c=i.jsx(b("FDSCancelButton.react"),{});break;case b("PagesManagerInboxWECAccountLinkingStep.react").FINISH:a=i.jsx(b("FDSButton.react"),{label:h._("Finish"),onClick:this.$3,use:"primary"});c=i.jsx(b("FDSCancelButton.react"),{});break;case b("PagesManagerInboxWECAccountLinkingStep.react").ADD:default:d=i.jsx(b("SUIText.react"),{color:"secondary",theme:b("SUIBusinessTheme"),children:h._("If your number cannot receive texts we can call you with the verification code")}),a=i.jsx(b("FDSButton.react"),{isDisabled:!this.state.isValidNumber,label:h._("Send Code"),onClick:this.$4,use:"primary"}),c=i.jsx(b("FDSButton.react"),{isDisabled:!this.state.isValidNumber,label:h._("Call Me"),onClick:this.$5,use:"default"})}return i.jsx(b("FDSModalFooter.react"),{leftContent:d,primaryButton:a,secondaryButton:c})};d.$6=function(){switch(this.state.step){case b("PagesManagerInboxWECAccountLinkingStep.react").CONFIRM:return i.jsxs(b("FlexLayout.react"),{direction:"vertical",style:{fontSize:14},children:[i.jsx(b("FlexLayout.react"),{className:"_3-97",children:i.jsx(b("FDSText.react"),{color:"secondary",size:"body2",weight:"bold",children:h._("Verify Your WEC Number")})}),i.jsxs(b("FlexLayout.react"),{align:"center",className:"_21op _3-8n",direction:"vertical",children:[i.jsx("div",{children:this.state.codeSent?h._("Enter the code in the message sent to"):h._("You should receive a call in 3 minutes to")}),i.jsxs("div",{children:[i.jsx("div",{className:"_74oq",children:this.state.phoneNumberFormatted}),i.jsx(b("FDSLink.react"),{onClick:this.$7,showUnderline:"never",children:h._("Change")})]})]}),i.jsx(b("FlexLayout.react"),{className:"_21op _3-8n",justify:"center",children:i.jsx(b("XUITextInput.react"),{height:"tall",onChange:this.$8,placeholder:h._("Enter 6 Digits Code"),value:this.state.verificationCode})}),i.jsx(b("FlexLayout.react"),{className:"_21op _3-8n",justify:"center",children:this.state.codeSent?i.jsxs(i.Fragment,{children:[i.jsx(b("FDSLink.react"),{onClick:this.$4,showUnderline:"never",children:h._("Send Code Again")}),i.jsx("span",{className:"_3-8r",children:"|"}),i.jsx(b("FDSLink.react"),{onClick:this.$5,showUnderline:"never",children:h._("Call Me")})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"_3-8_",children:h._("Did not receive call?")}),i.jsx(b("FDSLink.react"),{onClick:this.$5,showUnderline:"never",children:h._("Call Again")}),i.jsx("span",{className:"_3-8r",children:"|"}),i.jsx(b("FDSLink.react"),{onClick:this.$4,showUnderline:"never",children:h._("Send Code")})]})})]});case b("PagesManagerInboxWECAccountLinkingStep.react").FINISH:return i.jsxs(b("FlexLayout.react"),{direction:"vertical",children:[i.jsxs(b("FlexLayout.react"),{className:"_21op",direction:"vertical",children:[this.$9(h._("Company Name"),this.state.businessName),this.$9(h._("Country Code"),this.state.countryCode+"("+this.state.phoneCode+")"),this.$9(h._("Phone number"),this.state.phoneNumberFormatted)]}),i.jsxs(b("FlexLayout.react"),{className:"_21op",direction:"vertical",children:[i.jsx(b("FlexLayout.react"),{className:"_3-8p",children:i.jsx(b("FDSText.react"),{color:"secondary",size:"body2",weight:"bold",children:h._("Make WEC Number Public")})}),i.jsxs(b("FlexLayout.react"),{align:"center",className:"_21op",justify:"all",children:[i.jsx("span",{children:h._("Your WEC number will be visible to visitors in the About section of your Page.")}),i.jsx(b("DevappSwitchButton.react"),{labels:"customized",noLabel:h._("No"),onChange:this.$10,yesLabel:h._("Yes")})]})]})]});case b("PagesManagerInboxWECAccountLinkingStep.react").ADD:return i.jsxs(b("FlexLayout.react"),{direction:"vertical",children:[i.jsx(b("FlexLayout.react"),{className:"_3-97",children:i.jsx(b("FDSText.react"),{color:"secondary",size:"body2",weight:"bold",children:h._("Enter your business information")})}),i.jsxs(b("FlexLayout.react"),{className:"_6sak _3-8n",justify:"all",children:[i.jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:h._("Business Name")}),i.jsx(b("XUITextInput.react"),{height:"tall",onChange:this.$11,placeholder:h._("Enter a name"),value:this.state.businessName})]}),i.jsxs(b("FlexLayout.react"),{className:"_6sak _3-8n",justify:"all",children:[i.jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:h._("Country Code")}),i.jsx(b("PhoneCodeSelector.react"),{initialCountryCode:"US",onUpdate:this.$12,scrollToSelectedCountryCode:!1})]}),i.jsxs(b("FlexLayout.react"),{className:"_6sak _3-8n",justify:"all",children:[i.jsx(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold",children:h._("Phone number")}),i.jsx(b("XUITextInput.react"),{height:"tall",onChange:this.$13,placeholder:h._("Enter a phone number"),value:this.state.phoneNumber,xuiError:this.state.phoneError})]}),i.jsx(b("PhoneNumberValidator.react"),{onChange:this.$14,phoneNumber:this.state.phoneNumber,regionCode:this.state.countryCode})]})}};d.$9=function(a,c){return i.jsxs(b("FlexLayout.react"),{className:"_21op _3-8n",justify:"all",children:[i.jsx(b("XUIGrayText.react"),{shade:"light",size:"body2",children:a}),i.jsx(b("XUIText.react"),{children:c})]})};d.render=function(){var a=i.jsx(b("FDSModal.react"),{footer:this.$1(),header:i.jsx(b("FDSModalHeader.react"),{subtitle:this.state.subTitle,title:this.state.title}),"data-testid":k,isShown:this.state.isShown,onHide:this.$16,width:750,children:i.jsxs(b("FDSSection.react"),{children:[this.$6(),i.jsx("div",{className:"_74or",children:this.state.error_message!==null&&this.state.error_message!==void 0&&this.state.error_message!==""?this.state.error_message:null})]})});return i.jsxs(i.Fragment,{children:[i.jsx(b("XUIButton.react"),{className:"_70ef","data-testid":j,label:h._("Connect WEC Business"),onClick:this.$15}),a]})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxWECAccountLinkingDialogContainer.react",["FluxContainer","PagesManagerInboxStore","PagesManagerInboxWECAccountLinkingDialog.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore")]};c.calculateState=function(){return{config:b("PagesManagerInboxStore").getConfig()}};var d=c.prototype;d.render=function(){return g.jsx(b("PagesManagerInboxWECAccountLinkingDialog.react"),{pageID:this.state.config.pageID})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxConnectionState.react",["cx","fbt","ix","Image.react","Link.react","PageLinkInstagramAccountOAuthLogin.react","PagesManagerInboxStore","PagesManagerInboxWECAccountLinkingDialogContainer.react","PagesMessagingInboxActionLogger","PopupWindow","PresenceAccountUtilities","React","URI","XPageLinkInstagramAccountOAuthController","XPagesManagerSettingsController","XUIButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React"),l=700,m=800;a="WEC_connection_state";c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a;switch(this.props.filterType){case"MESSENGER":a=i("94978");break;case"INSTAGRAM":case"INSTAGRAM_DIRECT":a=this.props.commentConnected?i("1162612"):i("94974");break;case"WEC":a=i("681049");break;default:return null}return this.props.commentConnected?k.jsx(b("Image.react"),{className:"_7hrl",src:a}):k.jsx(b("Image.react"),{className:"_2-xd",src:a})};d.$2=function(){switch(this.props.filterType){case"MESSENGER":return h._("Messages are turned off");case"INSTAGRAM":case"INSTAGRAM_DIRECT":return this.props.commentConnected?h._("Get Instagram messages in Inbox"):h._("Connect an Instagram account");case"WEC":return h._("Connect a WEC business account to your inbox");default:return null}};d.$3=function(a){var c=b("PagesManagerInboxStore").getConfig().validPlatformTypes.some(function(a){return a==="INSTAGRAM_DIRECT"}),d=k.jsx(b("Link.react"),{href:"https://www.facebook.com/help/2546917405323366",children:h._("Learn more")}),e=a?k.jsxs("div",{children:[h._("Connecting an Instagram account lets Page admins, editors and moderators manage comments and direct messages in Inbox."),k.jsx("br",{}),k.jsx("br",{}),k.jsxs("div",{children:[h._("When you connect an Instagram account, other people who manage the Page may be able to post and take other actions on the connected Instagram account.")," ",d]})]}):k.jsxs("div",{children:[h._("Page admins or editors can connect an Instagram account to the Page, which lets Page admins, editors and moderators manage comments and direct messages in Inbox."),k.jsx("br",{}),k.jsx("br",{}),k.jsxs("div",{children:[h._("When you connect an Instagram account, other people who manage the Page may be able to post and take other actions on the connected Instagram account.")," ",d]})]});a=a?k.jsxs("div",{children:[h._("Reconnect your Instagram account to let Page admins, editors and moderators read and respond to Direct messages in Inbox.")," ",d]}):k.jsx("div",{children:h._("Page admins and editors can reconnect your Instagram account to let people who manage the Page respond to direct messages in Inbox.")});switch(this.props.filterType){case"MESSENGER":return h._("Turn on messages to let people and other Pages contact your Page directly.");case"INSTAGRAM":return c?e:h._("Manage Instagram comments in your Page's inbox.");case"INSTAGRAM_DIRECT":return this.props.commentConnected?a:e;case"WEC":return h._("Manage WEC directly from your Page's inbox. Write messages and reply without using your phone.");default:return null}};d.$4=function(){var a=this,c,d;switch(this.props.filterType){case"MESSENGER":c=function(){b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",a.props.pageToken).setString("tab","settings").setString("section","messages").getURI().go()};d=h._("Turn On Messages");break;case"INSTAGRAM":var e=b("PagesManagerInboxStore").getConfig().validPlatformTypes.some(function(a){return a==="INSTAGRAM_DIRECT"});e?c=function(){b("PagesMessagingInboxActionLogger").logConnectInstagramButtonClicked(e);var a=new(j||(j=b("URI")))("https://api.instagram.com/oauth/authorize/"),c=window.location.origin+b("XPageLinkInstagramAccountOAuthController").getURIBuilder().getURI().toString();a.addQueryData({redirect_uri:c,app_id:17951132926087090,response_type:"code",force_reauth:!0});b("PopupWindow").open(a.toString(),l,m)}:c=function(){b("PagesMessagingInboxActionLogger").logConnectInstagramButtonClicked(e),b("PresenceAccountUtilities").connectToAccountOfType(a.props.pageID,"instagram",{},function(a,b){})};d=h._("Connect Account");break;case"INSTAGRAM_DIRECT":c=function(){var c=new(j||(j=b("URI")))("https://api.instagram.com/oauth/authorize/"),d=window.location.origin+b("XPageLinkInstagramAccountOAuthController").getURIBuilder().getURI().toString();c.addQueryData({redirect_uri:d,app_id:17951132926087090,response_type:"code",force_reauth:!0});b("PopupWindow").open(c.toString(),l,m);b("PagesMessagingInboxActionLogger").logConnectInstagramDirectButtonClicked((d=a.props.commentConnected)!=null?d:!1)};d=this.props.commentConnected?h._("Reconnect Account"):h._("Connect Account");break;case"WEC":return k.jsx(b("PagesManagerInboxWECAccountLinkingDialogContainer.react"),{});default:return null}return k.jsx(b("XUIButton.react"),{className:"_1-e5"+(this.props.filterType==="MESSENGER"?" _2ule":"")+(this.props.filterType==="INSTAGRAM"||this.props.filterType==="INSTAGRAM_DIRECT"&&!this.props.commentConnected?" _2ulf":"")+(this.props.filterType==="INSTAGRAM_DIRECT"&&this.props.commentConnected?" _7j7v":""),label:d,onClick:c})};d.$5=function(){var a=b("PagesManagerInboxStore").getConfig().validPlatformTypes.some(function(a){return a==="INSTAGRAM_DIRECT"});return this.props.filterType==="INSTAGRAM_DIRECT"||a&&this.props.filterType==="INSTAGRAM"?k.jsx(b("PageLinkInstagramAccountOAuthLogin.react"),{allowOverrideLink:!0,pageID:this.props.pageID,permissions:["manage_messages","manage_ads","manage_comments"]}):null};d.render=function(){if(this.props.filterType!=="MESSENGER"&&this.props.filterType!=="INSTAGRAM"&&this.props.filterType!=="INSTAGRAM_DIRECT"&&this.props.filterType!=="WEC")return null;var a=b("PagesManagerInboxStore").getConfig().showConnectButton===!0;return this.props.filterType==="INSTAGRAM_DIRECT"&&this.props.commentConnected?k.jsxs("div",{className:"_7hrk",children:[k.jsx("div",{children:this.$1()}),k.jsxs("div",{className:"_7hrm",children:[k.jsx("div",{className:"_7hrj",children:this.$2()}),k.jsx("div",{className:"_7hrn",children:this.$3(a)}),a?this.$4():null,this.$5()]})]}):k.jsx("div",{className:"_7j7w",children:k.jsxs("div",{className:"_1-e2","data-testid":void 0,children:[this.$1(),k.jsxs("div",{className:"_1-e3"+(this.props.filterType==="MESSENGER"?" _2ulc":"")+(this.props.filterType==="INSTAGRAM"||this.props.filterType==="INSTAGRAM_DIRECT"?" _2uld":""),children:[k.jsx("div",{className:"_1-e4"+(this.props.filterType==="WEC"?" _7059":""),"data-testid":void 0,children:this.$2()}),k.jsx("div",{className:this.props.filterType==="WEC"?"_7059":"",children:this.$3(a)})]}),a?this.$4():null,this.$5()]})})};return c}(k.PureComponent);e.exports=c}),null);
__d("PagesMangerInboxMultiAdminFilterUtil",[],(function(a,b,c,d,e,f){"use strict";var g="0";a={getIGDirectAdminID:function(a){return a==="NONE"?g:a}};e.exports=a}),null);
__d("PagesManagerInboxFilterStateView.react",["ix","cssVar","cx","fbt","IGMessageDataMutateAction","Image.react","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxFilterAction","PagesMangerInboxMultiAdminFilterUtil","React","SUIBusinessThemeContainer.react","SUIToken.react","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){if(d.props.filterFolder!==b("PageCommItemFolder").INSTAGRAM_THREADS&&d.props.filterFolder!==b("PageCommItemFolder").MESSENGER_THREADS&&(d.props.platform==="INSTAGRAM_DIRECT"||d.props.shouldUseUnifiedThreadlist)){var a;b("IGMessageDataMutateAction").forceFetchInbox(d.props.mailboxID,20,b("PageCommItemFolder").TODO,!1,!1,(a=b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID((a=d.props.filterOwner)==null?void 0:a.id))!=null?a:null,!1)}b("PagesManagerInboxFilterAction").changeFolder(d.props.mailboxID,b("PageCommItemFolder").TODO)},d.$2=function(){if(d.props.filterFolder!==b("PageCommItemFolder").INSTAGRAM_THREADS&&d.props.filterFolder!==b("PageCommItemFolder").MESSENGER_THREADS&&(d.props.platform==="INSTAGRAM_DIRECT"||d.props.shouldUseUnifiedThreadlist)){var a=d.props.filterFolder;b("IGMessageDataMutateAction").forceFetchInbox(d.props.mailboxID,20,b("PageCommItemStatusUtil").getIGDirectFolder(a),a===b("PageCommItemFolder").FOLLOW_UP,a===b("PageCommItemFolder").UNREAD,null)}b("PagesManagerInboxFilterAction").changeOwner(d.props.mailboxID,null,null,null);b("PagesManagerInboxFilterAction").toggleFilterSelector(!1);b("PagesManagerInboxFilterAction").toggleSearch(!1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a){switch(a){case b("PageCommItemFolder").FOLLOW_UP:return k.jsx(b("Image.react"),{className:"_885a",src:g("1002993")});case b("PageCommItemFolder").UNREAD:return k.jsx(b("Image.react"),{className:"_885a",src:g("795293")})}};d.render=function(){var a=this.props.filterFolder;return k.jsx("div",{className:"_8859",children:k.jsxs(b("SUIBusinessThemeContainer.react"),{children:[b("PageCommItemStatusUtil").getIsFilter(a)?k.jsx(b("SUIToken.react"),{icon:this.$3(a),label:b("PageCommItemStatusUtil").getLabel(a),onRemove:this.$1,style:{color:"#606770",paddingTop:"16px",paddingBottom:"16px",margin:"8px",borderRadius:"4px",fontWeight:"bold",borderStyle:"unset"}}):null,this.props.filterOwner!=null&&this.props.filterOwner.name!=null?k.jsx(b("SUIToken.react"),{icon:k.jsx(b("Image.react"),{className:"_885j",src:((a=this.props.filterOwner)==null?void 0:a.photoURL)!=null?(a=this.props.filterOwner)==null?void 0:a.photoURL:null}),label:((a=this.props.filterOwner)==null?void 0:a.name)!=null?(a=this.props.filterOwner)==null?void 0:a.name:null,onRemove:this.$2,style:{color:"#606770",paddingTop:"16px",paddingBottom:"16px",margin:"8px",borderRadius:"4px",fontWeight:"bold",borderStyle:"unset"}}):null,((a=this.props.filterOwner)==null?void 0:a.id)==="NONE"?k.jsx(b("SUIToken.react"),{icon:k.jsx(b("Image.react"),{className:"_885a",src:g("1166631")}),label:j._("Unassigned conversations"),onRemove:this.$2,style:{color:"#606770",paddingTop:"16px",paddingBottom:"16px",margin:"8px",borderRadius:"4px",fontWeight:"bold",borderStyle:"unset"}}):null]})})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListRelayContainer.react",["BusinessInboxBizKitUtil","MediaManagerInboxFocusCommentAction","MediaManagerInboxLoggerActions","MediaManagerUtils","PageCommItemFolder","PageCommPlatform","PagesManagerAction","PagesManagerInboxActionType","PagesManagerInboxConnectionState.react","PagesManagerInboxList.react","PagesManagerInboxListEmptyState.react","PagesManagerInboxLogger","PagesManagerInboxStore","React","RelayModern","PagesManagerInboxListRelayContainer_page.graphql","PagesManagerInboxListRelayContainerPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("BusinessInboxBizKitUtil").isInBizKit,j=b("React");a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var k=20;c=function(a){babelHelpers.inheritsLoose(c,a);function c(d){var e;e=a.call(this)||this;e.$1=function(){var a,c,d=k,f={},g=function(d){if(a){var f;f=(f=e.props)!=null?(f=f.page)!=null?(f=f.business_comm_items)!=null?(f=f.edges)!=null?f.length:f:f:f:f;f=b("PagesManagerInboxLogger").create(b("PagesManagerInboxActionType").LIST.MORE_LOADED).setItemsCount(f).setLoadTime(Date.now()-a).setUsesStreamingPagination(!1).setHadError(!!d);c&&f.setFirstPayloadTime(c);d&&b("PagesManagerInboxLogger").logErrorJS(d,"PagesManagerInboxListRelayContainer.react");f.log()}};e.props.relay.loadMore(d,{start:function(){return a=Date.now()},next:function(){a&&!c&&(c=Date.now()-a)},complete:g,error:g},f)};e.state={sortedList:c.getSortedList(d)};return e}var d=c.prototype;d.$2=function(a){var c;c=(c=a)!=null?(c=c.business_comm_items)!=null?(c=c.edges)!=null?(c=c[0])!=null?c.node:c:c:c:c;var d=c==null?void 0:c.id;if((this.props.folder===b("PageCommItemFolder").PRIORITY||this.props.folder===b("PageCommItemFolder").MEDIA_MANAGER_STARS_COMMENT)&&((a=a.business_comm_items)==null?void 0:(a=a.edges[0])==null?void 0:(a=a.node)==null?void 0:a.__typename)==="PageCommItemPart"){d=c==null?void 0:(a=c.parent_item)==null?void 0:a.id}d?(b("MediaManagerUtils").isMediaManagerApp()&&(b("MediaManagerInboxLoggerActions").logListRowIndex(0),b("MediaManagerInboxFocusCommentAction").setPostWithFocusCommentID(d,c==null?void 0:c.comm_source_id)),b("PagesManagerAction").viewListItem(d)):b("PagesManagerAction").clearViewListItem()};d.componentDidMount=function(){(!i()||this.props.viewingItem==null)&&this.$2(this.props.page),b("PagesManagerInboxLogger").logInitialListRendered(this.props.filterType,this.props.pageID)};d.UNSAFE_componentWillReceiveProps=function(a){a.page&&a.page.business_comm_items&&a.page.business_comm_items.edges&&this.setState({sortedList:c.getSortedList(a)})};c.getSortedList=function(a){a=(a=a)!=null?(a=a.page)!=null?(a=a.business_comm_items)!=null?a.edges:a:a:a;if(!a)return[];a=a.filter(function(a){return!!a});return a.concat().sort(function(a,b){return a.node.last_modified_at>b.node.last_modified_at?-1:1})};d.$3=function(){var a=this.props.page;if(!a)return!1;switch(this.props.filterType){case"MESSENGER":return a.comms_hub_config&&a.comms_hub_config.fb_messenger_state!=="DISABLED";case"INSTAGRAM":return a.ig_presence_account_info&&a.ig_presence_account_info.settings_webview_url;default:return!0}};d.$4=function(){return this.props.filterType==="INSTAGRAM"||this.props.filterType==="MESSENGER"||this.props.filterType==="INSTAGRAM_DIRECT"};d.$5=function(){if(!this.$3()&&this.$4())return j.jsx(b("PagesManagerInboxConnectionState.react"),{filterType:this.props.filterType,pageID:this.props.pageID,pageToken:b("PagesManagerInboxStore").getConfig().uriToken});else return j.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:this.props.folder,pageID:this.props.pageID,platform:this.props.filterType})};d.render=function(){var a="list"+this.props.folder+this.props.filterType;return j.jsx(b("PagesManagerInboxList.react"),{edges:this.state.sortedList,emptyState:this.$5(),filterType:this.props.filterType,hasMore:this.props.relay.hasMore(),height:this.props.height,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,onLoadMore:this.$1,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:this.props.shouldShowPromoteButton},a)};return c}(j.Component);e.exports=a(c,{page:g!==void 0?g:g=b("PagesManagerInboxListRelayContainer_page.graphql")},{direction:"forward",getConnectionFromProps:function(a){return(a=a)!=null?(a=a.page)!=null?a.business_comm_items:a:a},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){var c=b.count;b=b.cursor;return{count:c,cursor:b,filterStatus:a.filterStatus,pageID:a.page.id,platformFilter:a.filterType,isHighlightedComment:a.isHighlightedComment,isStarsComment:a.isStarsComment}},query:h!==void 0?h:h=b("PagesManagerInboxListRelayContainerPaginationQuery.graphql")})}),null);
__d("PagesManagerInboxMessageListContainer.react",["FluxContainer","MediaManagerInboxLoggerActions","MediaManagerUtils","MercuryThreadInformer","MercuryThreadlistConstants","PagesManagerAction","PagesManagerInboxConnectionState.react","PagesManagerInboxFilterStore","PagesManagerInboxList.react","PagesManagerInboxListEmptyState.react","PagesManagerInboxListLoading.react","PagesManagerInboxListStore","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerMessagingThreadlistAction","PagesManagerStore","React","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=a.fbMessengerState==="DISABLED",d=null,e=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(e!=null){d=(e=e.pageConfig)==null?void 0:e.uriToken}else d=b("PagesManagerInboxStore").getConfig().uriToken;if((c||a.filterType==="WEC"&&!a.wecConnected)&&d!=null)return g.jsx(b("PagesManagerInboxConnectionState.react"),{commentConnected:a.commentConnected,filterType:a.filterType,pageID:a.pageID,pageToken:d});else return g.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:a.folder,pageID:a.pageID,platform:"MESSENGER"})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){b("PagesManagerMessagingThreadlistAction").fetchThreadlist(d.props.pageID,d.state.offset,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_COUNT)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxListStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a,c){a=!1;var d=!1,e=null,f=b("PagesManagerInboxStore").getBusinessInboxAppConfig();if(f!=null){var g;d=f.wecConfig!=null&&f.wecConfig.accountRegistered;a=f.instagramConfig!=null&&Boolean((g=f.instagramDirectConfig)==null?void 0:g.canManageComments);e=(g=f.messengerConfig)==null?void 0:g.fbMessengerState}else d=!1,a=Boolean(b("PagesManagerInboxStore").getConfig().platformConfigs.MESSENGER.canManageComments),e=b("PagesManagerInboxStore").getConfig().fbMessengerState;f=e==="DISABLED";g=[];(c.filterType==="MESSENGER"&&!f||c.filterType==="WEC"&&d)&&(g=b("PagesManagerInboxListStore").getItemsForAdmin(c.pageID,c.commItemOwnerID));f=b("PagesManagerInboxFilterStore").getActiveFolder();c=b("PagesManagerInboxListStore").isLoading();c=g.length===0?c:!1;return{folder:f,initLoading:c,threadList:g,hasMore:b("PagesManagerInboxListStore").hasMoreItem(b("PagesManagerInboxFilterStore").getActiveFolder()),offset:g.length,fbMessengerState:e!=null?e:"DISABLED",wecConnected:d,commentConnected:a}};var d=c.prototype;d.componentDidMount=function(){var a=this;b("PagesManagerMessagingThreadlistAction").initThreadlist(this.props.pageID);var c=b("MercuryThreadInformer").getForFBID(this.props.pageID);this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(c.subscribe("threadlist-updated",function(c,d){return b("PagesManagerMessagingThreadlistAction").updateThreadlist(a.props.pageID)}))};d.componentDidUpdate=function(){if(!this.state.initLoading){var a=b("PagesManagerStore").getViewingListItem();b("MediaManagerUtils").isMediaManagerApp()&&b("MediaManagerInboxLoggerActions").logListRowIndex(0);if(a===null||a===void 0){a=this.state.threadList&&this.state.threadList[0]&&this.state.threadList[0].thread_fbid;a!==null&&a!==void 0&&a!==""&&(b("PagesManagerAction").viewListItem(a),b("PagesManagerInboxLogger").logInitialListRendered(this.props.filterType,this.props.pageID))}}};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.render=function(){return this.state.initLoading&&(this.props.commItemOwnerID===null||this.props.commItemOwnerID===void 0)?g.jsx(b("PagesManagerInboxListLoading.react"),{height:this.props.height}):g.jsx(b("PagesManagerInboxList.react"),{edges:this.state.threadList,emptyState:g.jsx(h,babelHelpers["extends"]({},this.props,{commentConnected:this.state.commentConnected,fbMessengerState:this.state.fbMessengerState,folder:this.state.folder,wecConnected:this.state.wecConnected})),filterType:this.props.filterType,hasMore:this.state.hasMore,height:this.props.height,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,onLoadMore:this.$2,paddingBottom:this.props.paddingBottom,pageID:this.props.pageID,shouldShowPromoteButton:this.props.shouldShowPromoteButton},"list"+this.state.folder)};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxMultiAdminSelector.react",["ix","cx","fbt","Image.react","PagesManagerAdminSearchSource","React","RelayModern","ScrollableArea.react","SearchableEntry","ShimButton.react","asset","nullthrows","PagesManagerInboxMultiAdminSelector_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var l="ALL_CONVERSATIONS";c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$1=new(b("PagesManagerAdminSearchSource"))();c.$2=[];return c}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=b("nullthrows")(this.props.page.page_admin_users);this.$1.cacheData(a.nodes);this.$3(this.props.searchTerm)};d.UNSAFE_componentWillReceiveProps=function(a){a.searchTerm!==this.props.searchTerm&&this.$3(a.searchTerm)};d.render=function(){var a=this;return k.jsxs(b("ScrollableArea.react"),{height:this.props.height,children:[this.$4(),this.$5(),this.$2.map(function(b){return a.$6(b,function(){return a.props.onSelected(b.getUniqueID(),b.getPhoto(),b.getTitle())})})]})};d.$4=function(){var a=this;return this.$6(new(b("SearchableEntry"))({uniqueID:l,title:i._("All conversations"),photo:g("487563")}),function(){return a.props.onSelected(null)})};d.$5=function(){var a=this;return this.$6(new(b("SearchableEntry"))({uniqueID:"NONE",title:i._("Unassigned conversations"),photo:g("664708")}),function(){return a.props.onSelected("NONE")})};d.$6=function(a,c){return k.jsx(b("ShimButton.react"),{className:"_dy9"+(a.getUniqueID()===this.props.selectedAdminID||!this.props.selectedAdminID&&a.getUniqueID()===l?" _dyc":""),onClick:c,children:k.jsxs("div",{className:"_dyh",children:[k.jsx("div",{className:"_dyj",children:k.jsx(b("Image.react"),{className:"_dyk"+(a.getUniqueID()!=="NONE"&&a.getUniqueID()!==l?" _7xt_":""),src:a.getPhoto()})}),k.jsx("div",{className:"_dyj",children:a.getTitle()})]})},"admin_"+b("nullthrows")(a.getTitle()))};d.$3=function(a){var b=this;this.$1.search(a,function(a){b.$2=a},{placeCurrentAdminOnTop:!0})};return c}(k.PureComponent);e.exports=a(c,{page:j!==void 0?j:j=b("PagesManagerInboxMultiAdminSelector_page.graphql")})}),null);
__d("PagesManagerInboxMultiAdminSelectorRoot.react",["CenteredContainer.react","IGMessageDataMutateAction","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxFilterAction","PagesManagerInboxMultiAdminSelector.react","PagesManagerInboxQueryRenderer.react","PagesMangerInboxMultiAdminFilterUtil","React","RelayModern","SUIPagesManagerTheme","SUISpinner.react","PagesManagerInboxMultiAdminSelectorRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c,e,f){f===void 0&&(f=!1);if(d.props.filterType==="INSTAGRAM_DIRECT"||d.props.shouldShowUnifiedThreadlist){var g=d.props.threadManagementStatus;b("IGMessageDataMutateAction").forceFetchInbox(d.props.pageID,20,b("PageCommItemStatusUtil").getIGDirectFolder(g),g===b("PageCommItemFolder").FOLLOW_UP,g===b("PageCommItemFolder").UNREAD,(g=b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID(a))!=null?g:null,f)}b("PagesManagerInboxFilterAction").changeOwner(d.props.pageID,a,c,e);b("PagesManagerInboxFilterAction").toggleFilterSelector(!1);b("PagesManagerInboxFilterAction").toggleSearch(!1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this;return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxMultiAdminSelectorRootQuery.graphql"),variables:{pageID:this.props.pageID},render:function(c){c.error;c=c.props;return c?h.jsx(b("PagesManagerInboxMultiAdminSelector.react"),babelHelpers["extends"]({height:a.props.height,onSelected:a.$1,searchTerm:a.props.searchTerm,selectedAdminID:a.props.selectedAdminID},c)):h.jsx("div",{style:{height:a.props.height},children:h.jsx(b("CenteredContainer.react"),{fullHeight:!0,vertical:!0,children:h.jsx(b("SUISpinner.react"),{size:"small",theme:b("SUIPagesManagerTheme")})})})}})};return c}(h.PureComponent);e.exports=a}),null);
__d("AssignedInstagramUserSerializedCryptoAuthTokenQuery",["RelayFBEnvironment","RelayModern","promiseDone","AssignedInstagramUserSerializedCryptoAuthTokenQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("AssignedInstagramUserSerializedCryptoAuthTokenQuery.graphql");a=function(a,c){b("promiseDone")(h(b("RelayFBEnvironment"),i,{pageID:a}),function(a){c((a=a.page)==null?void 0:(a=a.admin_info)==null?void 0:a.assigned_instagram_user_serialized_crypto_auth_token)})};e.exports={getAssignedInstagramUserSerializedCryptoAuthToken:a}}),null);
__d("IGMqttChannel",["FacebookAppIDs","MqttChannel","MqttEnvInitializer","MqttWebConfig"],(function(a,b,c,d,e,f){"use strict";b("MqttEnvInitializer").initialize();e.exports=new(b("MqttChannel"))({endpoint:(a=b("MqttWebConfig")).endpoint,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid,appId:b("FacebookAppIDs").PAGE_INBOX,initialSubscribedTopics:a.subscribedTopics,capabilities:a.capabilities,clientCapabilities:a.clientCapabilities,chatVisibility:!0})}),null);
__d("InstagramDirectDeltaHandler",["IGMessageDataMutateAction","IGMessageInboxStore","PagesCommsInboxTypedLogger"],(function(a,b,c,d,e,f){"use strict";var g="add",h="replace",i="remove",j=1,k=2,l=8;a={_convertToItemTypeEnum:function(a){switch(a){case"text":return"TEXT";case"media":return"MEDIA";case"like":return"LIKE";case"voice_media":return"VOICE_MEDIA";case"raven_media":return"RAVEN_MEDIA";case"media_share":return"MEDIA_SHARE";case"story_share":return"STORY_SHARE";case"reel_share":return"REEL_SHARE";case"profile":return"PROFILE";case"felix_share":return"FELIX_SHARE";case"action_log":return"ACTION_LOG";case"placeholder":return"PLACEHOLDER";case"link":return"LINK";case"animated_media":return"ANIMATED_MEDIA";default:return"UNSUPPORTED"}},_getThreadIDFromPath:function(a){a=a.split("/");for(var b=0;b<a.length;++b)if(a[b]==="threads")return a[b+1];return""},_getIsMarkAsSeenFromPath:function(a){a=a.split("/");return a[a.length-1]==="has_seen"},_getUserIdFromPath:function(a){a=a.split("/");for(var b=0;b<a.length;++b)if(a[b]==="participants")return a[b+1];return""},_getBestVideoURLAndDimensions:function(a){if(a===null||a===void 0||a.length===0)return null;var b=0,c=!1;for(var d=0;d<a.length;++d)if(a[d].width===480){c=!0;d===0?b=d:b=d-1;break}c===!1&&(b=a.length-1);return{uri:a[b].url,width:a[b].width,height:a[b].height}},_getBestImageURLAndDimensions:function(a){if(a.candidates===null||a.candidates===void 0||a.candidates.length===0)return null;var b=!1;for(var c=0;c<a.candidates.length;++c)if(a.candidates[c].width===480)if(c===0)return{uri:a.candidates[c].url,width:a.candidates[c].width,height:a.candidates[c].height};else return{uri:a.candidates[c-1].url,width:a.candidates[c-1].width,height:a.candidates[c-1].height};if(b===!1)return{uri:a.candidates[a.candidates.length-1].url,width:a.candidates[a.candidates.length-1].width,height:a.candidates[a.candidates.length-1].height}},_getMediaTypeString:function(a){switch(a){case 1:return"IMAGE";case 2:return"VIDEO";default:return""}},_getRavenMediaViewMode:function(a){switch(a){case"replayable":return"REPLAYABLE";case"permanent":return"PERMANENT";case"once":return"VIEW_ONCE"}},_getMediaPayload:function(a){return a===null||a===void 0?null:{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions),expiring_at:a.expiring_at}},_getReactions:function(a,c,d){if(a===null||a===void 0)return{likes_count:0};c=b("IGMessageInboxStore").getThread(c,d).getValue();if(c===null)return;var e=(d=c)!=null?(d=d.thread_users)!=null?d.nodes:d:d;if(e===null||e===void 0)return;c=a.likes.map(function(a){var b;return{instagram_user_id:a.sender_id.toString(),profile_picture:{uri:(b=e.find(function(b){return b.instagram_user_id===a.sender_id.toString()}))!=null?(b=b.profile_picture)!=null?b.uri:b:b}}});return{likes_count:a.likes_count,likes:c}},_getMediaShareMediaSource:function(a){switch(a.media_type){case j:return{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:null};case k:return{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions)}}},_getMediaShareSources:function(a){var b=this;switch(a.media_type){case j:case k:return[this._getMediaShareMediaSource(a)];case l:return a.carousel_media.map(function(a){return b._getMediaShareMediaSource(a)})}return[]},_getProfileSharePayload:function(a){var b=this,c=a.profile;if(c===null||c===void 0)return null;a=a.preview_medias===null||a.preview_medias===void 0?null:a.preview_medias.map(function(a){return b._getBestImageURLAndDimensions(a.image_versions2)});return{user:{instagram_user_id:c.pk,username:c.username,name:c.full_name,profile_picture:{uri:c.profile_pic_url}},media:a}},_getMediaSharePayload:function(a){return a===null||a===void 0?null:{user:{instagram_user_id:a.user.pk,username:a.user.username,name:a.user.full_name,profile_picture:{uri:a.user.profile_pic_url}},media:this._getMediaShareSources(a),text:(a=(a=a)!=null?(a=a.caption)!=null?a.text:a:a)!=null?a:""}},_getUserFromShare:function(a){return a===null||a===void 0?null:{instagram_user_id:a.pk.toString(),username:a.username,name:a.full_name,profile_picture:{uri:a.profile_pic_url}}},_getStoryMedia:function(a){return a===null||a===void 0?null:[{media_type:this._getMediaTypeString(a.media_type),image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions),expiring_at:a.expiring_at,media_owner:this._getUserFromShare(a.user)}]},__getFelixShareMedia:function(a){return a===null||a===void 0?null:[{media_type:a.media_type,image_source:this._getBestImageURLAndDimensions(a.image_versions2),video_source:this._getBestVideoURLAndDimensions(a.video_versions)}]},_getStoryType:function(a){switch(a){case"user_reel":return"USER_STORY";case"highlight_reel":return"HIGHLIGHT_STORY";case"ads_reel":return"ADS_STORY"}},_getStorySharePayload:function(a){if(a===null||a===void 0)return null;var b=this._getStoryMedia(a.media);return{media:b,user:this._getUserFromShare((b=a)!=null?(b=b.media)!=null?b.user:b:b),story_type:this._getStoryType(a.reel_type),text:a.text,title:a.title,message:a.message}},_getFelixSharePayload:function(a){if(a===null||a===void 0)return null;var b=this.__getFelixShareMedia(a.video);return{media:b,user:this._getUserFromShare((b=a)!=null?(b=b.video)!=null?b.user:b:b),text:a.text,title:a.video.title}},_getReelSharePayload:function(a){var b;if(a===null||a===void 0)return null;var c=this._getStoryMedia(a.media),d;switch(a.type){case"mention":b=a.mentioned_user_id===a.reel_owner_id?(b=c)!=null?(b=b.media_owner)!=null?b.username:b:b:"";d={instagram_user_id:a.mentioned_user_id.toString(),username:b};break;case"reply":d=(b=c)!=null?(b=b[0])!=null?b.media_owner:b:b}return{media:c,user:d,story_type:this._getStoryType(a.reel_type),type:a.type.toUpperCase(),text:a.text,title:a.title,message:a.message}},_getSharePayload:function(a){switch(a.item_type){case"media_share":return this._getMediaSharePayload(a.media_share);case"story_share":return this._getStorySharePayload(a.story_share);case"reel_share":return this._getReelSharePayload(a.reel_share);case"felix_share":return this._getFelixSharePayload(a.felix_share)}},_getActionLogPayload:function(a){return a===null||a===void 0||a.hide_in_thread===1?null:{description:a.description,bold:a.bold}},_getLinkPayload:function(a){return a===null||a===void 0?null:{client_context:a.client_context,text:a.text,link_context:this._getLinkContext(a.link_context)}},_getLinkContext:function(a){return a===null||a==void 0?null:{link_url:a.link_url,link_title:a.link_title,link_summary:a.link_summary,link_image_url:a.link_image_url}},_getRavenMediaPayload:function(a){var b=a.raven_media;if(b===null||b===void 0)return null;var c=this._getRavenMediaViewMode(a.view_mode),d;c==="PERMANENT"&&(b.expiring_at=b.url_expire_at_secs,d=[this._getMediaPayload(b)]);return{media_type:this._getMediaTypeString(b.media_type),media:d,seen_user_ids:a.seen_user_ids,view_mode:c,seen_count:a.seen_count}},_getVisualMediaPayload:function(a){a=a.visual_media;if(a===null||a===void 0)return null;var b=this._getRavenMediaViewMode(a.view_mode),c=[];b==="PERMANENT"&&(a.expiring_at=a.url_expire_at_secs,c.push(this._getMediaPayload(a)));return{media_type:this._getMediaTypeString(a.media.media_type),media:c,seen_user_ids:a.seen_user_ids,view_mode:b,seen_count:a.seen_count}},_getPlaceholderPayload:function(a){return a===null||a===void 0?null:{title:a.title,message:a.message}},_getAnimatedMediaPayload:function(a){var b;return!a?null:{width:(b=(b=a)!=null?(b=b.images)!=null?(b=b.fixed_height)!=null?b.width:b:b:b)!=null?b:null,height:(b=(b=a)!=null?(b=b.images)!=null?(b=b.fixed_height)!=null?b.height:b:b:b)!=null?b:null,uri:(a=(b=a)!=null?(b=b.images)!=null?(b=b.fixed_height)!=null?b.url:b:b:b)!=null?a:null}},_getVoiceMediaPayload:function(a){var b;return!a?null:{audio_src:(b=a)!=null?(b=b.media)!=null?(b=b.audio)!=null?b.audio_src:b:b:b,duration:(b=a)!=null?(b=b.media)!=null?(b=b.audio)!=null?b.duration:b:b:b}},getDeltaItem:function(a,b){return{token:a,item_id:b.item_id,sender_id:b.user_id.toString(),time_stamp:b.timestamp.toString(),ig_item_type:this._convertToItemTypeEnum(b.item_type),text:b.text,client_context:b.client_context,ig_placeholder:this._getPlaceholderPayload(b.placeholder),profileshare:this._getProfileSharePayload(b),ig_reaction:null,share:this._getSharePayload(b),action_log:this._getActionLogPayload(b.action_log),ig_thread_item_media:this._getMediaPayload(b.media),raven_media:this._getRavenMediaPayload(b)||this._getVisualMediaPayload(b),link_source:this._getLinkPayload(b.link),animated_media:this._getAnimatedMediaPayload(b.animated_media),voice_media:this._getVoiceMediaPayload(b.voice_media)}},processDeltaItem:function(a,c,d){var e,f=d.value&&JSON.parse(d.value),j=this._getThreadIDFromPath(d.path);e=b("IGMessageInboxStore").getItemToken(a,j,(e=f==null?void 0:f.item_id)!=null?e:d==null?void 0:d.value);new(b("PagesCommsInboxTypedLogger"))().setFunnel("user_send_to_page").setCustomerID(j).setMessageID(e).setEvent("received_new_delta").setClientTime(Date.now()).setPageID(c).setMessagingPlatform("instagram_direct").log();switch(d.op){case g:var k=this.getDeltaItem(e,f);b("IGMessageDataMutateAction").createThreadItem(c,j,k);break;case h:if(this._getIsMarkAsSeenFromPath(d.path)){k=f.item_id;b("IGMessageDataMutateAction").markThreadAsSeen(c,j,k,f.timestamp.toString(),this._getUserIdFromPath(d.path));break}b("IGMessageDataMutateAction").updateThreadReadStatus(c,j,f.read_state===0);b("IGMessageDataMutateAction").updateThreadFollowUpStatus(c,j,f.thread_label===1);if(f.thread_id&&f.items&&f.items[0]){k=b("IGMessageInboxStore").getItemToken(a,f.thread_id,f.items[0].item_id);d=this.getDeltaItem(k,f.items[0]);b("IGMessageDataMutateAction").createThreadItem(c,j,d);break}a=this._getReactions(f.reactions,c,j);k=this._getRavenMediaPayload(f)||this._getVisualMediaPayload(f);b("IGMessageDataMutateAction").updateThreadItem(c,j,e,{ig_reaction:a,raven_media:k});break;case i:if(j&&!f){b("IGMessageDataMutateAction").deleteThread(c,j);break}b("IGMessageDataMutateAction").deleteThreadItem(c,j,e);break;default:return}}};e.exports=a}),null);
__d("PageInstagramDirectSyncProtocolEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MQTT_CONNECTED:"mqtt_connected",MQTT_ERROR_RECEIVED:"mqtt_error_received",AUTH_TOKEN_FETCHED:"auth_token_fetched",IRIS_CONNECTION_REQUEST:"iris_connection_request",IRIS_SUBSCRIPTION_PUBLISHED:"iris_subscription_published",IRIS_SUBSCRIPTION_RESPONSE_EMPTY:"iris_subscription_response_empty",IRIS_SUBSCRIPTION_RESPONSE_RECEIVED:"iris_subscription_response_received"})}),null);
__d("InstagramDirectMessageEventStream",["AssignedInstagramUserSerializedCryptoAuthTokenQuery","IGMessageDataMutateAction","IGMessagingLocalIDs","IGMqttChannel","InstagramDirectDeltaHandler","MercurySingletonProvider","MercurySyncDeltaHolder","MqttLogger","PageInstagramDirectSyncProtocolEvent","PageInstagramDirectSyncProtocolTypedLogger","PagesManagerInboxStore"],(function(a,b,c,d,e,f){"use strict";var g=b("AssignedInstagramUserSerializedCryptoAuthTokenQuery").getAssignedInstagramUserSerializedCryptoAuthToken;a=function(){a.getForFBID=function(a){return h.getForFBID(a)};function a(a){var c=this;this.$17=function(a){new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").AUTH_TOKEN_FETCHED).setInstagramUserID(c.$8).setPageID(c.$1).setSessionID(c.$11).log();a={seq_id:c.$5,snapshot_at_ms:c.$10!==null&&c.$10!==void 0?c.$10:Date.now(),subscription_type:"all_message",serialized_crypto_auth_token:a};c.$3.publish("/ig_sub_iris",JSON.stringify(a));new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").IRIS_SUBSCRIPTION_PUBLISHED).setInstagramUserID(c.$8).setPageID(c.$1).setSessionID(c.$11).log()};this.$4="Disconnected";this.$6=[];this.$2=b("MqttLogger").getInstance();this.$7=b("MercurySyncDeltaHolder").getForFBID(a);this.$5=0;this.$9=!1;this.$12=!1}var c=a.prototype;c.getLatestIrisSeqID=function(){return this.$5};c.addDeltaStreamListener=function(a){this.$6.push(a)};c.onInboxLoad=function(a,c,d,e,f,g){var h=this;e===void 0&&(e=null);f===void 0&&(f=null);this.$5=a;this.$8=c;this.$1=d;this.$9=!1;this.$7.updateLastSeqIDAndClearHistory(a);this.$10=f;this.$12=g;(this.$3===null||this.$3===void 0)&&(this.$11=b("IGMessagingLocalIDs").generateOfflineThreadingID(Date.now()),this.$3=e||b("IGMqttChannel"),this.$3.subscribeChannelEvents({onMQTTStateChanged:function(a){h.$4!=="Connected"&&a==="Connected"&&(new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").MQTT_CONNECTED).setPageID(h.$1).setInstagramUserID(h.$8).setSessionID(h.$11).log(),h.$13()),h.$4=a},onJSError:function(a){new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").MQTT_ERROR_RECEIVED).setPageID(h.$1).addToExtraData("error",a.message).setInstagramUserID(h.$8).setSessionID(h.$11).log(),h.$14(a.message)}}),this.$3.subscribe("/ig_sub_iris_response",function(a){return h.$15(a)}),this.$3.subscribe("/ig_message_sync",function(a){return h.$16(a)}),this.$3.subscribe("/notify_disconnect",function(a){return h.$14(a)}))};c.$13=function(){if(this.$12){var a;a=(a=b("PagesManagerInboxStore").getBusinessInboxAppConfig())==null?void 0:(a=a.instagramDirectConfig)==null?void 0:a.chatToken;this.$17(a)}else g(this.$1,this.$17)};c.$18=function(a){var b=null;try{b=JSON.parse(a)}catch(a){this.$2.logError(a,"Unable to process data")}return b};c.$15=function(a){a=this.$18(a);if(a===null||a===void 0){new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").IRIS_SUBSCRIPTION_RESPONSE_EMPTY).setInstagramUserID(this.$8).setPageID(this.$1).setSessionID(this.$11).log();return}new(b("PageInstagramDirectSyncProtocolTypedLogger"))().setEvent(b("PageInstagramDirectSyncProtocolEvent").IRIS_SUBSCRIPTION_RESPONSE_RECEIVED).setInstagramUserID(this.$8).setPageID(this.$1).setSessionID(this.$11).log()};c.$16=function(a){var b=this;a=this.$18(a);if(a===null||a===void 0)return;a.forEach(function(a){a.data.forEach(function(c){b.$7.push(a.seq_id,c),b.$19()})})};c.$19=function(){if(this.$9)return;var a=this.$7.peek();if(a===null||a===void 0)return;a=a-this.$7.getLastSeqID();if(a===1){var c=this.$7.pop();if(!c)return;var d=c.seqID;c=c.delta;this.$5=d;this.$7.updateLastSeqID(d);b("InstagramDirectDeltaHandler").processDeltaItem(this.$8,this.$1,c);this.$19()}else a<=0?(this.$7.pop(),this.$19()):(this.$9=!0,b("IGMessageDataMutateAction").forceFetchInbox(this.$1,20,"TODO",!1,!1,null,this.$12))};c.$14=function(a){this.$4="Disconnected",this.$2.logWarn("_handleNotifyDisconnect","Disconnecting reason: "+a),this.$2.bumpCounter(a+"_request"),this.$6.forEach(function(b){return b.onStreamDisconnect(a)})};return a}();var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("PagesManagerInboxUnifiedThreadlistStore",["FluxStore","PagesManagerActionType","PagesManagerDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesManagerDispatcher"))||this;c.$PagesManagerInboxUnifiedThreadlistStore1=null;c.$PagesManagerInboxUnifiedThreadlistStore2=!1;c.$PagesManagerInboxUnifiedThreadlistStore3=!1;return c}var d=c.prototype;d.__onDispatch=function(a){switch(a.type){case b("PagesManagerActionType").LIST.SET_INSTAGRAM_INBOX:this.$PagesManagerInboxUnifiedThreadlistStore1=a.instagramInbox;this.__emitChange();break;case b("PagesManagerActionType").LIST.LOADING_INSTAGRAM_INBOX:this.$PagesManagerInboxUnifiedThreadlistStore2=a.isLoadingInbox;this.__emitChange();break;case b("PagesManagerActionType").LIST.SET_INSTAGRAM_LOADING_ERROR:this.$PagesManagerInboxUnifiedThreadlistStore3=a.hasError;this.__emitChange();break}return};d.getInstagramInbox=function(){return this.$PagesManagerInboxUnifiedThreadlistStore3?null:this.$PagesManagerInboxUnifiedThreadlistStore1};d.getIsLoadingInstagramInbox=function(){return this.$PagesManagerInboxUnifiedThreadlistStore3?!1:this.$PagesManagerInboxUnifiedThreadlistStore2};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerInboxListHeaderUnifiedThreadlistInstagramNUX.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","Link.react","PageLinkInstagramAccountOAuthLogin.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesMessagingInboxActionLogger","PopupWindow","React","URI","XPageLinkInstagramAccountOAuthController"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k=700,l=800,m="page_inbox_unified_thread_list_instagram_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNux:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowNux:!1})},d.$4=function(){d.props.instagramCommentConnected?b("PagesMessagingInboxActionLogger").logConnectInstagramDirectButtonClicked(!0):b("PagesMessagingInboxActionLogger").logConnectInstagramButtonClicked(!0);var a=new(i||(i=b("URI")))("https://api.instagram.com/oauth/authorize/"),c=window.location.origin+b("XPageLinkInstagramAccountOAuthController").getURIBuilder().getURI().toString();a.addQueryData({redirect_uri:c,app_id:17951132926087090,response_type:"code",force_reauth:!0});b("PopupWindow").open(a.toString(),k,l);d.$3()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(m);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[m]};d.render=function(){var a=this.props.instagramCommentConnected?g._("Manage Instagram messages"):g._("Connect to Instagram"),c=j.jsx(b("Link.react"),{href:"https://www.facebook.com/help/2546917405323366",children:g._("Learn more")});c=this.props.instagramCommentConnected?j.jsxs("div",{children:[g._("Reconnect your Instagram account to let Page admins, editors and moderators read and respond to Direct messages in Inbox.")," ",c]}):j.jsxs("div",{children:[g._("Manage comments and Direct messages in Inbox. Other people who manage the Page may also be able to post and take other actions on the connected account.")," ",c]});var d=this.props.canShowConnectButton?this.props.instagramCommentConnected?g._("Reconnect"):g._("Connect"):null,e=this.props.instagramCommentConnected?h("895232"):h("1162612");return j.jsxs(j.Fragment,{children:[j.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:e,onButtonClick:this.$4,onClose:this.$3,shown:this.state.shouldShowNux},"BusinessToolsMegaphoneNUX"),j.jsx(b("PageLinkInstagramAccountOAuthLogin.react"),{allowOverrideLink:!0,pageID:this.props.pageID,permissions:["manage_messages","manage_ads","manage_comments"]})]})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderUnifiedThreadlistMessengerNux.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","PagesEnableMessengerMutation","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XPagesManagerSettingsController"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="page_inbox_utl_enable_messenger_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNux:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowNux:!1})},d.$4=function(){b("PagesEnableMessengerMutation").commit(d.props.pageID,!0,function(){d.$3(),location.reload()},function(){b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",b("PagesManagerInboxStore").getConfig().uriToken).setString("tab","settings").setString("section","messages").getURI().go()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(j);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[j]};d.render=function(){var a=g._("Turn on Messenger"),c=g._("Get additional messaging features and give people another way to contact you."),d=g._("Turn on Messenger");return i.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("1162384"),onButtonClick:this.$4,onClose:this.$3,shown:this.state.shouldShowNux},"BusinessToolsMegaphoneNUX")};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderUnifiedThreadlistNUX.react",["fbt","ix","BusinessToolsMegaphoneNUX.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j="page_inbox_unified_thread_list_nux";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNux:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowNux:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(j);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[j]};d.render=function(){var a=g._("New! One tab for messages"),c=g._("See Messenger and Instagram messages in one place. Filter messages by platform to view them separately."),d=g._("OK");return i.jsx(b("BusinessToolsMegaphoneNUX.react"),{bodyText:c,buttonText:d,headerText:a,imageSrc:h("1162613"),onButtonClick:this.$3,onClose:this.$3,shown:this.state.shouldShowNux},"BusinessToolsMegaphoneNUX")};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxMessageThreadListUtil",["IGMessageInboxStore","PageCommItemFolder"],(function(a,b,c,d,e,f){"use strict";a={getUnifiedThreadList:function(a,c,d,e,f,g){c=c.filter(function(a){return d===b("PageCommItemFolder").FOLLOW_UP?a.is_page_follow_up===!0:!0}).map(function(a){return{platform:"MESSENGER",instagramThread:null,messengerThread:a,timestamp:a.timestamp+"000",threadID:(a=a.thread_fbid)!=null?a:""}});a=((a=a==null?void 0:a.nodes)!=null?a:[]).map(function(a){var b;return{platform:"INSTAGRAM_DIRECT",instagramThread:a,messengerThread:null,timestamp:(b=a.last_activity_at)!=null?b:"",threadID:(b=a.token)!=null?b:""}});var h=[];if(d===b("PageCommItemFolder").MESSENGER_THREADS)return c;else if(d===b("PageCommItemFolder").INSTAGRAM_THREADS)return a;h=c.concat(a);h.sort(function(a,c){return b("IGMessageInboxStore").largeNumberCompare(c.timestamp,a.timestamp)});(f||g)&&d!==b("PageCommItemFolder").INSTAGRAM_THREADS&&d!==b("PageCommItemFolder").MESSENGER_THREADS&&h.splice(e);return h},getCanLoadMore:function(a,c,d){switch(a){case b("PageCommItemFolder").INSTAGRAM_THREADS:return d;case b("PageCommItemFolder").MESSENGER_THREADS:return c;default:return d||c}}};e.exports=a}),null);
__d("UnifiedInboxUnifiedThreadListView.react",["cssVar","BIZInboxClientLogger","ErrorBoundary.react","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAwayInfoRoot.react","PagesManagerInboxConnectionState.react","PagesManagerInboxFilterAction","PagesManagerInboxListEmptyState.react","PagesManagerInboxListHeaderAutomationNUX.react","PagesManagerInboxListHeaderBizWebUpsellNUX.react","PagesManagerInboxListHeaderPersonaNUX.react","PagesManagerInboxListHeaderUnifiedThreadlistInstagramNUX.react","PagesManagerInboxListHeaderUnifiedThreadlistMessengerNux.react","PagesManagerInboxListHeaderUnifiedThreadlistNUX.react","PagesManagerInboxListSpinner.react","PagesManagerInboxLogger","PagesManagerInboxMessageListRowContainer.react","PagesManagerInboxMessageThreadListUtil","PagesManagerInboxStore","PagesSelectableSimpleList.react","React","ResponsiveBlock.react","UnifiedInboxIGMessageThreadRowContainer.react","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function i(a){return function(c){return b("nullthrows")(a[c].threadID)}}function j(a,c,d){return function(e,f,g){f=a[e];return f.platform==="MESSENGER"?h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsx(b("PagesManagerInboxMessageListRowContainer.react"),{filter:"MESSENGER",item:b("nullthrows")(f.messengerThread),pageID:c,shouldAnimate:!1},f.threadID)}):h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsx(b("UnifiedInboxIGMessageThreadRowContainer.react"),{isViewing:d===f.threadID,mailboxID:c,token:f.threadID})})}}function k(a){var c=b("PagesManagerInboxStore").getConfig().fbMessengerState==="DISABLED",d=b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT,e=d.canManageComments;d=d.igAccountID===null;if(c&&d&&a.threadManagementStatus!==b("PageCommItemFolder").INSTAGRAM_THREADS||c&&a.threadManagementStatus===b("PageCommItemFolder").MESSENGER_THREADS)return h.jsx("div",{style:{height:a.scrollHeight,backgroundColor:"#FFFFFF"},children:h.jsx(b("PagesManagerInboxConnectionState.react"),{filterType:"MESSENGER",pageID:a.mailboxID,pageToken:b("PagesManagerInboxStore").getConfig().uriToken})});return a.threadManagementStatus===b("PageCommItemFolder").INSTAGRAM_THREADS&&d?h.jsx("div",{style:{height:a.scrollHeight,backgroundColor:"#FFFFFF"},children:h.jsx(b("PagesManagerInboxConnectionState.react"),{commentConnected:e,filterType:"INSTAGRAM_DIRECT",pageID:a.mailboxID,pageToken:""})}):h.jsx(b("PagesManagerInboxListEmptyState.react"),{folder:a.threadManagementStatus,pageID:a.mailboxID,platform:"MESSENGER"})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={nodes:[],canLoadMore:!0},b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromProps=function(a,c){return{nodes:b("PagesManagerInboxMessageThreadListUtil").getUnifiedThreadList(a.instagramThreads,a.messengerThreads,a.folder,a.loadCount,a.messengerHasMore,a.instagramHasMore),canLoadMore:b("PagesManagerInboxMessageThreadListUtil").getCanLoadMore(a.folder,a.messengerHasMore,a.instagramHasMore)}};var d=c.prototype;d.componentDidMount=function(){b("BIZInboxClientLogger").logThreadListRenderView(this.props.pageID,"ALL")};d.componentDidUpdate=function(a,c){if(this.props.viewingItemToken===null){this.state.nodes.length>0&&(b("PagesManagerInboxFilterAction").changePlatform(this.state.nodes[0].platform),b("PagesManagerAction").viewListItem(this.state.nodes[0].threadID));return}};d.$1=function(a,c){b("PagesManagerAction").setListHeaderHeight(c)};d.render=function(){return this.state.nodes.length===0?h.jsx(k,{mailboxID:this.props.mailboxID,scrollHeight:this.props.scrollHeight,threadManagementStatus:this.props.threadManagementStatus}):h.jsxs("div",{children:[h.jsx(b("PagesManagerInboxAwayInfoRoot.react"),{pageID:this.props.pageID,shouldShowUnifiedThreadlist:!0}),h.jsxs(b("ResponsiveBlock.react"),{onResize:this.$1,children:[h.jsx(b("PagesManagerInboxListHeaderBizWebUpsellNUX.react"),{pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderPersonaNUX.react"),{pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderAutomationNUX.react"),{pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderUnifiedThreadlistNUX.react"),{pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderUnifiedThreadlistInstagramNUX.react"),{canShowConnectButton:this.props.canShowConnectButton,instagramCommentConnected:this.props.igCommentConnected,pageID:this.props.pageID}),h.jsx(b("PagesManagerInboxListHeaderUnifiedThreadlistMessengerNux.react"),{pageID:this.props.pageID})]}),h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsx(b("PagesSelectableSimpleList.react"),{canLoadMoreRows:this.state.canLoadMore,height:this.props.scrollHeight,loadingIndicator:h.jsx(b("PagesManagerInboxListSpinner.react"),{}),onRequestMoreRows:this.props.onLoadMore,rowCount:this.state.nodes.length,rowHeight:parseInt("80px",10),rowKeyGetter:i(b("nullthrows")(this.state.nodes)),rowRenderer:j(b("nullthrows")(this.state.nodes),this.props.mailboxID,this.props.viewingItemToken),showHeader:!1})})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("UnifiedInboxUnifiedThreadlistContainer.react",["FluxContainer","IGMessageConnectionUtils","IGMessageInboxStore","MercuryThreadInformer","MercuryThreadlistConstants","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerInboxListLoading.react","PagesManagerInboxListStore","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistAction","PagesManagerInboxUnifiedThreadlistStore","PagesManagerMessagingThreadlistAction","PagesMangerInboxMultiAdminFilterUtil","PagesMessagingPerfTypedLogger","React","SubscriptionsHandler","UnifiedInboxUnifiedThreadListView.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={instagramInbox:null,loadCount:0,messengerThreads:[],offset:0,messengerHasMore:!1,instagramHasMore:!1,shouldShowNewMultiAdminAssignment:!1,isInitLoading:!0},d.$1=!1,d.$2=null,d.$3=function(){d.state.instagramHasMore&&d.setState(function(a){a=a.loadCount+b("MercuryThreadlistConstants").WEBMESSENGER_MORE_COUNT;b("IGMessageInboxStore").getInbox(d.props.mailboxID,a,null,b("PageCommItemStatusUtil").getIGDirectFolder(d.props.threadManagementStatus),d.props.threadManagementStatus===b("PageCommItemFolder").FOLLOW_UP,d.props.threadManagementStatus===b("PageCommItemFolder").UNREAD,b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID(d.props.commItemOwnerID));return{loadCount:a}}),d.state.messengerHasMore&&(d.props.messengerDisabled||b("PagesManagerMessagingThreadlistAction").fetchThreadlist(d.props.pageID,d.state.offset,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_COUNT))},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxListStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxUnifiedThreadlistStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a,c){var d;a=a?a.loadCount:b("MercuryThreadlistConstants").WEBMESSENGER_MORE_COUNT;var e=c.messengerDisabled?!1:b("PagesManagerInboxListStore").isLoading(),f=b("PagesManagerInboxUnifiedThreadlistStore").getIsLoadingInstagramInbox(),g=c.messengerDisabled?[]:b("PagesManagerInboxListStore").getItemsForAdmin(c.pageID,c.commItemOwnerID),h=b("PagesManagerInboxUnifiedThreadlistStore").getInstagramInbox();d=(d=b("PagesManagerInboxStore").getBusinessInboxAppConfig())==null?void 0:d.instagramDirectConfig;if(h!=null&&(d==null?void 0:d.igAccountIGID)!=null){var i=d==null?void 0:d.igAccountID;d=d==null?void 0:d.mailboxID;i!=null&&d!=null&&b("IGMessageConnectionUtils").processInstagramMessageEventStream(i,d,h)}d=(h==null?void 0:(i=h.page_info)==null?void 0:i.has_next_page)===!0;i=b("PagesManagerInboxStore").getBusinessInboxAppConfig();i=i==null?b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment:Boolean((i=i.inboxRedesignConfig)==null?void 0:i.shouldShowNewMultiAdminAssignment);return{instagramInbox:h,loadCount:a,messengerThreads:g,offset:g.length,messengerHasMore:b("PagesManagerInboxListStore").hasMoreItem(b("PagesManagerInboxFilterStore").getActiveFolder()),instagramHasMore:d,shouldShowNewMultiAdminAssignment:i,isInitLoading:e&&g.length===0&&!c.commItemOwnerID||f}};var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=!0;b("PagesManagerMessagingThreadlistAction").initThreadlist(this.props.pageID);var c=b("MercuryThreadInformer").getForFBID(this.props.pageID);this.$2=new(b("SubscriptionsHandler"))();this.$2.addSubscriptions(c.subscribe("threadlist-updated",function(c,d){return b("PagesManagerMessagingThreadlistAction").updateThreadlist(a.props.pageID)}));b("PagesManagerInboxUnifiedThreadlistAction").setIsLoadingInbox(!0);b("IGMessageInboxStore").getInbox(this.props.mailboxID,b("MercuryThreadlistConstants").WEBMESSENGER_MORE_COUNT,null,b("PageCommItemStatusUtil").getIGDirectFolder(this.props.threadManagementStatus),this.props.threadManagementStatus===b("PageCommItemFolder").FOLLOW_UP,this.props.threadManagementStatus===b("PageCommItemFolder").UNREAD,b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID(this.props.commItemOwnerID));this.props.viewingItemToken!=null&&this.props.viewingItemToken!==""&&b("PagesManagerAction").viewListItem(this.props.viewingItemToken)};d.componentDidUpdate=function(a,c){c.isInitLoading&&!this.state.isInitLoading&&(this.props.loadEndEventLogged===!1&&this.props.loadStartTime!=null&&this.props.logLoadEndEvent!==null&&(new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.pageID).setEventName("threadlist_render_complete").setPlatform("ALL").setPerfTime(Date.now()-this.props.loadStartTime).log(),this.props.logLoadEndEvent&&this.props.logLoadEndEvent()),b("PagesManagerInboxLogger").logInitialListRendered("ALL",this.props.pageID))};d.componentWillUnmount=function(){this.$2&&this.$2.release(),this.$1=!1};d.render=function(){var a=this.props.height-this.props.paddingBottom;return this.state.isInitLoading?g.jsx(b("PagesManagerInboxListLoading.react"),{height:this.props.height}):g.jsx("div",{children:g.jsx(b("UnifiedInboxUnifiedThreadListView.react"),{canShowConnectButton:this.props.canShowConnectButton,folder:this.props.threadManagementStatus,igCommentConnected:this.props.igCommentConnected,instagramHasMore:this.state.instagramHasMore,instagramThreads:this.props.commItemOwnerID!=null&&this.state.shouldShowNewMultiAdminAssignment===!1?null:this.state.instagramInbox,loadCount:Math.max(this.state.offset,this.state.loadCount),mailboxID:this.props.mailboxID,messengerHasMore:this.state.messengerHasMore,messengerThreads:this.state.messengerThreads,onLoadMore:this.$3,pageID:this.props.pageID,scrollHeight:a,threadManagementStatus:this.props.threadManagementStatus,viewingItemToken:this.props.viewingItemToken})})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxListFluxContainer.react",["cssVar","cx","fbt","BulkActionsContext","FluxContainer","Image.react","JSResource","MediaManagerInboxCustomTabMessageList.react","MediaManagerInboxCustomTabUtils","MediaManagerInboxPriorityMessageListContainer.react","MediaManagerUtils","PageCommItemFolder","PageCommItemIsReadStatus","PageCommItemStatusUtil","PageCommPlatform","PageManagerInboxLabelThreadSearch.react","PageManagerInboxThreadContentSearch.react","PagesManagerAction","PagesManagerInboxAwayInfoRoot.react","PagesManagerInboxConnectionState.react","PagesManagerInboxFilterStateView.react","PagesManagerInboxFilterStore","PagesManagerInboxListAction","PagesManagerInboxListLoading.react","PagesManagerInboxListRelayContainer.react","PagesManagerInboxListSearchResults.react","PagesManagerInboxMercuryUtil","PagesManagerInboxMessageListContainer.react","PagesManagerInboxMultiAdminSelectorRoot.react","PagesManagerInboxQueryRenderer.react","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","PagesManagerMessagingLogger","PagesManagerStore","PagesMessagingPerfTypedLogger","React","RelayModern","ResponsiveBlock.react","ScrollableArea.react","UnifiedInboxUnifiedThreadlistContainer.react","lazyLoadComponent","nullthrows","PagesManagerInboxListFluxContainerQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("MediaManagerUtils").isMediaManagerApp,l=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,m=b("React");b("RelayModern").graphql;var n=47,o=b("lazyLoadComponent")(b("JSResource")("UnifiedInboxIGMessageListContainer.react").__setRef("PagesManagerInboxListFluxContainer.react"));a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore"),b("PagesManagerStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getConfig(),c=b("PagesManagerInboxStore").getBusinessInboxAppConfig(),d=b("PagesManagerInboxFilterStore").getActiveType(),e=d==="MESSENGER"||d==="INSTAGRAM_DIRECT"?b("PagesManagerInboxFilterStore").getActiveOwner():null,f=a.platformConfigs[d],g=d==="INSTAGRAM_DIRECT"?a.platformConfigs.MESSENGER.canManageComments:!1,h=b("PagesManagerInboxFilterStore").getActiveUTLFolder(),i=null;if(d==="INSTAGRAM_DIRECT"){i=c!=null?(d=c.instagramDirectConfig)==null?void 0:d.igAccountID:b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT.igAccountID}return{canShowConnectButton:b("PagesManagerInboxStore").getConfig().showConnectButton===!0,filterFolder:b("PagesManagerInboxFilterStore").getActiveFolder(),filterOwner:e,filterType:b("PagesManagerInboxFilterStore").getActiveType(),isSearchActive:b("PagesManagerInboxFilterStore").getIsSearchActive(),pageCustomerID:b("PagesManagerInboxFilterStore").getPageCustomerID(),igAccountID:i,pageID:a.pageID,searchTerm:b("PagesManagerInboxFilterStore").getSearchTerm(),searchType:b("PagesManagerInboxFilterStore").getSearchType(),viewingItem:b("PagesManagerStore").getViewingListItem(),activeSearchLabels:b("PagesManagerInboxFilterStore").getCurrentSearchCustomLabels(),shouldShowPromoteButton:f.showPromoteButton,commentConnected:g,shouldUseUnifiedThreadlist:l(),bulkActionsContext:{selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),showBulkSelection:b("PagesManagerInboxStore").shouldShowBulkActions()&&b("PagesManagerStore").isBulkSelectionMode()},messengerDisabled:b("PagesManagerInboxStore").getConfig().fbMessengerState==="DISABLED",shouldShowIGDirectAutomatedResponse:b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowIGDirectAutomatedResponse,utlFolderType:h}};function c(b,c){return a.call(this,b)||this}var d=c.prototype;d.componentDidMount=function(){this.state.filterType==="MESSENGER"&&b("PagesManagerMessagingLogger").logMessagesSectionViewEvent(this.props.mailboxID,null,this.state.filterType),(this.state.filterType==="MESSENGER"||this.state.filterType==="WEC"||this.state.filterType==="INSTAGRAM_DIRECT")&&(b("PagesManagerMessagingLogger").logPageViewFolderEventForInbox(this.props.mailboxID,b("PagesManagerInboxFilterStore").getActiveFolder(),"new_message_tab"),this.state.isSearchActive||new(b("PagesMessagingPerfTypedLogger"))().setPageID(this.props.mailboxID).setEventName("threadlist_load_more").setThreadOffset(0).log())};d.$1=function(a,c){a&&!c?b("PagesManagerInboxListAction").setInboxListResponseData(!0):!a&&!c&&b("PagesManagerInboxListAction").setInboxListResponseData(!1)};d.$2=function(){var a,c=b("PageCommItemStatusUtil").getIsFilter(this.state.filterFolder);a=((a=this.state.filterOwner)==null?void 0:a.id)!=null;c=(c||a)&&!k();return c?m.jsx(b("PagesManagerInboxFilterStateView.react"),{filterFolder:this.state.filterFolder,filterOwner:this.state.filterOwner,mailboxID:this.props.mailboxID,platform:this.state.filterType,shouldUseUnifiedThreadlist:this.state.shouldUseUnifiedThreadlist}):null};d.$3=function(){return m.jsx(b("ScrollableArea.react"),{height:this.props.height,children:this.state.searchTerm===""&&this.state.activeSearchLabels.length===0?m.jsxs("div",{className:"_7_fp",children:[m.jsx("div",{children:m.jsx(b("Image.react"),{src:"/images/pages/pages_manager/inbox/search-empty-state.png"})}),m.jsx("div",{className:"_7_fq",children:this.state.searchType==="CONTENT"?i._("Search your Messenger conversations for message content."):i._("Search for people and labels across Facebook, Messenger and Instagram. You also can search your Messenger conversations for message content.")})]}):null})};d.$4=function(a,c){b("PagesManagerAction").setListHeaderHeight(c)};d.$5=function(){return this.state.shouldShowIGDirectAutomatedResponse===!1?null:m.jsx(b("ResponsiveBlock.react"),{onResize:this.$4,children:m.jsx(b("PagesManagerInboxAwayInfoRoot.react"),{pageID:this.props.mailboxID,shouldShowUnifiedThreadlist:!1})})};d.render=function(){var a=this;if(this.state.isSearchActive&&this.state.searchType==="ADMIN"){var c=this.state.filterOwner?this.state.filterOwner.id:null;return m.jsx(b("PagesManagerInboxMultiAdminSelectorRoot.react"),{filterType:this.state.filterType,height:this.props.height,pageID:this.props.mailboxID,searchTerm:this.state.searchTerm,selectedAdminID:c,shouldShowUnifiedThreadlist:this.state.shouldUseUnifiedThreadlist,threadManagementStatus:this.state.filterFolder})}if(this.state.isSearchActive&&this.state.searchType==="CONTENT")return this.state.searchTerm.length<3?this.$3():m.jsx(b("ScrollableArea.react"),{height:this.props.height,children:m.jsx(b("PageManagerInboxThreadContentSearch.react"),{filterType:this.state.filterType,height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,searchTerm:this.state.searchTerm,shouldShowPromoteButton:this.state.shouldShowPromoteButton})});if(this.state.isSearchActive&&this.state.searchType==="CUSTOMER"&&this.state.searchTerm!=="")return m.jsx(b("ScrollableArea.react"),{height:this.props.height,children:m.jsx(b("PagesManagerInboxListSearchResults.react"),{height:this.props.height,pageCustomerID:b("nullthrows")(this.state.pageCustomerID),useNewLabelSearch:this.state.searchType!=="CUSTOMER",viewingItem:this.state.viewingItem})});if(this.state.isSearchActive&&this.state.searchType==="LABEL")return this.state.isSearchActive&&this.state.activeSearchLabels.length===0?this.$3():m.jsx(b("ScrollableArea.react"),{height:this.props.height,children:m.jsx(b("BulkActionsContext").Provider,{value:this.state.bulkActionsContext,children:m.jsx(b("PageManagerInboxLabelThreadSearch.react"),{height:this.props.height,labels:this.state.activeSearchLabels})})});var d=b("PageCommItemStatusUtil").getFolderStatus(this.state.filterFolder);if(this.state.filterType==="WEC"&&!this.props.mailboxID)return m.jsx("div",{style:{backgroundColor:"#FFFFFF"},children:m.jsx(b("PagesManagerInboxConnectionState.react"),{filterType:"WEC",pageID:this.state.pageID,pageToken:""})});c=this.$2()===null?this.props.height:this.props.height-n;if(this.state.shouldUseUnifiedThreadlist&&this.state.utlFolderType==="ALL"&&(this.state.filterType==="INSTAGRAM_DIRECT"||this.state.filterType==="MESSENGER")){var e=null;this.state.filterOwner&&this.state.filterOwner.id&&(e=this.state.filterOwner.id);return m.jsxs("div",{children:[this.$2(),m.jsx(m.Suspense,{fallback:m.jsx(b("PagesManagerInboxListLoading.react"),{height:this.props.height}),children:m.jsx(b("UnifiedInboxUnifiedThreadlistContainer.react"),{canShowConnectButton:this.state.canShowConnectButton,commItemOwnerID:e,height:c,igCommentConnected:(e=this.state.commentConnected)!=null?e:!1,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,mailboxID:this.props.mailboxID,messengerDisabled:this.state.messengerDisabled,paddingBottom:this.props.paddingBottom,pageID:this.state.pageID,shouldShowPromoteButton:this.state.shouldShowPromoteButton,threadManagementStatus:this.state.filterFolder,viewingItemToken:this.state.viewingItem})})]})}if(this.state.filterType==="INSTAGRAM_DIRECT"||this.state.shouldUseUnifiedThreadlist&&this.state.utlFolderType==="INSTAGRAM_DIRECT"&&b("PagesManagerInboxMercuryUtil").shouldUseMercury()){e=(e=this.state.commentConnected)!=null?e:!1;return m.jsxs("div",{children:[this.$2(),this.$5(),m.jsx(m.Suspense,{fallback:m.jsx(b("PagesManagerInboxListLoading.react"),{height:this.props.height}),children:m.jsx(o,{commentConnected:e,filterOwner:this.state.filterOwner,height:c,igAccountID:this.state.igAccountID,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,mailboxID:this.props.mailboxID,paddingBottom:this.props.paddingBottom,pageID:this.state.pageID,threadManagementStatus:this.state.filterFolder,viewingItemToken:this.state.viewingItem})})]})}else if(b("PagesManagerInboxMercuryUtil").shouldUseMercury())return this.state.filterType==="MESSENGER"&&this.state.filterFolder===b("PageCommItemFolder").PRIORITY&&k()?m.jsxs("div",{children:[this.$2(),m.jsx(b("MediaManagerInboxPriorityMessageListContainer.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,viewingItem:this.state.viewingItem})]}):m.jsxs("div",{children:[this.$2(),m.jsx(b("PagesManagerInboxMessageListContainer.react"),{commItemOwnerID:this.state.filterOwner?this.state.filterOwner.id:null,filterType:this.state.filterType,height:c,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,shouldShowPromoteButton:this.state.shouldShowPromoteButton,viewingItem:this.state.viewingItem})]});if(b("MediaManagerInboxCustomTabUtils").shouldShowMediaManagerCustomTab(this.state.filterType))return m.jsx(b("MediaManagerInboxCustomTabMessageList.react"),{height:this.props.height,paddingBottom:this.props.paddingBottom,pageID:this.props.mailboxID,tab:this.state.filterType});var f=this.state.filterFolder===b("PageCommItemFolder").UNREAD?b("PageCommItemIsReadStatus").UNREAD:null,g=this.state.filterOwner?this.state.filterOwner.id:null;return m.jsx(b("PagesManagerInboxQueryRenderer.react"),{cacheConfig:{force:!0},query:j!==void 0?j:j=b("PagesManagerInboxListFluxContainerQuery.graphql"),render:function(c){var e=c.error;c=c.props;a.$1(c,e);return c&&!e?m.jsxs("div",{children:[a.$2(),m.jsx(b("PagesManagerInboxListRelayContainer.react"),{filterIsReadStatus:f,filterOwnerID:g,filterStatus:d,filterType:a.state.filterType,folder:a.state.filterFolder,height:a.props.height,isHighlightedComment:a.state.filterFolder===b("PageCommItemFolder").PRIORITY,isStarsComment:a.state.filterFolder===b("PageCommItemFolder").MEDIA_MANAGER_STARS_COMMENT,loadEndEventLogged:a.props.loadEndEventLogged,loadStartTime:a.props.loadStartTime,logLoadEndEvent:a.props.logLoadEndEvent,paddingBottom:a.props.paddingBottom,page:c.page,pageID:a.props.mailboxID,shouldShowPromoteButton:a.state.shouldShowPromoteButton,viewingItem:a.state.viewingItem})]}):m.jsx(b("PagesManagerInboxListLoading.react"),{height:a.props.height})},variables:{filterStatus:d,pageID:this.props.mailboxID,platformFilter:this.state.filterType,filterIsReadStatus:f,filterOwnerID:g,isHighlightedComment:this.state.filterFolder===b("PageCommItemFolder").PRIORITY,isStarsComment:this.state.filterFolder===b("PageCommItemFolder").MEDIA_MANAGER_STARS_COMMENT}})};return c}(m.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxAutomationDoneFolderNUX.react",["fbt","FDSText.react","FluxContainer","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesMarketingAutomationStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="business_inbox_automation_done_folder";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2(i)),d.setState({shouldShowNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesMarketingAutomationStore")]};c.calculateState=function(a,c){return{shouldShowNUX:!!b("PagesMarketingAutomationStore").getRecentAutomationThreadFBID()}};var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$2(i));return a};d.$2=function(a){return b("PagesManagerInboxNUX")[a]};d.render=function(){return h.jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,customwidth:240,offsetX:-255,offsetY:-30,onCloseButtonClick:this.$3,position:"right",shown:this.state.shouldShowNUX&&this.$1(),width:"custom",children:h.jsx(b("FDSText.react"),{color:"white",size:"body3",children:g._("Conversations with automation that are in progress can be found in the Done folder.")})})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxBulkActionsCancelSelectionButton.react",["cx","BulkSelectionThreadAction","LeftRight.react","PagesManagerAction","PagesManagerBulkActionLogger","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(){function a(){b("PagesManagerBulkActionLogger").logSelectionCheckboxClick({event_data:{thread_action:b("BulkSelectionThreadAction").UNSELECT}}),b("PagesManagerAction").toggleBulkSelectionMode()}return h.jsx("div",{className:"_3qn7 _3qng",children:h.jsx(b("LeftRight.react"),{children:h.jsx("div",{className:"_8iwy _8iwz",onClick:a,role:"button",tabIndex:"0"})})})}e.exports=a}),null);
__d("PagesManagerInboxBulkActionItemsUtils",["fbt","invariant","PagesManagerBulkActionLogger","React","Text.react","keyMirror","nullthrows","productsAssertExhausted"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("keyMirror")({DONE:null,FOLLOW_UP:null,INBOX:null,MARK_UNREAD:null,SPAM:null,DELETE:null,ASSIGN_ADMIN:null,REPLY:null,LABEL:null});function k(a){switch(a){case"FOLLOW_UP":return"follow_up";case"DONE":return"done";case"INBOX":return"todo";case"SPAM":return"spam";default:return null}}a={mapCommItemStatusTypeToBulkActionType:function(a){switch(a){case"FOLLOW_UP":return j.FOLLOW_UP;case"DONE":return j.DONE;case"TODO":return j.INBOX;case"SPAM":return j.SPAM;case"DELETED":return j.DELETE;default:b("productsAssertExhausted")(a)}},getToolTipLabel:function(a){switch(a){case"DONE":return g._("Move to Done");case"FOLLOW_UP":return g._("Mark as \"Follow up\"");case"INBOX":return g._("Move to Main");case"MARK_UNREAD":return g._("Mark as Unread");case"SPAM":return g._("Move to Spam");case"DELETE":return g._("Delete");case"ASSIGN_ADMIN":return g._("Assign Conversation");case"REPLY":return g._("Reply");case"LABEL":return g._("Add Labels");default:b("productsAssertExhausted")(a)}return""},getActionConfirmation:function(a,c,d,e){d===void 0&&(d=0);e===void 0&&(e="");switch(a){case"DONE":return g._({"*":"{number} conversations moved to Done folder","_1":"1 conversation moved to Done folder"},[g._plural(c,"number")]);case"FOLLOW_UP":return g._({"*":"{number} conversations marked as \"Follow up\"","_1":"1 conversation marked as \"Follow up\""},[g._plural(c,"number")]);case"INBOX":return g._({"*":"{number} conversations moved to Main folder","_1":"1 conversation moved to Main folder"},[g._plural(c,"number")]);case"MARK_UNREAD":return g._({"*":"{number} conversations marked as unread","_1":"1 conversation marked as unread"},[g._plural(c,"number")]);case"SPAM":return g._({"*":"{number} conversations moved to Spam folder","_1":"1 conversation moved to Spam folder"},[g._plural(c,"number")]);case"DELETE":return g._({"*":"{number} conversations deleted","_1":"1 conversation deleted"},[g._plural(c,"number")]);case"ASSIGN_ADMIN":e!==""||h(0,19125);return g._({"*":"{number} conversations assigned to {admin_name}","_1":"1 conversation assigned to {admin_name}"},[g._plural(c,"number"),g._param("admin_name",e)]);case"REPLY":return g._({"*":"You replied to {number} conversations","_1":"You replied to 1 conversation"},[g._plural(c,"number")]);case"LABEL":return g._({"*":{"*":"Labels added to {number} conversations","_1":"Labels added to 1 conversation"},"_1":{"*":"Label added to {number} conversations","_1":"Label added to 1 conversation"}},[g._plural(d),g._plural(c,"number")]);default:b("productsAssertExhausted")(a)}},getBulkLabelDialogTitle:function(){return g._("Add labels")},getBulkLabelTitle:function(a,c){return g._({"*":{"*":"Labels added to {Number of conversations} conversations","_1":"Labels added to {Number of conversations} conversation"},"_1":{"*":"Label added to {Number of conversations} conversations","_1":"Label added to {Number of conversations} conversation"}},[g._plural(c),g._param("Number of conversations",i.jsx(b("Text.react"),{style:{fontWeight:"bold"},children:a})),g._plural(a)])},getBulkReplyDialogTitle:function(){return g._("Reply")},getBulkReplyTitle:function(a){return g._({"*":"This message will be sent separately to {Number of conversations} conversations","_1":"This message will be sent separately to {Number of conversations} conversation"},[g._param("Number of conversations",i.jsx(b("Text.react"),{style:{fontWeight:"bold"},children:a})),g._plural(a)])},getBulkDeleteDialogTitle:function(a){return g._({"*":"Delete {number} conversations","_1":"Delete 1 conversation"},[g._plural(a,"number")])},getBulkDeleteDialogText:function(){return g._("This will permanently delete all conversation history.")},getBulkAssignAdminDialogTitle:function(a){return g._("Assign conversation")},getBulkAssignAdminDialogText:function(a){return g._({"*":"Assign {Number of conversations} conversations to someone managing your Page","_1":"Assign {Number of conversations} conversation to someone managing your Page"},[g._param("Number of conversations",i.jsx(b("Text.react"),{style:{fontWeight:"bold"},children:a})),g._plural(a)])},getBulkActionsNuxText:function(){return g._("You can now apply an action to multiple conversations at once.")},logBulkActionClick:function(a,c){var d={event_data:{num_threads:c}};switch(a){case"DONE":case"FOLLOW_UP":case"INBOX":case"SPAM":var e=k(a);b("PagesManagerBulkActionLogger").logMoveToFolderActionClick({event_data:{num_threads:c,targer_folder:b("nullthrows")(e)}});break;case"MARK_UNREAD":b("PagesManagerBulkActionLogger").logMarkAsUnreadActionClick(d);break;case"DELETE":b("PagesManagerBulkActionLogger").logDeleteActionClick(d);break;case"ASSIGN_ADMIN":b("PagesManagerBulkActionLogger").logAdminAssignmentActionClick(d);break;case"REPLY":b("PagesManagerBulkActionLogger").logReplyActionClick(d);break;case"LABEL":b("PagesManagerBulkActionLogger").logLabelActionClick(d);break;default:b("productsAssertExhausted")(a)}}};e.exports={PagesManagerInboxBulkActionItemsUtils:a,PagesManagerInboxBulkActions:j}}),null);
__d("PagesManagerInboxPageAdminsTypeahead.react",["cx","fbt","Image.react","PagesManagerAdminSearchSource","React","SUIBusinessTheme","SUITypeahead.react","XUICard.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useState;function k(a){function c(){return function(b){return a.onSelect(a.entry,b)}}return i.jsxs("div",{className:"_8jdd",onMouseDown:c(),children:[i.jsx(b("Image.react"),{className:"_8jde",src:a.entry.getPhoto()}),i.jsx("span",{children:a.entry.getTitle()})]},a.entry.getUniqueID())}function a(a){var c=j(null),d=c[0],e=c[1];c=j("");var f=c[0],g=c[1];function l(){var c=new(b("PagesManagerAdminSearchSource"))();c.cacheData(a.admins);return c}function m(a){g(a)}function n(){g("")}function o(b){g("");e(b);var c=b.getUniqueID();a.onSelectedAdminChange({id:c,name:b.getTitle(),profile_picture:(b=a.admins.find(function(a){return a.id===c}))==null?void 0:(b=b.profile_picture)==null?void 0:b.uri})}return i.jsxs(i.Fragment,{children:[d&&i.jsx("div",{className:"_2pio",style:{display:"table-cell"},children:i.jsxs("div",{className:"_8jdf",children:[i.jsx(b("Image.react"),{className:"_8jde",src:d.getPhoto()}),i.jsx("span",{className:"_8jdg",children:d.getTitle()})]})}),i.jsx("div",{className:d?"":"_2pie",children:i.jsx(b("XUICard.react"),{className:"_8jdc",children:i.jsx(b("SUITypeahead.react"),{autoHighlight:!0,inputClassName:"_8jdh",onBlur:n,onChange:m,onEnterWithoutSelection:n,onSelectAttempt:o,placeholder:h._("Search"),presenter:{extraRendererProps:{renderers:{ItemRenderer:k}}},queryString:f,searchSource:l(),theme:b("SUIBusinessTheme")})})})]})}e.exports=a}),null);
__d("PagesManagerInboxBulkActionsAdminAssigner.react",["PagesManagerInboxPageAdminsTypeahead.react","React","RelayModern","nullthrows","PagesManagerInboxBulkActionsAdminAssigner_page_info.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;a=b("nullthrows")((a=this.props.page_info.page_admin_users)==null?void 0:a.nodes);return h.jsx(b("PagesManagerInboxPageAdminsTypeahead.react"),{admins:a,onSelectedAdminChange:this.props.onSelectedAdminChange})};return c}(h.PureComponent);e.exports=a(c,{page_info:g!==void 0?g:g=b("PagesManagerInboxBulkActionsAdminAssigner_page_info.graphql")})}),null);
__d("PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler,i=b("RelayModern").commitMutation;b("RelayModern").graphql;var j=g!==void 0?g:g=b("PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation.graphql");function a(a,c){var d=function(c){var d=c.get(a.pageID);if(!d)return;a.commItemIDs.map(function(e){var f=c.get(e);if(!f)return;var g=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());g=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:g,with_comm_platform:f.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});f=b("PagesManagerInboxFilterStore").getActiveOwner().id;g&&Boolean(f)&&f!==a.adminID&&h.deleteNode(g,e)})};return i(b("RelayFBEnvironment"),{mutation:j,optimisticUpdater:d,updater:d,variables:{input:{actor_id:a.pageID,admin_id:a.adminID,comm_items:a.commItemIDs}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxBulkActionsAdminAssignerContainer.react",["cx","Promise","FDSSpinner.react","FluxContainer","LeftRight.react","MercuryIDs","MercuryThreadActions","PagesManagerBulkActionLogger","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkActionsAdminAssigner.react","PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation","PagesManagerInboxStore","PagesManagerStore","React","RelayFBEnvironment","RelayModern","nullthrows","PagesManagerInboxBulkActionsAdminAssignerContainerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,j=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActions,k=b("React"),l=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var m=h!==void 0?h:h=b("PagesManagerInboxBulkActionsAdminAssignerContainerQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore")]};c.calculateState=function(a){return babelHelpers["extends"]({},a,{selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),pageID:b("PagesManagerInboxStore").getConfig().pageID})};function c(c){var d;d=a.call(this,c)||this;d.$1=function(){return new(b("Promise"))(function(a,c){b("PagesManagerInboxBulkActionsAssignCommItemsOwnerMutation").commit({adminID:d.state.selectedAdmin.id,commItemIDs:d.state.selectedCommItemFBIDs,pageID:d.state.pageID},{onSuccess:function(c){b("PagesManagerBulkActionLogger").logAdminAssignmentDialogSubmit({event_data:{num_threads:d.state.selectedThreads.length}}),b("PagesManagerBulkActionLogger").logThreadsAssignedToAdmin(d.state.selectedThreads),d.$2(),a(i.getActionConfirmation(j.ASSIGN_ADMIN,d.state.selectedThreads.length,0,d.state.selectedAdmin.name))},onFailure:c})})};d.$3=function(a){d.setState({selectedAdmin:a},d.$4)};d.$4=function(){d.state.selectedAdmin?d.props.onValidationPassed&&d.props.onValidationPassed():d.props.onValidationFailed&&d.props.onValidationFailed()};d.$5=function(a){a.error;a=a.props;if(a){var c;d.$4();c=b("nullthrows")((c=a.page_comm_items)==null?void 0:c.page_comm_items_for_message_threads);d.setState({selectedCommItemFBIDs:c.map(function(a){return a.id})});return k.jsxs("div",{className:"_8h-v",children:[k.jsx(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.left,children:k.jsx("div",{className:"_8h-w",children:i.getBulkAssignAdminDialogText(d.state.selectedThreads.length)})}),k.jsx(b("PagesManagerInboxBulkActionsAdminAssigner.react"),{onSelectedAdminChange:d.$3,page_info:a.page_info})]})}return k.jsx("div",{className:"_3qn7 _61-1",children:k.jsx(b("FDSSpinner.react"),{})})};c.onSubscribeActionExecutionCallback(d.$1);return d}var d=c.prototype;d.$2=function(){var a=this.state,c=a.pageID,d=a.selectedThreads;a=a.selectedAdmin;d=d.map(function(a){return b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a))});b("MercuryThreadActions").getForFBID(c).updateCommItemOwner(d,a.name,a.id,a.profile_picture)};d.render=function(){return k.jsx(l,{environment:b("RelayFBEnvironment"),query:m,render:this.$5,variables:{page_id:this.state.pageID,message_thread_id_list:this.state.selectedThreads}})};return c}(k.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxBulkActionsSetLabelMutation",["Promise","RelayAPIConfig","RelayFBEnvironment","RelayModern","PagesManagerInboxBulkActionsSetLabelMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxBulkActionsSetLabelMutation.graphql");function a(a){return new(b("Promise"))(function(c,d){h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,label_name:a.labelName,page_contact_list:a.pageContactList}},onCompleted:c,onError:d})})}e.exports={commit:a}}),null);
__d("PagesManagerInboxBulkActionsUnsetLabelMutation",["Promise","RelayAPIConfig","RelayFBEnvironment","RelayModern","PagesManagerInboxBulkActionsUnsetLabelMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxBulkActionsUnsetLabelMutation.graphql");function a(a){return new(b("Promise"))(function(c,d){h(b("RelayFBEnvironment"),{mutation:i,variables:{input:{actor_id:b("RelayAPIConfig").actorID,label_name:a.labelName,page_contact_list:a.pageContactList}},onCompleted:c,onError:d})})}e.exports={commit:a}}),null);
__d("PagesManagerInboxBulkLabelSection.react",["cx","CustomLabelUtils","LeftRight.react","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkActionsSetLabelMutation","PagesManagerInboxBulkActionsUnsetLabelMutation","PagesManagerInboxContextCardLabelsTypeahead.react","PagesManagerInboxLabel.react","React","RelayModern","immutable","nullthrows","promiseDone","PagesManagerInboxBulkLabelSection_page_contacts.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("CustomLabelUtils").MAX_LABEL_NAME_LENGTH,j=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,k=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={newLabels:b("immutable").Map()},d.$1=function(){d.props.onLabelsAddedChange(d.state.newLabels.map(function(a){return a.label}).toArray())},d.$3=function(a){d.$2(a.name,!0)},d.$4=function(a){d.$2(a,!0)},d.$5=function(a){d.$2(a.name,!1)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a,c){var d=this,e=this.props.page_contacts.page_messenger_contacts.map(function(a){return a.id||""});if(c)b("promiseDone")(b("PagesManagerInboxBulkActionsSetLabelMutation").commit({pageContactList:e,labelName:a}),function(b){var c,e=(c=b.bulk_actions_page_contacts_set_label)==null?void 0:c.label,f=((c=b.bulk_actions_page_contacts_set_label)==null?void 0:c.labeled_contacts)||[];d.setState(function(b){return{newLabels:b.newLabels.set(a,{label:{id:(e==null?void 0:e.id)||"",color:(e==null?void 0:e.label_color)||"",name:(e==null?void 0:e.name)||""},contacts:f.filter(function(a){return Boolean(a)}).map(function(a){return(a==null?void 0:a.id)||""})})}},d.$1)});else{e=(c=this.state.newLabels.get(a))==null?void 0:c.contacts;b("promiseDone")(b("PagesManagerInboxBulkActionsUnsetLabelMutation").commit({pageContactList:e,labelName:a}),function(){return d.setState(function(b){return{newLabels:b.newLabels["delete"](a)}},d.$1)})}};d.render=function(){var a=this,c=this.state.newLabels.toArray().map(function(c){return c.label&&k.jsx("div",{className:"_7ajl",children:k.jsx(b("PagesManagerInboxLabel.react"),{color:b("nullthrows")(c.label.color),id:b("nullthrows")(c.label.id),name:b("nullthrows")(c.label.name),onRemove:a.$5,searchOnClick:!1},b("nullthrows")(c.label.name))},b("nullthrows")(c.label.name))}),d=this.props,e=d.labels;d=d.selectedThreads;return k.jsxs("div",{className:"_8h-v",children:[!this.state.newLabels.isEmpty()&&k.jsx(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.left,children:k.jsx("div",{className:"_8h-w",children:j.getBulkLabelTitle(d.length,this.state.newLabels.count())})}),c.length>0&&c,k.jsx("div",{className:"_8h-x",children:k.jsx(b("PagesManagerInboxContextCardLabelsTypeahead.react"),{labels:this.props.labels.toArray(),maxLength:i,onAddLabel:this.$3,onCreateLabel:this.$4,pageLabelNum:e.count()})})]})};return c}(k.PureComponent);d=a(c,{page_contacts:h!==void 0?h:h=b("PagesManagerInboxBulkLabelSection_page_contacts.graphql")});e.exports=d}),null);
__d("PagesManagerInboxBulkLabelSectionContainer.react",["cx","Promise","FDSSpinner.react","FluxContainer","PagesManagerBulkActionLogger","PagesManagerCustomLabelsStore","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkLabelSection.react","PagesManagerInboxStore","PagesManagerStore","React","RelayFBEnvironment","RelayModern","PagesManagerInboxBulkLabelSectionContainerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,j=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActions,k=b("React"),l=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var m=h!==void 0?h:h=b("PagesManagerInboxBulkLabelSectionContainerQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore"),b("PagesManagerCustomLabelsStore")]};c.calculateState=function(a){return babelHelpers["extends"]({},a,{selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),labels:b("PagesManagerCustomLabelsStore").getLabels(),pageID:b("PagesManagerInboxStore").getConfig().pageID})};function c(c){var d;d=a.call(this,c)||this;d.$1=function(){b("PagesManagerBulkActionLogger").logLabelDialogSubmit({event_data:{num_threads:d.state.selectedThreads.length,labels:d.state.newLabels.map(function(a){return{label_color:a.color,label_name:a.name,label_id:a.id}})}});var a=i.getActionConfirmation(j.LABEL,d.state.selectedThreads.length,d.state.newLabels.length);return b("Promise").resolve(a)};d.$2=function(a){d.setState({newLabels:a},d.$3)};d.$3=function(){var a;((a=d.state.newLabels)==null?void 0:a.length)?d.props.onValidationPassed&&d.props.onValidationPassed():d.props.onValidationFailed&&d.props.onValidationFailed()};d.$4=function(a){a.error;a=a.props;if(a){d.$3();return k.jsx(b("PagesManagerInboxBulkLabelSection.react"),{labels:d.state.labels,onLabelsAddedChange:d.$2,page_contacts:a.page_contacts,selectedThreads:d.state.selectedThreads})}return k.jsx("div",{className:"_3qn7 _61-1",children:k.jsx(b("FDSSpinner.react"),{})})};c.onSubscribeActionExecutionCallback(d.$1);return d}var d=c.prototype;d.render=function(){return k.jsx(l,{environment:b("RelayFBEnvironment"),query:m,render:this.$4,variables:{page_id:this.state.pageID,page_contact_user_id_list:this.state.selectedThreads}})};return c}(k.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxBulkActionsPageCommItemsQuery",["RelayFBEnvironment","RelayModern","nullthrows","PagesManagerInboxBulkActionsPageCommItemsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxBulkActionsPageCommItemsQuery.graphql");function a(a,c){a={page_id:a,message_thread_id_list:c};return h(b("RelayFBEnvironment"),i,a).then(function(a){return((a=(a=a.page_comm_items)==null?void 0:a.page_comm_items_for_message_threads)!=null?a:[]).map(function(a){return{id:b("nullthrows")(a==null?void 0:a.id),oldStatus:b("nullthrows")(a==null?void 0:a.comm_status),threadFBID:b("nullthrows")(a==null?void 0:a.target_id)}})})}e.exports={getPageCommItems:a}}),null);
__d("PagesManagerInboxBulkOneClickActionHelper",["Promise","BIZInboxClientLogger","MercuryIDs","MercuryThreadActions","PageCommItemStatus","PageCommItemUnreadEditMutation","PagesManagerAction","PagesManagerBulkActionLogger","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkActionsPageCommItemsQuery","PagesManagerInboxFilterStore","PagesManagerInboxLogger","PagesManagerInboxStore","PagesManagerStore","nullthrows","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,h=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActions;function i(){return b("PagesManagerInboxStore").getConfig().pageID}function j(){return b("PagesManagerStore").getSelectedThreads().toArray()}function k(a,c,d,e){c=d.reduce(function(a,b){a.has(b.oldStatus)||a.set(b.oldStatus,[]);(a.get(b.oldStatus)||[]).push(b);return a},new Map());c.forEach(function(c,d,e){e=c.map(function(a){return a.threadId});switch(d){case b("PageCommItemStatus").TODO:case b("PageCommItemStatus").DONE:b("MercuryThreadActions").getForFBID(a).batchUnarchive(e);break;case b("PageCommItemStatus").FOLLOW_UP:b("MercuryThreadActions").getForFBID(a).batchUnmarkPageFollowUp(e);break;case b("PageCommItemStatus").SPAM:b("MercuryThreadActions").getForFBID(a).batchUnmarkSpam(e);break;default:return}})}function l(a,c,d){c.forEach(function(c){b("PagesManagerInboxLogger").itemStatusChanged(c.id,"MESSENGER",d,"BULK_ACTION"),b("PagesManagerInboxLogger").itemStatusChangedInThread(c.id,"MESSENGER",d,b("PagesManagerInboxFilterStore").getActiveFolder(),"BULK_ACTION"),b("BIZInboxClientLogger").logFolderUpdate(a,"MESSENGER",b("PagesManagerInboxFilterStore").getActiveFolder(),d)});c=c.map(function(a){return babelHelpers["extends"]({},a,{threadId:b("MercuryIDs").getThreadIDFromUserID(b("nullthrows")(a.threadFBID))})});var e=c.map(function(a){return a.threadId}),f=b("PagesManagerInboxFilterStore").getActiveFolder();switch(d){case b("PageCommItemStatus").DONE:b("MercuryThreadActions").getForFBID(a).batchArchive(e);break;case b("PageCommItemStatus").TODO:k(a,f,c,d);break;case b("PageCommItemStatus").FOLLOW_UP:b("MercuryThreadActions").getForFBID(a).batchMarkPageFollowUp(e);break;case b("PageCommItemStatus").SPAM:b("MercuryThreadActions").getForFBID(a).batchMarkSpam(e);break;case b("PageCommItemStatus").DELETED:b("MercuryThreadActions").getForFBID(a).batchDelete(e);break;default:return}b("MercuryThreadActions").getForFBID(a).updateCommStatus(e,d);b("PagesManagerAction").viewListItem(null)}function m(a,c,d){return b("PagesManagerInboxBulkActionsPageCommItemsQuery").getPageCommItems(a,c).then(function(b){return l(a,b,d)})}function n(a,c,d,e){b("promiseDone")(b("PagesManagerInboxBulkActionsPageCommItemsQuery").getPageCommItems(a,c).then(function(c){b("PageCommItemUnreadEditMutation").commit({ids:c.map(function(a){return a.id}),actor_id:a},{onSuccess:function(a){return d((a=a==null?void 0:(a=a.page_comm_item_mark_as_unread)==null?void 0:(a=a.page_comm_items)==null?void 0:a.length)!=null?a:0)},onFailure:e})}))}a={changeStatus:function(a){var c=j();return new(b("Promise"))(function(d,e){return b("promiseDone")(m(i(),c,a),function(e){e=g.mapCommItemStatusTypeToBulkActionType(a);e&&(a===b("PageCommItemStatus").DELETED&&(b("PagesManagerBulkActionLogger").logDeletedThreads(c),b("PagesManagerBulkActionLogger").logDeleteDialogSubmit({event_data:{num_threads:c.length}})),d(g.getActionConfirmation(e,c.length)));return d(null)},e)})},markAsUnread:function(){return new(b("Promise"))(function(a,c){var d=j();n(i(),d,function(e){e>0?(b("PagesManagerBulkActionLogger").logMarkedAsUnreadThreads(d),a(g.getActionConfirmation(h.MARK_UNREAD,e))):c()},c)})}};e.exports=a}),null);
__d("PagesManagerInboxBulkReplyComposer.react",["cx","fbt","Image.react","PagesMessengerTextInput.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onInputChange(a.target.value)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i.jsx("div",{className:"_8ibi",children:i.jsxs("div",{className:"_8ibj",children:[i.jsx("div",{className:"_8ibk",children:i.jsx(b("Image.react"),{className:"_8ibm",src:this.props.profilePictureUri})}),i.jsx("div",{className:"_8ibn",children:i.jsx(b("PagesMessengerTextInput.react"),{className:"_1p7p _5id1 _8ibo",onChange:this.$1,placeholder:h._("Write a message...")})}),i.jsx("div",{className:"_3-8o _8ibp"})]})})};return c}(i.PureComponent);e.exports=a}),null);
__d("BulkReplyRecipientsSearchSource",["AbstractSearchSource"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$BulkReplyRecipientsSearchSource1=b;return c}var c=b.prototype;c.searchImpl=function(a,b){var c=this.$BulkReplyRecipientsSearchSource1.filter(function(b){return b.getTitle().toLowerCase().includes(a)});b(c,a)};return b}(b("AbstractSearchSource"));e.exports=a}),null);
__d("PagesManagerInboxBulkReplyRecipientsTypeahead.react",["BulkReplyRecipientsSearchSource","FDSTokenizer.react","React","SearchableEntry"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useState;function a(a){var c=a.recipients.map(function(a){return new(b("SearchableEntry"))({title:a.title,uniqueID:a.id})}),d=h(c),e=d[0],f=d[1];function i(b){f([].concat(e,[b]));var c=a.onSelectionChange;c&&c(b.getUniqueID(),!0)}function j(b){f(e.filter(function(a){return a!==b}));var c=a.onSelectionChange;c&&c(b.getUniqueID(),!1)}d=new(b("BulkReplyRecipientsSearchSource"))(c);return g.jsx(b("FDSTokenizer.react"),{label:"",onAddEntry:i,onRemoveEntry:j,searchSource:d,value:e})}e.exports=a}),null);
__d("PagesManagerInboxBulkReplySection.react",["cx","FDSSpinner.react","LeftRight.react","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkReplyComposer.react","PagesManagerInboxBulkReplyRecipientsTypeahead.react","React","RelayModern","immutable","nullthrows","PagesManagerInboxBulkReplySection_page_contacts.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,j=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={body:null,recipients:b("immutable").Set(d.$1().map(function(a){return a.id})),showSpinner:!1},d.$2=function(a,b){d.setState(function(c){return{recipients:b?c.recipients.add(a):c.recipients.remove(a)}},d.$3)},d.$3=function(){var a=d.state,b=a.body;a=a.recipients;b={body:(b=b)!=null?b:"",file_ids:[],image_ids:[],recipient_ids:a.toArray()};d.props.onMessagePayloadChange(b)},d.$4=function(a){d.setState({body:a},d.$3)},d.toggleSpinner=function(a){d.setState({showSpinner:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.props.onRef;a&&a(this)};d.componentWillUnmount=function(){var a=this.props.onRef;a&&a()};d.$1=function(){return this.props.page_contacts.page_messenger_contacts.map(function(a){var c;c=(c=a.unified_contact_comms_facebook)==null?void 0:c.nodes[0];return{title:b("nullthrows")((c=c)!=null?c.comm_title:c),id:b("nullthrows")((c=a.user)!=null?c.id:c)}})};d.render=function(){var a=this.$1();return j.jsx(j.Fragment,{children:this.state.showSpinner?j.jsx("div",{className:"_3qn7 _61-1",children:j.jsx(b("FDSSpinner.react"),{})}):j.jsxs("div",{className:"_8h-v",children:[j.jsx(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.left,children:j.jsx("div",{className:"_8h-w",children:i.getBulkReplyTitle(this.state.recipients.count())})}),j.jsx(b("PagesManagerInboxBulkReplyRecipientsTypeahead.react"),{onSelectionChange:this.$2,recipients:a}),j.jsx(b("PagesManagerInboxBulkReplyComposer.react"),{onInputChange:this.$4,profilePictureUri:this.props.profile_picture_uri})]})})};return c}(j.PureComponent);d=a(c,{page_contacts:h!==void 0?h:h=b("PagesManagerInboxBulkReplySection_page_contacts.graphql")});e.exports={PagesManagerInboxBulkReplySectionContainer:d,PagesManagerInboxBulkReplySection:c}}),null);
__d("XPagesManagerInboxBulkReplyController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/inbox/bulk_reply/",{})}),null);
__d("PagesManagerInboxBulkReplySender",["Promise","ActorURI","AsyncRequest","PagesManagerInboxLogger","XPagesManagerInboxBulkReplyController"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.$1=function(a){var c=b("XPagesManagerInboxBulkReplyController").getURIBuilder().getURI();return b("ActorURI").create(c,a)};c.$2=function(a){return a.payload};c.send=function(a,c){var d=this;b("PagesManagerInboxLogger").logSendMessage("MESSENGER",a,!1);return new(b("Promise"))(function(e,f){var g=d.$1(a);new(b("AsyncRequest"))().setURI(g).setMethod("POST").setData(c).setHandler(function(a){return e(d.$2(a))}).setErrorHandler(f).setTransportErrorHandler(f).send()})};return a}();e.exports=new a()}),null);
__d("PagesManagerInboxBulkReplySectionContainer.react",["cx","Promise","FDSSpinner.react","FluxContainer","PagesManagerBulkActionLogger","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkReplySection.react","PagesManagerInboxBulkReplySender","PagesManagerInboxStore","PagesManagerStore","React","RelayFBEnvironment","RelayModern","promiseDone","PagesManagerInboxBulkReplySectionContainerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,j=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActions;b("PagesManagerInboxBulkReplySection.react").PagesManagerInboxBulkReplySection;var k=b("PagesManagerInboxBulkReplySection.react").PagesManagerInboxBulkReplySectionContainer,l=b("React"),m=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var n=h!==void 0?h:h=b("PagesManagerInboxBulkReplySectionContainerQuery.graphql");a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerInboxStore"),b("PagesManagerStore")]};c.calculateState=function(a){return babelHelpers["extends"]({},a,{selectedThreads:b("PagesManagerStore").getSelectedThreads().toArray(),pageID:b("PagesManagerInboxStore").getConfig().pageID})};function c(c){var d;d=a.call(this,c)||this;d.$2=function(){var a=d.state,c=a.pageID,e=a.payload;if(e&&d.$3(e)){d.$4(!0);var f=i.getActionConfirmation(j.REPLY,e.recipient_ids.length);return new(b("Promise"))(function(a,g){b("promiseDone")(b("PagesManagerInboxBulkReplySender").send(c,e),function(c){b("PagesManagerBulkActionLogger").logReplyDialogSubmit({event_data:{num_threads:e.recipient_ids.length}}),d.$4(!1),a(f)},function(a){d.$4(!1),g()})})}return b("Promise").reject()};d.$5=function(){d.state.payload&&d.$3(d.state.payload)?d.props.onValidationPassed&&d.props.onValidationPassed():d.props.onValidationFailed&&d.props.onValidationFailed()};d.$6=function(a){d.setState({payload:a},d.$5)};d.$7=function(a){a.error;a=a.props;if(a){d.$5();return l.jsx(k,{onMessagePayloadChange:d.$6,onRef:function(a){d.$1=a},page_contacts:a.page_contacts,profile_picture_uri:a.page_contacts.profile_picture.uri})}return l.jsx("div",{className:"_3qn7 _61-1",children:l.jsx(b("FDSSpinner.react"),{})})};c.onSubscribeActionExecutionCallback(d.$2);return d}var d=c.prototype;d.$3=function(a){var b=a.body,c=a.file_ids,d=a.image_ids;return a.recipient_ids.length>0&&(Boolean(b)||c.length>0||d.length>0)};d.$4=function(a){var b;b=(b=this.$1)==null?void 0:b.toggleSpinner;b&&b(a)};d.render=function(){return l.jsx(m,{environment:b("RelayFBEnvironment"),query:n,render:this.$7,variables:{page_id:this.state.pageID,page_contact_user_id_list:this.state.selectedThreads}})};return c}(l.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxBulkActionComponent.react",["cx","Promise","LeftRight.react","PageCommItemStatus","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkActionsAdminAssignerContainer.react","PagesManagerInboxBulkLabelSectionContainer.react","PagesManagerInboxBulkOneClickActionHelper","PagesManagerInboxBulkReplySectionContainer.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,i=b("React");c=b("React");d=c.forwardRef;var j=c.useImperativeHandle;function a(a,c){var d=null;j(c,function(){return{executeAction:function(a){return d?d():b("Promise").reject()},type:a.type}});function e(a){d=a}switch(a.type){case"REPLY":return i.jsx(b("PagesManagerInboxBulkReplySectionContainer.react"),{onSubscribeActionExecutionCallback:e,onValidationFailed:a.onValidationFailed,onValidationPassed:a.onValidationPassed});case"LABEL":return i.jsx(b("PagesManagerInboxBulkLabelSectionContainer.react"),{onSubscribeActionExecutionCallback:e,onValidationFailed:a.onValidationFailed,onValidationPassed:a.onValidationPassed});case"ASSIGN_ADMIN":return i.jsx(b("PagesManagerInboxBulkActionsAdminAssignerContainer.react"),{onSubscribeActionExecutionCallback:e,onValidationFailed:a.onValidationFailed,onValidationPassed:a.onValidationPassed});case"DELETE":e(function(){return b("PagesManagerInboxBulkOneClickActionHelper").changeStatus(b("PageCommItemStatus").DELETED)});return i.jsx("div",{className:"_2phz",children:i.jsx(b("LeftRight.react"),{direction:b("LeftRight.react").DIRECTION.left,children:i.jsx("div",{className:"_8h-w",children:h.getBulkDeleteDialogText()})})});default:return null}}e.exports=d(a)}),null);
__d("PagesManagerInboxBulkActionsNavBarContainer.react",["cx","fbt","CenteredContainer.react","FDSDropdownMenu.react","PageCommItemFolder","PageCommItemStatus","PagesManagerAction","PagesManagerInboxBulkActionComponent.react","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxBulkOneClickActionHelper","PagesManagerInboxStore","React","Tooltip","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","emptyFunction","joinClasses","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,j=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActions,k=b("React"),l=600,m=4;function n(a){return k.jsxs(b("XUIDialog.react"),{hideOnEscape:!1,isStrictlyControlled:!0,onHide:a.onHide,shown:a.show,width:l,children:[k.jsx(b("XUIDialogTitle.react"),{showCloseButton:!a.closeButtonsDisabled,children:a.title}),k.jsx(b("XUIDialogBody.react"),{children:a.children}),k.jsxs(b("XUIDialogFooter.react"),{children:[k.jsx(b("XUIDialogCancelButton.react"),{disabled:a.closeButtonsDisabled}),k.jsx(b("XUIDialogButton.react"),{action:"confirm",disabled:a.actionButtonDisabled,label:a.actionButtonLabel,onClick:a.onDialogConfirm,use:"confirm"})]})]})}function o(a){var c=Boolean(a.label)?babelHelpers["extends"]({},b("Tooltip").propsFor(a.label)):{};function d(){return function(){i.logBulkActionClick(a.id,a.selectedThreads),(a.isDisabled?b("emptyFunction"):a.onClick)()}}return k.jsx(b("CenteredContainer.react"),{className:"_8hgm",fullHeight:!0,horizontal:!1,onClick:d(),vertical:!0,children:k.jsx("div",babelHelpers["extends"]({className:b("joinClasses")((a.isDisabled?"":"_8hgn")+(a.isDisabled?" _8j4u":""),a.className)},c))},a.id)}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,dialogContent:null},d.$1=k.createRef(),d.$5=function(){var a;a=(a=d.$1)==null?void 0:a.current;a=(a=a)!=null?a:{};var c=a.executeAction;a=a.type;c&&a&&(d.$3(!1),b("promiseDone")(c(),d.$4.bind(babelHelpers.assertThisInitialized(d),a),function(a){return d.$2(!0,!0)}))},d.$6=function(){d.setState({showDialog:!0,dialogContent:{actionButtonLabel:h._("Done"),component:k.jsx(b("PagesManagerInboxBulkActionComponent.react"),{onValidationFailed:function(){return d.$3(!1,!0)},onValidationPassed:function(){return d.$3(!0,!1)},ref:d.$1,type:j.LABEL}),title:i.getBulkLabelDialogTitle(),actionButtonDisabled:!0,closeButtonsDisabled:!1}})},d.$7=function(){d.setState({showDialog:!0,dialogContent:{actionButtonLabel:h._("Assign"),component:k.jsx(b("PagesManagerInboxBulkActionComponent.react"),{onValidationFailed:function(){return d.$3(!1)},onValidationPassed:function(){return d.$3(!0)},ref:d.$1,type:j.ASSIGN_ADMIN}),title:i.getBulkAssignAdminDialogTitle(d.props.selectedThreads),actionButtonDisabled:!1}})},d.$8=function(){d.setState({showDialog:!0,dialogContent:{actionButtonLabel:h._("Delete"),component:k.jsx(b("PagesManagerInboxBulkActionComponent.react"),{ref:d.$1,type:j.DELETE}),title:i.getBulkDeleteDialogTitle(d.props.selectedThreads),actionButtonDisabled:!1}})},d.$11=[{id:j.LABEL,className:"_8hgo",onClick:d.$6},{id:j.ASSIGN_ADMIN,className:"_8lhv",onClick:d.$7},{id:j.FOLLOW_UP,className:"_8j2d",onClick:d.$10(b("PageCommItemStatus").FOLLOW_UP,j.FOLLOW_UP)},{id:j.DONE,className:"_8j2e",onClick:d.$10(b("PageCommItemStatus").DONE,j.DONE)},{id:j.MARK_UNREAD,className:"_8nj_",onClick:function(){return b("promiseDone")(b("PagesManagerInboxBulkOneClickActionHelper").markAsUnread(),d.$4.bind(babelHelpers.assertThisInitialized(d),j.MARK_UNREAD),b("PagesManagerAction").toggleBulkSelectionMode)}},{id:j.INBOX,className:"_8j2n",onClick:d.$10(b("PageCommItemStatus").TODO,j.INBOX)},{id:j.SPAM,className:"_8j2o",onClick:d.$10(b("PageCommItemStatus").SPAM,j.SPAM)}],d.$12=function(a){return{type:"item",label:i.getToolTipLabel(a.id),onClick:function(){i.logBulkActionClick(a.id,d.props.selectedThreads),a.onClick()},isDisabled:d.props.selectedThreads===0}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(a,c){c===void 0&&(c=!1);if(!a&&((a=this.state.dialogContent)==null?void 0:a.closeButtonsDisabled))return;this.setState({showDialog:!1,dialogContent:null},function(){return c&&b("PagesManagerAction").toggleBulkSelectionMode()})};d.$3=function(a,b){b===void 0&&(b=!0),this.setState(function(c){return babelHelpers["extends"]({},c,{dialogContent:babelHelpers["extends"]({},c.dialogContent,{actionButtonDisabled:!a,closeButtonsDisabled:!b})})})};d.$4=function(a,c){Boolean(c)&&b("PagesManagerAction").setBulkActionResult({actionType:a,message:c||""}),this.$2(!0,!0)};d.$9=function(a){var c=[];switch(this.props.folderSelected){case b("PageCommItemFolder").SPAM:c.push(j.FOLLOW_UP,j.DONE,j.SPAM,j.MARK_UNREAD,j.LABEL,j.ASSIGN_ADMIN);break;case b("PageCommItemFolder").DONE:c.push(j.FOLLOW_UP,j.DONE,j.MARK_UNREAD,j.LABEL);break;case b("PageCommItemFolder").TODO:c.push(j.INBOX);break}return a.filter(function(a){return!c.some(function(b){return b===a.id})})};d.$10=function(a,c){var d=this;return function(){return b("promiseDone")(b("PagesManagerInboxBulkOneClickActionHelper").changeStatus(a),d.$4.bind(d,c),b("PagesManagerAction").toggleBulkSelectionMode)}};d.render=function(){var a=this,c=this.state,d=c.dialogContent;c=c.showDialog;var e=this.props.selectedThreads===0,f={id:j.DELETE,className:"_8j2p",onClick:this.$8};f=this.$9(b("PagesManagerInboxStore").shouldAllowBulkDelete()?[].concat(this.$11,[f]):[].concat(this.$11));f=[f.slice(0,m),f.slice(m)];var g=f[0];f=f[1];return k.jsxs(k.Fragment,{children:[g.map(function(b){return k.createElement(o,babelHelpers["extends"]({},b,{isDisabled:e,key:b.id,label:i.getToolTipLabel(b.id),selectedThreads:a.props.selectedThreads}))}),f.length>0&&k.jsx("div",{style:{marginLeft:"5px"},children:k.jsx(b("FDSDropdownMenu.react"),{buttonUse:"flat",items:f.map(this.$12),useEllipsisIcon:!0})}),k.jsx(n,{actionButtonDisabled:Boolean(d==null?void 0:d.actionButtonDisabled),actionButtonLabel:(d==null?void 0:d.actionButtonLabel)||"",closeButtonsDisabled:Boolean(d==null?void 0:d.closeButtonsDisabled),onDialogConfirm:this.$5,onHide:this.$2.bind(this,!1),show:Boolean(c&&d),title:(d==null?void 0:d.title)||"",children:d==null?void 0:d.component})]})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxBulkActionsNux.react",["PagesManagerBulkActionLogger","PagesManagerInboxBulkActionItemsUtils","PagesManagerInboxStore","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerInboxBulkActionItemsUtils").PagesManagerInboxBulkActionItemsUtils,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={showNux:b("PagesManagerInboxStore").shouldShowNUX("pages_inbox_bulk_actions")};d.$1=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").PAGES_INBOX_BULK_ACTIONS),d.setState({showNux:!1})};b("PagesManagerBulkActionLogger").logNuxImpression();return d}var d=c.prototype;d.render=function(){var a=g.getBulkActionsNuxText();return h.jsx(h.Fragment,{children:this.state.showNux&&b("PagesManagerInboxStore").shouldShowBulkActions()&&h.jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:this.props.contextRef,onCloseButtonClick:this.$1,position:"below",shown:!0,width:"normal",children:a})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxBulkSelectionButtonContainer.react",["cx","fbt","BulkSelectionThreadAction","CenteredContainer.react","PagesManagerAction","PagesManagerBulkActionLogger","PagesManagerInboxBulkActionsNux.react","React","Tooltip","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useEffect;function a(a){var c=a.active;a=a.selectedThreads;var d=null,e=h._("Select Conversations");j(function(a){return b("PagesManagerBulkActionLogger").logThreadCheckboxImpression()},[]);function f(){var a=c?b("BulkSelectionThreadAction").UNSELECT:b("BulkSelectionThreadAction").SELECT;b("PagesManagerBulkActionLogger").logSelectionCheckboxClick({event_data:{thread_action:a}});b("PagesManagerAction").toggleBulkSelectionMode()}function g(){return d}return i.jsx(b("CenteredContainer.react"),{className:"_8ic_",fullHeight:!0,horizontal:!1,onClick:b("emptyFunction"),vertical:!0,children:i.jsxs("div",{className:"_3qn7 _3qng",children:[i.jsx("div",{className:"_8id0"}),i.jsx("div",babelHelpers["extends"]({className:"_8hgn"+(a===0?" _8icf":"")+(a>0?" _8icg":"")+(c&&a===0?" _8ics":""),onClick:f,ref:function(a){d=a},role:"button",tabIndex:"0"},b("Tooltip").propsFor(e))),i.jsx(b("PagesManagerInboxBulkActionsNux.react"),{contextRef:g})]})})}e.exports=a}),null);
__d("XPagesManagerInboxCreateWECGroupController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/inbox/create_wec_group/",{group_name:{type:"String"},mailbox_id:{type:"FBID"},icon_id:{type:"FBID"},request_user_id:{type:"Int"}})}),null);
__d("PagesManagerInboxCreateGroupDialog.react",["ix","cx","fbt","AsyncRequest","ErrorDialog","FBClipboardLink.react","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","FileInput.react","FileInputUploader","FlexLayout.react","Image","Link.react","MessengerSpinner.react","PagesMessagingInboxActionLogger","React","ReactDOM","XPagesManagerInboxCreateWECGroupController","XUITextInput.react","XWECMessagingAttachmentUploadController","asset","cxMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React"),k={groupIcon:null,groupName:"",uploadImageInProgress:!1,inviteLink:null};a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state=k;d.$1=function(){var a=b("XPagesManagerInboxCreateWECGroupController").getURIBuilder().setInt("request_user_id",d.props.mailboxID).setString("group_name",d.state.groupName).setFBID("mailbox_id",d.props.mailboxID);d.state.groupIcon&&a.setFBID("icon_id",d.state.groupIcon.image_id);new(b("AsyncRequest"))(a.getURI()).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(function(a){d.setState(function(){return{inviteLink:a.payload.invite_link}})}).send();a="group_created";b("PagesMessagingInboxActionLogger").logGroupActions("WEC",a)};d.$2=function(){d.props.onHide(),d.setState(function(a){return k})};d.$3=function(a){var b=(a=a)!=null?(a=a.target)!=null?a.value:a:a;d.setState(function(a){return{groupName:b}})};d.$4=function(){var a=b("XWECMessagingAttachmentUploadController").getURIBuilder().setInt("request_user_id",d.props.mailboxID).getURI().toString();a=new(b("FileInputUploader"))(b("ReactDOM").findDOMNode(d.refs.fileInput)).setURI(a).setData({images_only:!0}).setAllowCrossOrigin(!0);a.subscribe("progress",function(a,b){d.setState({uploadImageInProgress:!0})});a.subscribe("success",function(a,b){b=(a=b)!=null?(a=a.response)!=null?(a=a.payload)!=null?a.metadata:a:a:a;a=b&&b[0];a==null?d.setState({uploadImageInProgress:!1}):d.setState({groupIcon:a,uploadImageInProgress:!1})});a.subscribe("failure",function(a,c){d.setState({uploadImageInProgress:!1});a=i._("ERROR");c=i._("Failed to upload image, please try again.");b("ErrorDialog").show(a,c)});a.send()};return d}var d=c.prototype;d.render=function(){var a=this.state,c=a.groupName,d=a.groupIcon;a=a.uploadImageInProgress;d=d?j.jsx(b("Image"),{height:50,source:d.src,style:{borderRadius:"50%"},width:50}):j.jsx(b("Image"),{source:g("513655")});return j.jsx(b("FDSModal.react"),{footer:j.jsx(b("FDSModalFooter.react"),{primaryButton:j.jsx(b("FDSButton.react"),{isDisabled:c===""||!c||!c.replace(/\s/g,"").length||this.state.inviteLink!==null,label:i._("Create"),onClick:this.$1,use:"primary"}),secondaryButton:j.jsx(b("FDSCancelButton.react"),{})}),header:j.jsx(b("FDSModalHeader.react"),{title:i._("Create Group")}),isShown:this.props.isShown,label:"Create Group",onHide:this.$2,children:j.jsx(b("FDSSection.react"),{children:j.jsxs(b("FlexLayout.react"),{align:"start",className:"_6bu9",direction:"vertical",children:[j.jsxs(b("FlexLayout.react"),{align:"center",className:"_3-97",justify:"start",children:[j.jsx(b("FileInput.react"),{accept:"image/*",name:"group_icon",onChange:this.$4,ref:"fileInput",children:j.jsx(b("Link.react"),{children:j.jsxs("div",{className:"_7kmj",desc:"Label for a button that lets people upload a group icon for a new WEC group chat. Having a group icon is optional.",children:[a?j.jsx("div",{className:"_75u2 _75u3",children:j.jsx(b("MessengerSpinner.react"),{color:"grey",size:24})}):null,a?null:d]})})}),j.jsx("div",{className:"_3-9c",children:j.jsx(b("FDSText.react"),{color:"primary",size:"header4",children:i._("Add Group Icon")})})]}),j.jsxs(b("FlexLayout.react"),{align:"start",className:"_3-97",direction:"vertical",children:[j.jsx(b("FDSText.react"),{color:"primary",margin:"_3-8m",size:"header4",weight:"bold",children:i._("Subject")}),j.jsx(b("XUITextInput.react"),{height:"tall",onChange:this.$3,placeholder:i._("Enter a group subject"),value:c})]}),this.state.inviteLink!=null?j.jsxs(b("FlexLayout.react"),{align:"start",className:"_3-97",direction:"vertical",children:[j.jsx(b("FDSText.react"),{color:"primary",margin:"_3-8m",size:"header4",weight:"bold",children:i._("Invite with a Link")}),j.jsxs(b("FlexLayout.react"),{align:"center",direction:"horizontal",children:[j.jsx(b("FBClipboardLink.react"),{tooltip:i._("Copy link"),tooltipSuccess:i._("Copied"),value:this.state.inviteLink||"",children:j.jsx(b("Image"),{source:g("609121")})}),j.jsx("div",{className:"_2pis",children:this.state.inviteLink})]})]}):null]})})})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderSelector.react",["ix","cssVar","cx","fbt","Image.react","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxFilterAction","React","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.state={showFilter:!0};d.onMultiAdminSearchClick=function(){d.setState(function(){return{showFilter:!1}}),b("PagesManagerInboxFilterAction").changeSearchType("ADMIN"),b("PagesManagerInboxFilterAction").toggleSearch(!0)};d.wrapperRef=k.createRef();return d}var d=c.prototype;d.$1=function(a){var c=b("PageCommItemStatusUtil").getFolderImage(a);return k.jsxs("div",{className:"_4h_z",children:[k.jsx("div",{className:"_4h_-",children:k.jsx(b("Image.react"),{className:"_4i0c",src:c})}),k.jsx("div",{className:"_4h_-","data-testid":void 0,style:{color:b("PageCommItemStatusUtil").getFolderColor(a)},children:b("PageCommItemStatusUtil").getLabel(a)})]})};d.$2=function(a){switch(a){case b("PageCommItemFolder").FOLLOW_UP:return"followup_folder";case b("PageCommItemFolder").DONE:return"done_folder";case b("PageCommItemFolder").SPAM:return"spam_folder";case b("PageCommItemFolder").TODO:default:return"inbox_folder"}};d.handleClickOutside=function(a){a=a.target;this.wrapperRef.current&&a instanceof Node&&!this.wrapperRef.current.contains(a)&&this.props.onSelected(this.props.folderSelected)};d.$3=function(){return k.jsx("div",{className:"_4h_x",onClick:this.onMultiAdminSearchClick,children:k.jsxs("div",{className:"_4h_z",children:[k.jsx("div",{className:"_4h_-",children:k.jsx(b("Image.react"),{className:"_4i0c",src:g("946924")})}),k.jsx("div",{className:"_4h_-",style:{color:"#000000"},children:j._("Assigned")})]})})};d.showItem=function(a){var b=this,c=this.props.platform==="INSTAGRAM_DIRECT"&&this.props.shouldShowNewMultiAdminAssignment;c=this.props.threadsManagementStatus==="FILTER"&&(this.props.platform==="MESSENGER"||c&&this.props.platform==="INSTAGRAM_DIRECT"||this.props.showUnifiedThreadlist)&&this.props.platform!=="FACEBOOK"&&this.props.platform!=="INSTAGRAM";return k.jsxs("div",{className:"_3xcw","data-testID":"folder_selector",ref:this.wrapperRef,children:[a.map(function(a){return k.jsx("div",{className:"_4h_x"+(b.props.folderSelected===a?" _4h_y":""),onClick:function(){return b.props.onSelected(a)},children:b.$1(a)},"item_"+a)}),c?this.$3():null]})};d.render=function(){var a=this.props.threadsManagementStatus;switch(a){case"FOLDER":a=b("PageCommItemStatusUtil").getInboxFolders(this.props.defaultFolder);return this.showItem(a);case"FILTER":if(this.state.showFilter){a=b("PageCommItemStatusUtil").getFilters(this.props.defaultFolder);return this.showItem(a)}return null;default:return null}};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxHeaderSelectorFluxContainer.react",["FluxContainer","PagesManagerInboxFilterStore","PagesManagerInboxHeaderSelector.react","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","React"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(){var a=b("PagesManagerInboxStore").getConfig().platformConfigs[b("PagesManagerInboxFilterStore").getActiveType()];return{defaultFolder:a.defaultFolder,folderSelected:b("PagesManagerInboxFilterStore").getActiveFolder(),shouldShowNewMultiAdminAssignment:b("PagesManagerInboxStore").getConfig().inboxRedesignConfig.shouldShowNewMultiAdminAssignment}};var d=c.prototype;d.render=function(){return h.jsx(b("PagesManagerInboxHeaderSelector.react"),{defaultFolder:this.state.defaultFolder,folderSelected:this.state.folderSelected,onSelected:this.props.onSelected,platform:this.props.platform,shouldShowNewMultiAdminAssignment:this.state.shouldShowNewMultiAdminAssignment,showUnifiedThreadlist:g(),threadsManagementStatus:this.props.threadsManagementStatus})};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxListHeaderLeftTopNav.react",["cx","fbt","BIZInboxClientLogger","BusinessInboxBizKitUtil","FDSText.react","GeoText.react","Link.react","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxFilterAction","PagesManagerInboxListHeaderSearchBar.react","PagesManagerInboxUtils","React","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("BusinessInboxBizKitUtil").isBizKitBeta,j=b("PagesManagerInboxUtils").setDefaultIGDirectFolder,k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$2=function(){b("PagesManagerInboxFilterAction").toggleFilterSelector(!1),b("PagesManagerInboxFilterAction").toggleSearch(!1),b("PagesManagerInboxFilterAction").clearSearch(),b("PagesManagerAction").clearViewListItem(),j(d.props.folderSelected,d.props.filterType,d.props.pageID),b("BIZInboxClientLogger").logSearchCancelClick(d.props.pageID)};return d}var d=c.prototype;d.$1=function(){var a=b("immutable").Map(this.props.allLabels);return k.jsxs("div",{className:"_65ok",children:[k.jsx(b("Link.react"),{onClick:this.$2,children:k.jsx("div",{className:"_85rp","data-testid":"search_bar_return_button"})}),k.jsx(b("PagesManagerInboxListHeaderSearchBar.react"),{context:this.props.contextRef,labels:a,pageID:this.props.pageID})]})};d.$3=function(){return k.jsxs(b("Link.react"),{className:"_85mo",onClick:this.props.threadsManagementStatus==="FILTER"?this.props.toggleFilterSelector:this.props.toggleFolderSelector,children:[k.jsx("div",{className:"_83m _85rp","data-testid":"return_button"}),k.jsx("span",{className:"_83m _102w",children:h._("Close")})]})};d.$4=function(){return k.jsx("span",{className:"_7xd- _83m _102w",children:h._("Messages")})};d.$5=function(){var a=b("PageCommItemStatusUtil").getLabel(b("PageCommItemStatusUtil").getThreadsManagementStatus(this.props.folderSelected));return k.jsx("div",{className:i()?"_8_06":"",children:k.jsx(b("Link.react"),{className:"_85mo","data-testid":"folder_label",onClick:this.props.toggleFolderSelector,children:k.jsxs("div",{children:[i()?k.jsx("span",{className:"_83m",children:k.jsx(b("GeoText.react"),{children:a})}):k.jsx("span",{className:"_83m _102w",children:k.jsx(b("FDSText.react"),{display:"truncate",children:a})}),k.jsx("span",{className:"_8_07 _83aj"})]})})})};d.render=function(){if(this.props.isSearchActive)return this.$1();else{if(this.props.threadsManagementStatus!=="NONE")return this.$3();return this.props.filterType==="WEC"?this.$4():this.$5()}};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxAwayToggleMutation",["DateTime","RelayFBEnvironment","RelayModern","PagesManagerInboxAwayToggleMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=g!==void 0?g:g=b("PagesManagerInboxAwayToggleMutation.graphql");function a(a,c){var d=function(){return{set_page_away_toggle:{page:{away_toggle_expiration:a.isAway?b("DateTime").localNow().addHours(12).getUnixTimestampSeconds():null,id:a.pageID,is_away_toggle_on:a.isAway}}}};return h(b("RelayFBEnvironment"),{mutation:i,optimisticResponse:d,variables:{input:{actor_id:a.pageID,is_away:a.isAway,page_id:a.pageID}},onCompleted:c&&c.onSuccess,onError:c&&c.onFailure})}e.exports={commit:a}}),null);
__d("PagesManagerInboxAwayToggle.react",["cx","fbt","BusinessInboxBizKitUtil","DateTime","FBCheckbox.react","FDSButton.react","FDSCancelButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","FDSText.react","Link.react","PagesManagerInboxAwayToggleMutation","PagesTimeRangeEditorUtilities","React","SUIBusinessTheme","SUIPopoverLayer.react","Tooltip","XPagesManagerInboxController","cxMargin"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("BusinessInboxBizKitUtil").isBizKitBeta,j=b("React");function k(a){if(a.getShouldShowIGDirectAutomatedResponse){var c=h._("You'll be notified when people send {page name} messages on Instagram and Messenger.",[h._param("page name",a.pageName)]);a.igPlatformEnabled===!0&&a.messengerPlatformEnabled===!1?c=h._("You'll be notified when people send {page name} messages on Instagram.",[h._param("page name",a.pageName)]):(a.igPlatformEnabled===!1&&a.messengerPlatformEnabled===!0||a.isIGDirecConnected===!1)&&(c=h._("You'll be notified when people send {page name} messages in Messenger.",[h._param("page name",a.pageName)]));return j.jsxs("div",{className:"_7mhr",children:[j.jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),j.jsxs("div",{className:"_7mhs",children:[j.jsx(b("FDSText.react"),{color:"positive",display:"block",size:"body1",children:h._("Available")}),j.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:c})]})]})}return j.jsxs("div",{className:"_7mhr",children:[j.jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),j.jsxs("div",{className:"_7mhs",children:[j.jsx(b("FDSText.react"),{color:"positive",display:"block",size:"body1",children:h._("Available")}),j.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("You'll be notified when people send {page name} messages in Messenger.",[h._param("page name",a.pageName)])})]})]})}function l(a){if(a.getShouldShowIGDirectAutomatedResponse){var c=h._("{page name} will be away for 12 hours or for as long as you're scheduled to be away. People who send you messages on Instagram and Messenger will receive an away message, and you won't receive message notifications. Messages received won't be included in your Messenger response rate or response time calculations.",[h._param("page name",a.pageName)]);a.igPlatformEnabled===!0&&a.messengerPlatformEnabled===!1?c=h._("{page name} will be away for 12 hours or for as long as you're scheduled to be away. People who send you Instagram messages will receive an away message, and you won't receive message notifications.",[h._param("page name",a.pageName)]):(a.igPlatformEnabled===!1&&a.messengerPlatformEnabled===!0||a.isIGDirecConnected===!1)&&(c=h._("{page name} will be away for 12 hours or for as long as you're scheduled to be away. People who send you messages in Messenger will receive an away message, and you won't receive message notifications. Messages received won't be included in your Page's response rate or response time calculations.",[h._param("page name",a.pageName)]));return j.jsxs("div",{className:"_7mhr",children:[j.jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),j.jsxs("div",{className:"_7mhs",children:[j.jsx(b("FDSText.react"),{color:"negative",display:"block",size:"body1",children:h._("Away")}),j.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:c})]})]})}return j.jsxs("div",{className:"_7mhr",children:[j.jsx(b("FBCheckbox.react"),{checked:a.isChecked,onToggle:a.onToggle}),j.jsxs("div",{className:"_7mhs",children:[j.jsx(b("FDSText.react"),{color:"negative",display:"block",size:"body1",children:h._("Away")}),j.jsxs(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:[a.isChecked?null:h._("{page name} will be away for 12 hours or as long as you're scheduled to be away.",[h._param("page name",a.pageName)])," ",h._("People who send {page name} messages in Messenger will receive an away message, and you won't receive message notifications. Messages received won't be included in your Page's response rate or response time calculations.",[h._param("page name",a.pageName)])]})]})]})}function m(a){var c=j.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("When you edit your away message, you also can schedule times for your Page to be away each week.")});if(a.hasAwaySchedule){var d=a.nextAwayBlock;if(d==null)c=j.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("You've scheduled your Page to always be away.")});else{var e=b("DateTime").localCreate(d.from);d=b("DateTime").localCreate(d.to);var f=b("DateTime").localNow(),g=e.getDayOfWeek()===d.getDayOfWeek();c=j.jsx(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",children:h._("Your Page is scheduled to next be away from {nextAwayFrom} to {nextAwayTo}.",[h._param("nextAwayFrom",b("PagesTimeRangeEditorUtilities").getFormatedTime(e,f,g)),h._param("nextAwayTo",b("PagesTimeRangeEditorUtilities").getFormatedTime(d,f))])})}}return j.jsxs("div",{className:"_7mht",children:[c,j.jsx(b("Link.react"),{href:a.getMessageSettingsURI(),children:h._("Edit Away Message and Schedule")})]})}function n(a){return j.jsx(b("FDSModal.react"),{footer:j.jsx(b("FDSModalFooter.react"),{primaryButton:j.jsx(b("FDSButton.react"),{label:h._("OK"),onClick:a.onConfirmClick,use:"primary"}),secondaryButton:j.jsx(b("FDSCancelButton.react"),{})}),header:j.jsx(b("FDSModalHeader.react"),{title:h._("Make Page available?")}),isShown:a.isShown,onHide:a.onCancelClick,children:j.jsx(b("FDSSection.react"),{children:j.jsx(b("FDSText.react"),{children:h._("Because your Page is scheduled to always be away, making your Page available will remove your \"away\" schedule. You can schedule times for your Page to be away in the \"Automated responses\" tab.")})})})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,showAlwaysAwayDialog:!1},d.handleClickOutside=function(a){a=a.target;d.$2&&a instanceof Node&&!d.$2.contains(a)&&d.setState({showDialog:!1})},d.$3=function(a){d.$2=a},d.$4=function(){b("PagesManagerInboxAwayToggleMutation").commit({pageID:d.props.pageID,isAway:!0}),d.setState({showDialog:!1})},d.$5=function(){if(!d.props.awayTimeRanges.isEmpty()&&d.props.expireTimestamp==null){d.setState({showAlwaysAwayDialog:!0});return}b("PagesManagerInboxAwayToggleMutation").commit({pageID:d.props.pageID,isAway:!1});d.setState({showDialog:!1})},d.$6=function(){return b("XPagesManagerInboxController").getURIBuilder().setString("page_token",d.props.pageID).setEnum("section","automated_responses").setEnum("automation","away_message").getURI()},d.$7=function(a){d.$1=a},d.$8=function(){return d.$1},d.$9=function(){d.setState(function(a){return{showDialog:!a.showDialog}})},d.$10=function(){d.setState({showAlwaysAwayDialog:!1,showDialog:!1})},d.$11=function(){d.setState({showAlwaysAwayDialog:!1,showDialog:!1}),b("PagesManagerInboxAwayToggleMutation").commit({pageID:d.props.pageID,isAway:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){document.addEventListener("mousedown",this.handleClickOutside)};d.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleClickOutside)};d.render=function(){var a=this.props.nextAwayRange!=null?JSON.parse(this.props.nextAwayRange):null;return j.jsxs("div",{children:[j.jsx("div",{className:i()?"_8_0f":"",children:j.jsx("div",babelHelpers["extends"]({className:"_7xv1",onClick:this.$9,ref:this.$7,role:"button",tabIndex:"0"},b("Tooltip").propsFor(this.props.isAway?h._("Away"):h._("Available")),{children:j.jsx("div",{className:"_7xu0"+(this.props.isAway?" _44hk":"")+(this.props.isAway?"":" _44hl")})}))}),this.state.showDialog?j.jsx(b("SUIPopoverLayer.react"),{content:j.jsxs("div",{className:"_7mhu",ref:this.$3,children:[j.jsx(k,{getShouldShowIGDirectAutomatedResponse:this.props.getShouldShowIGDirectAutomatedResponse,igPlatformEnabled:this.props.igPlatformEnabled,isChecked:!this.props.isAway,isIGDirecConnected:this.props.isIGDirecConnected,messengerPlatformEnabled:this.props.messengerPlatformEnabled,onToggle:this.$5,pageName:this.props.pageName}),j.jsx(l,{getShouldShowIGDirectAutomatedResponse:this.props.getShouldShowIGDirectAutomatedResponse,igPlatformEnabled:this.props.igPlatformEnabled,isChecked:this.props.isAway,isIGDirecConnected:this.props.isIGDirecConnected,messengerPlatformEnabled:this.props.messengerPlatformEnabled,onToggle:this.$4,pageName:this.props.pageName}),j.jsx(m,{getMessageSettingsURI:this.$6,hasAwaySchedule:!this.props.awayTimeRanges.isEmpty(),nextAwayBlock:a})]}),contextRef:this.$8,margin:"_4jnw",offsetY:8,position:"below",theme:b("SUIBusinessTheme")}):null,j.jsx(n,{isShown:this.state.showAlwaysAwayDialog,onCancelClick:this.$10,onConfirmClick:this.$11})]})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxAwayToggleContainer.react",["cx","fbt","BusinessInboxBizKitUtil","FluxContainer","PagesManagerInboxAwayToggle.react","PagesManagerInboxFilterStore","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","PagesMarketingAutomationContentUtils","PagesTimeRangeEditorUtilities","React","RelayModern","XUIAmbientNUX.react","PagesManagerInboxAwayToggleContainer_page.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("BusinessInboxBizKitUtil").isBizKitBeta,k=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,l=b("PagesMarketingAutomationContentUtils").getPlatformStatus,m=b("PagesMarketingAutomationContentUtils").getShouldShowIGDirectAutomatedResponse,n=b("React");a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var o="www_pages_new_away_toggle_nux";c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2(o)),d.setState({newAwayInfoLocationNuxShown:!1})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(){var a,c;a=(a=b("PagesManagerInboxStore").getConfig().pageName)!=null?a:"";c=((c=b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM_DIRECT)==null?void 0:c.igAccountID)!==null;return{commPlatform:b("PagesManagerInboxFilterStore").getActiveType(),newAwayInfoLocationNuxShown:b("PagesManagerInboxStore").shouldShowNUX(o),pageName:a,isIGDirecConnected:c}};var d=c.prototype;d.$2=function(a){return b("PagesManagerInboxNUX")[a]};d.$3=function(){var a=this;return!this.state.newAwayInfoLocationNuxShown?null:n.jsx(b("XUIAmbientNUX.react"),{contextRef:function(){return a.refs.awayinfobutton},onCloseButtonClick:this.$1,position:"below",shown:!0,children:h._("Tell people that your Page is away when you won't be able to respond to messages.")})};d.render=function(){var a,c,d,e,f,g=this.state.commPlatform==="INSTAGRAM_DIRECT";if(this.state.commPlatform!=="MESSENGER"&&g===!1&&k()===!1)return null;g=(g=this.props)!=null?(g=g.page)!=null?g.away_time_range:g:g;f=(f=this.props)!=null?(f=f.page)!=null?f.away_time_zone:f:f;e=(e=this.props)!=null?(e=e.page)!=null?e.away_toggle_expiration:e:e;d=(d=this.props)!=null?(d=d.page)!=null?d.is_away_toggle_on:d:d;c=(c=this.props)!=null?(c=c.page)!=null?c.id:c:c;if(g==null||d==null||c==null||f==null)return n.jsx("div",{});g=b("PagesTimeRangeEditorUtilities").getTimeRangesFromJson(g);a=(a=this.props.page)==null?void 0:(a=a.admin_info)==null?void 0:(a=a.away_response)==null?void 0:a.platforms;var h=l(a,"MESSENGER"),i=l(a,"INSTAGRAM_DIRECT");return n.jsxs("div",{className:j()?"_8_0e":"",children:[n.jsx(b("PagesManagerInboxAwayToggle.react"),{awayTimeRanges:g,awayTimezone:f,expireTimestamp:e,getShouldShowIGDirectAutomatedResponse:m(a,"away_message"),igPlatformEnabled:i,isAway:d,isIGDirecConnected:this.state.isIGDirecConnected,messengerPlatformEnabled:h,nextAwayRange:this.props.page.next_away_range,pageID:c,pageName:this.state.pageName,ref:"awayinfobutton"}),this.$3()]})};return c}(n.PureComponent);e.exports=a(b("FluxContainer").create(c),{page:i!==void 0?i:i=b("PagesManagerInboxAwayToggleContainer_page.graphql")})}),null);
__d("PagesManagerInboxAwayToggleRoot.react",["PagesManagerAwayToggleSubscription","PagesManagerInboxAwayToggleContainer.react","PagesManagerInboxQueryRenderer.react","React","RelayModern","PagesManagerInboxAwayToggleRootQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=b("PagesManagerAwayToggleSubscription").subscribe({page_id:this.props.pageID})};d.componentWillUnmount=function(){this.$1.dispose()};d.render=function(){return h.jsx(b("PagesManagerInboxQueryRenderer.react"),{query:g!==void 0?g:g=b("PagesManagerInboxAwayToggleRootQuery.graphql"),render:function(a){var c=a.error;a=a.props;return a&&!c?h.jsx(b("PagesManagerInboxAwayToggleContainer.react"),babelHelpers["extends"]({},a)):null},variables:{pageID:this.props.pageID}})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNewFolderNUX.react",["fbt","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="www_pages_inbox_new_folder";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowNewFolderNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowNewFolderNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[i]};d.render=function(){var a=g._("Quickly see what's unread, has been assigned or needs follow-up.");return h.jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:this.props.contextRef,onCloseButtonClick:this.$3,position:"below",shown:this.state.shouldShowNewFolderNUX,width:"normal",children:a})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxTopNavCreateWAButtonContainer.react",["cx","fbt","FluxContainer","PagesManagerInboxStore","React","Tooltip"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore")]};c.calculateState=function(){return{config:b("PagesManagerInboxStore").getConfig().platformConfigs.WEC}};var d=c.prototype;d.render=function(){if(!this.state.config.mailboxID)return null;else return i.jsx("div",babelHelpers["extends"]({className:"_6qn4"},b("Tooltip").propsFor(h._("Create group")),{onClick:this.props.onClick}))};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxListHeaderRightTopNav.react",["ix","cx","fbt","BusinessInboxBizKitUtil","ErrorBoundary.react","GeoButton.react","Image.react","Link.react","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxAwayToggleRoot.react","PagesManagerInboxFilterAction","PagesManagerInboxLogger","PagesManagerInboxNewFolderNUX.react","PagesManagerInboxTopNavCreateWAButtonContainer.react","PagesMessagingInboxActionLogger","React","Tooltip","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("BusinessInboxBizKitUtil").isBizKitBeta,k=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=null;d.getContextRef=function(){return d.$1};d.$4=function(){b("PagesManagerInboxLogger").logSearchClick(!0,d.props.filterType),b("PagesMessagingInboxActionLogger").logSearchButtonClicked(d.props.filterType),b("PagesManagerInboxFilterAction").changeSearchType("LABEL"),b("PagesManagerInboxFilterAction").toggleSearch(!0)};return d}var d=c.prototype;d.$2=function(){return this.props.isSearchActive||this.props.filterType==="WEC"?null:k.jsx(b("PagesManagerInboxAwayToggleRoot.react"),{className:"_dat",pageID:this.props.pageID})};d.$3=function(){var a=this.props.filterType==="WEC";if(this.props.shouldShowCometNewDesign||this.props.selectedCustomerID!=null||this.props.isSearchActive||a)return null;return j()?k.jsx(b("GeoButton.react"),{icon:k.jsx(b("Image.react"),{src:g("491285")}),isLabelHidden:!0,label:"",onClick:this.$4,tooltip:i._("Search")}):k.jsx(b("Link.react"),{className:"_dat",onClick:this.$4,children:k.jsx("div",babelHelpers["extends"]({className:"_-8b"},b("Tooltip").propsFor(i._("Search"))))})};d.$5=function(){var a=this;if(b("PageCommItemStatusUtil").getThreadsManagementStatus(this.props.folderSelected)===b("PageCommItemFolder").TODO&&this.props.isSearchActive===!1)return j()?k.jsx("div",{className:"_8_0e",children:k.jsx(b("GeoButton.react"),{icon:k.jsx(b("Image.react"),{src:g("500221")}),isLabelHidden:!0,label:"",onClick:this.props.toggleFilterSelector,tooltip:i._("Filter conversations")})}):k.jsxs(b("Link.react"),{className:"_dat","data-testid":void 0,onClick:this.props.toggleFilterSelector,children:[k.jsx("div",babelHelpers["extends"]({className:"_83ak",ref:function(b){a.$1=b}},b("Tooltip").propsFor(i._("Filter conversations")))),this.props.showNewFolderNux?k.jsx(b("PagesManagerInboxNewFolderNUX.react"),{contextRef:this.getContextRef}):null]});else return null};d.$6=function(){return this.props.filterType!=="WEC"?null:k.jsx(b("PagesManagerInboxTopNavCreateWAButtonContainer.react"),{onClick:this.props.onShowWACreateGroupDialog})};d.render=function(){return this.props.isFolderChangeActive||this.props.isFilterChangeActive?null:k.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:k.jsxs("div",{className:"_das",children:[this.$2(),this.$5(),this.$3(),this.$6()]})})};return c}(k.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListHeaderTopNav.react",["cx","BIZInboxClientLogger","CenteredContainer.react","ErrorBoundary.react","IGMessageDataMutateAction","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxAutomationDoneFolderNUX.react","PagesManagerInboxBulkActionsCancelSelectionButton.react","PagesManagerInboxBulkActionsNavBarContainer.react","PagesManagerInboxBulkSelectionButtonContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxCreateGroupDialog.react","PagesManagerInboxFilterAction","PagesManagerInboxHeaderSelectorFluxContainer.react","PagesManagerInboxListHeaderLeftTopNav.react","PagesManagerInboxListHeaderRightTopNav.react","PagesManagerInboxLogger","PagesManagerInboxStore","PagesMangerInboxMultiAdminFilterUtil","PagesMessagingInboxActionLogger","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="www_pages_inbox_new_folder";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c)||this;e.state={shouldShowWECCreateGroupDialog:!1};e.toggleFolderSelector=function(){b("PagesManagerInboxFilterAction").toggleFolderSelector(!e.props.isFolderChangeActive)};e.toggleFilterSelector=function(){b("PagesManagerInboxFilterAction").toggleFilterSelector(!e.props.isFilterChangeActive)};e.$3=function(a){e.props.isFilterChangeActive&&e.toggleFilterSelector();e.props.isFolderChangeActive&&e.toggleFolderSelector();b("PagesManagerInboxLogger").logFolderChangeClick(e.props.filterType,a);b("PagesManagerInboxLogger").logFolderSwitchClick(e.props.filterType,e.props.folderSelected,a);b("BIZInboxClientLogger").logSwitchFolderClick(e.props.pageID,e.props.filterType,e.props.folderSelected,a);e.props.folderSelected!==a&&b("PagesManagerAction").clearViewListItem();if(e.props.filterType==="INSTAGRAM_DIRECT"||e.props.shouldShowUnifiedThreadlist){var c;b("IGMessageDataMutateAction").forceFetchInbox(e.props.mailboxID,20,b("PageCommItemStatusUtil").getIGDirectFolder(a),a===b("PageCommItemFolder").FOLLOW_UP,a===b("PageCommItemFolder").UNREAD,(c=b("PagesMangerInboxMultiAdminFilterUtil").getIGDirectAdminID((c=e.props.filterOwner)==null?void 0:c.id))!=null?c:null,!1)}b("PagesManagerInboxFilterAction").changeFolder(e.props.pageID,a)};e.onShowWACreateGroupDialog=function(){var a="group_create_dialog_clicked";e.setState(function(){return{shouldShowWECCreateGroupDialog:!0}});b("PagesMessagingInboxActionLogger").logGroupActions("WEC",a)};e.$6=function(){e.setState(function(){return{shouldShowWECCreateGroupDialog:!1}})};return e}var d=c.prototype;d.$2=function(){return!this.props.isFolderChangeActive?null:h.jsx(b("PagesManagerInboxHeaderSelectorFluxContainer.react"),{onSelected:this.$3,platform:this.props.filterType,threadsManagementStatus:"FOLDER"})};d.$4=function(){return!this.props.isFilterChangeActive?null:h.jsx(b("PagesManagerInboxHeaderSelectorFluxContainer.react"),{onSelected:this.$3,platform:this.props.filterType,threadsManagementStatus:"FILTER"})};d.$5=function(){var a="NONE";this.props.isFilterChangeActive?a="FILTER":this.props.isFolderChangeActive&&(a="FOLDER");return h.jsx(b("PagesManagerInboxListHeaderLeftTopNav.react"),{allLabels:this.props.allLabels,contextRef:this.$1,filterType:this.props.filterType,folderSelected:this.props.folderSelected,isSearchActive:this.props.isSearchActive,pageID:this.props.pageID,searchType:this.props.searchType,threadsManagementStatus:a,toggleFilterSelector:this.toggleFilterSelector,toggleFolderSelector:this.toggleFolderSelector})};d.$7=function(){var a=Boolean(this.props.isBulkSelectionMode);return h.jsxs("div",{className:"_3qn7 _3qng",children:[!a&&h.jsx(b("PagesManagerInboxListHeaderRightTopNav.react"),{filterType:this.props.filterType,folderSelected:this.props.folderSelected,isFilterChangeActive:this.props.isFilterChangeActive,isFolderChangeActive:this.props.isFolderChangeActive,isSearchActive:this.props.isSearchActive,onShowWACreateGroupDialog:this.onShowWACreateGroupDialog,pageID:this.props.pageID,searchType:this.props.searchType,selectedCustomerID:this.props.selectedCustomerID,shouldShowCometNewDesign:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign(),showNewFolderNux:b("PagesManagerInboxStore").shouldShowNUX(i),toggleFilterSelector:this.toggleFilterSelector}),this.$8(a)]})};d.$8=function(a){var c;return Boolean(this.props.allowBulkSelection)?h.jsxs(h.Fragment,{children:[a&&h.jsx(b("PagesManagerInboxBulkActionsNavBarContainer.react"),{folderSelected:this.props.folderSelected,selectedThreads:(c=this.props.selectedThreadsCount)!=null?c:0}),h.jsx(b("PagesManagerInboxBulkSelectionButtonContainer.react"),{active:a,selectedThreads:(c=this.props.selectedThreadsCount)!=null?c:0})]}):null};d.render=function(){var a=this,c=null;!Boolean(this.props.isBulkSelectionMode)?c=this.$5():c=h.jsx(b("PagesManagerInboxBulkActionsCancelSelectionButton.react"),{});var d=h.jsxs(b("CenteredContainer.react"),{className:"_83i",fullHeight:!0,horizontal:!1,vertical:!0,children:[this.$7(),h.jsx(b("PagesManagerInboxCreateGroupDialog.react"),{isShown:this.state.shouldShowWECCreateGroupDialog,mailboxID:this.props.mailboxID,onHide:this.$6,pageID:this.props.pageID})]});return h.jsx(b("ErrorBoundary.react"),{onHandleError:b("PagesManagerInboxLogger").logErrorJS,children:h.jsxs("div",{children:[h.jsxs("div",{className:"_83e","data-testid":void 0,children:[h.jsxs(b("CenteredContainer.react"),{className:"_83f",fullHeight:!0,horizontal:!1,vertical:!0,children:[c,h.jsx(b("PagesManagerInboxAutomationDoneFolderNUX.react"),{contextRef:function(){return a.$1}})]}),d]}),this.$2(),this.$4(),h.jsx("div",{ref:function(b){return a.$1=b}})]})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxSavedRepliesUpsellToastContainer.react",["cx","fbt","FDSGuidanceToast.react","FDSGuidanceToastCloseButton.react","FluxContainer","PagesManagerMessagingComposerActions","PagesManagerMessagingComposerStore","React"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerMessagingComposerStore")]};c.calculateState=function(a){return{shouldShowToast:b("PagesManagerMessagingComposerStore").getShouldShowSavedReplyUpsellToast()}};var d=c.prototype;d.$1=function(){b("PagesManagerMessagingComposerActions").setShouldShowSavedReplyUpsellToast(!1)};d.render=function(){return this.state.shouldShowToast?i.jsx("div",{className:"_8qgr",children:i.jsx(b("FDSGuidanceToast.react"),{closeButton:i.jsx(b("FDSGuidanceToastCloseButton.react"),{onClick:this.$1}),content:h._("Added to saved replies"),type:"success"})}):null};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxNavListView.react",["cx","PageCommItemFolder","PagesManagerAction","PagesManagerInboxAutomationToastContainer.react","PagesManagerInboxBanToastContainer.react","PagesManagerInboxBulkActionsNoticeContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxFolderChangeNoticeContainer.react","PagesManagerInboxListFluxContainer.react","PagesManagerInboxListHeaderTopNav.react","PagesManagerInboxSavedRepliesUpsellToastContainer.react","PagesManagerInboxStore","React","ResponsiveBlock.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidUpdate=function(){this.props.filterType==="INSTAGRAM_DIRECT"&&this.props.filterFolder===b("PageCommItemFolder").TODO&&b("PagesManagerAction").setListHeaderHeight(0)};d.$1=function(a,c){b("PagesManagerAction").setListNavigationHeight(c)};d.render=function(){var a=b("PagesManagerInboxStore").getMailboxID(this.props.filterType),c=this.props.selectedThreads?this.props.selectedThreads.count():0;return h.jsxs("div",{className:"_6j3i",children:[b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()&&this.props.isSearchActive?null:h.jsx(b("ResponsiveBlock.react"),{onResize:this.$1,children:h.jsx(b("PagesManagerInboxListHeaderTopNav.react"),{allLabels:this.props.allLabels,allowBulkSelection:this.props.allowBulkSelection,filterOwner:this.props.filterOwner,filterType:this.props.filterType,folderSelected:this.props.filterFolder,isBulkSelectionMode:this.props.isBulkSelectionMode,isFilterChangeActive:this.props.isFilterChangeActive,isFolderChangeActive:this.props.isFolderChangeActive,isSearchActive:this.props.isSearchActive,mailboxID:a,pageID:this.props.pageID,searchTerm:this.props.searchTerm,searchType:this.props.searchType,selectedCommentView:this.props.selectedCommentView,selectedCustomerID:this.props.selectedCustomerID,selectedThreadsCount:c,shouldShowUnifiedThreadlist:this.props.shouldShowUnifiedThreadlist})}),h.jsxs("div",{className:b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?"_8daj":"_29xb",children:[h.jsx(b("PagesManagerInboxListFluxContainer.react"),{height:this.props.height,loadEndEventLogged:this.props.loadEndEventLogged,loadStartTime:this.props.loadStartTime,logLoadEndEvent:this.props.logLoadEndEvent,mailboxID:a,onSelectionChange:b("PagesManagerAction").handleSelectionMapChange,paddingBottom:0,pageName:this.props.pageName}),h.jsx(b("PagesManagerInboxFolderChangeNoticeContainer.react"),{pageID:a}),h.jsx(b("PagesManagerInboxBulkActionsNoticeContainer.react"),{}),h.jsx(b("PagesManagerInboxBanToastContainer.react"),{pageID:a}),h.jsx(b("PagesManagerInboxAutomationToastContainer.react"),{activeType:this.props.filterType,commItemFolder:this.props.filterFolder,pageID:a,selectedCustomerID:this.props.selectedCustomerID}),h.jsx(b("PagesManagerInboxSavedRepliesUpsellToastContainer.react"),{})]})]})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxListView.react",["FluxContainer","JSResource","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerCustomLabelsStore","PagesManagerInboxCometSearchBarContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxFilterStore","PagesManagerInboxLeadEmailListContainer.react","PagesManagerInboxListLoading.react","PagesManagerInboxNavListView.react","PagesManagerInboxUnifiedThreadlistUtil","PagesManagerStore","QuickPerformanceLogger","React","immutable","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,h=b("React"),i=b("lazyLoadComponent")(b("JSResource")("PagesAutomatedResponsesList.react").__setRef("PagesManagerInboxListView.react"));a=function(a){babelHelpers.inheritsLoose(c,a);c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerCustomLabelsStore")]};c.calculateState=function(a,c){a=c.config.validPlatformTypes;var d=b("PagesManagerInboxFilterStore").getActiveFolder();d!==b("PageCommItemFolder").TODO&&(a=a.filter(function(a){return a!=="WEC"}));var e=b("PagesManagerInboxFilterStore").getActiveType(),f=c.config.platformConfigs.MESSENGER,g=c.config.platformConfigs.FACEBOOK;f=e==="MESSENGER"&&Boolean(f.showBulkSelection);c=c.config.inboxRedesignConfig.shouldShowSettingsRedesign;return{filterFolder:d,filterOwner:b("PagesManagerInboxFilterStore").getActiveOwner(),filterType:e,isSearchActive:b("PagesManagerInboxFilterStore").getIsSearchActive(),isFolderChangeActive:b("PagesManagerInboxFilterStore").getIsFolderChangeActive(),isFilterChangeActive:b("PagesManagerInboxFilterStore").getIsFilterChangeActive(),searchTerm:b("PagesManagerInboxFilterStore").getSearchTerm(),searchType:b("PagesManagerInboxFilterStore").getSearchType(),selectedCustomerID:b("PagesManagerInboxFilterStore").getPageCustomerID(),layoutHeight:b("PagesManagerStore").getLayoutHeight(),listHeaderHeight:b("PagesManagerStore").getListHeaderHeight(),validPlatformTypes:a,selectedCommentView:g.selectedCommentView||"NOT_SELECTED",listNavHeight:b("PagesManagerStore").getListNavigationHeight(),allLabels:b("PagesManagerCustomLabelsStore").getLabels(),selectionMode:f&&b("PagesManagerStore").isBulkSelectionMode(),allowBulkSelection:f,selectedThreads:f?b("PagesManagerStore").getSelectedThreads():null,showSettingsRedesign:c}};function c(b,c){var d;d=a.call(this,b)||this;d.$3=function(){d.$2=!0};d.$1=0;d.$2=!1;return d}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.props.navMode==="messages"&&!this.$2&&((this.state.filterType==="MESSENGER"||this.state.filterType==="INSTAGRAM_DIRECT"||this.state.filterType==="FACEBOOK")&&(this.$1=Date.now()),this.state.filterType==="MESSENGER"&&b("QuickPerformanceLogger").markerStart(36241413))};d.render=function(){var a=this.state.layoutHeight-this.state.listNavHeight,c=a-this.state.listHeaderHeight,d=null;switch(this.props.navMode){case"automated_responses":d=h.jsx(h.Suspense,{fallback:h.jsx(b("PagesManagerInboxListLoading.react"),{height:a}),children:h.jsx(i,{height:a,pageID:this.props.pageID,showSettingsRedesign:this.state.showSettingsRedesign})});break;case"messages":d=h.jsxs("div",{children:[b("PagesManagerInboxCometUtil").shouldShowCometNewDesign()?h.jsx(b("PagesManagerInboxCometSearchBarContainer.react"),{pageID:this.props.pageID}):null,h.jsx(b("PagesManagerInboxNavListView.react"),{allLabels:this.state.allLabels,allowBulkSelection:this.state.allowBulkSelection,filterFolder:this.state.filterFolder,filterOwner:this.state.filterOwner,filterType:this.state.filterType,height:c-b("PagesManagerInboxCometUtil").cometSearchInputHeight(),isBulkSelectionMode:this.state.selectionMode,isFilterChangeActive:this.state.isFilterChangeActive,isFolderChangeActive:this.state.isFolderChangeActive,isSearchActive:this.state.isSearchActive,loadEndEventLogged:this.$2,loadStartTime:this.$1,logLoadEndEvent:this.$3,pageID:this.props.pageID,pageName:this.props.pageName,searchTerm:this.state.searchTerm,searchType:this.state.searchType,selectedCommentView:this.state.selectedCommentView,selectedCustomerID:this.state.selectedCustomerID,selectedThreads:this.state.selectedThreads,shouldShowUnifiedThreadlist:g(),validPlatformTypes:this.state.validPlatformTypes})]});break;case"lead_email":d=h.jsx(h.Suspense,{fallback:h.jsx(b("PagesManagerInboxListLoading.react"),{height:a}),children:h.jsx(b("PagesManagerInboxLeadEmailListContainer.react"),{height:c,pageID:this.props.pageID})});break}return d};return c}(h.PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesManagerInboxNavBarCounter.react",["FluxContainer","IGMessageInboxStore","PagesCommsInboxTypedLogger","PagesManagerPageCommItemEditSubscriptionHandler","React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={count:c.props.initialCount},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("IGMessageInboxStore")]};c.calculateState=function(a,c){if(c.platform==="INSTAGRAM_DIRECT"){a=b("IGMessageInboxStore").getLocallyUpdatedUnreadCount();if(a!=null)return{count:a}}return{count:c.initialCount}};var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=b("PagesManagerPageCommItemEditSubscriptionHandler").addCallback(function(c){switch(a.props.platform){case"FACEBOOK":var d=c.page_comm_item_edit_subscribe.page.comms_hub_config.facebook_badge_count;a.state.count!==d&&(a.props.setCountForPlatform&&a.props.setCountForPlatform("FACEBOOK",d),a.setState({count:d}));break;case"INSTAGRAM":a.state.count!==c.page_comm_item_edit_subscribe.page.comms_hub_config.instagram_badge_count&&(a.props.setCountForPlatform&&a.props.setCountForPlatform("INSTAGRAM",c.page_comm_item_edit_subscribe.page.comms_hub_config.instagram_badge_count),a.setState({count:c.page_comm_item_edit_subscribe.page.comms_hub_config.instagram_badge_count}));break;case"MESSENGER":a.state.count!==c.page_comm_item_edit_subscribe.page.comms_hub_config.fb_messenger_badge_count&&(a.props.setCountForPlatform&&a.props.setCountForPlatform("MESSENGER",c.page_comm_item_edit_subscribe.page.comms_hub_config.fb_messenger_badge_count),new(b("PagesCommsInboxTypedLogger"))().setEvent("graphql_subscription_received").setFunnel("messenger_badging").setMessageID(c.page_comm_item_edit_subscribe.page_comm_item.id).setMessagingPlatform("messenger").setClientTime(Date.now()).log(),a.setState({count:c.page_comm_item_edit_subscribe.page.comms_hub_config.fb_messenger_badge_count}));break;case"WEC":a.state.count!==c.page_comm_item_edit_subscribe.page.comms_hub_config.wec_badge_count&&(a.props.setCountForPlatform&&a.props.setCountForPlatform("WEC",c.page_comm_item_edit_subscribe.page.comms_hub_config.wec_badge_count),a.setState({count:c.page_comm_item_edit_subscribe.page.comms_hub_config.wec_badge_count}));break}})};d.componentDidUpdate=function(a,b){this.props.platform==="INSTAGRAM_DIRECT"&&b!=null&&b.count!==this.state.count&&(this.props.setCountForPlatform&&this.props.setCountForPlatform(this.props.platform,this.state.count))};d.componentWillUnmount=function(){this.$1!==null&&this.$1!==void 0&&b("PagesManagerPageCommItemEditSubscriptionHandler").removeCallback(this.$1)};d.render=function(){return this.props.children(this.state.count)};return c}(a.PureComponent);c.defaultProps={shouldShowNewCommentFlow:!1};e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("PagesManagerInboxNavBarHeaderRowCard.react",["cx","fbt","FDSText.react","Image.react","React","Tooltip.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=null;this.props.count>20?a=h._("20+"):this.props.count>0&&(a=this.props.count);return i.jsxs("div",{className:"_6idj _6ph8 _6w26"+(this.props.shouldShowSelectedBlueBar&&this.props.isSelected?" _8jlq":""),"data-testid":this.props.rowId,ref:this.props.rowRef,children:[i.jsx(b("Tooltip.react"),{position:"right",tooltip:this.props.isCollapsed?this.props.title:null,children:i.jsxs("div",{className:"_6ph7",children:[a!==null&&this.props.isCollapsed?i.jsx("div",{className:"_6idk _6uw_",children:a}):null,i.jsx(b("Image.react"),{src:this.props.image})]})}),i.jsx("div",{className:"_6lhl",children:i.jsx(b("FDSText.react"),{color:"secondary",palette:"dark",size:"body2",weight:this.props.isSelected?"bold":"normal",children:this.props.title})}),a!==null?i.jsx("div",{className:"_6idk _6idh","data-testid":this.props.countId,children:i.jsx(b("FDSText.react"),{color:"white",size:"body2",children:i.jsxs("div",{children:[" ",a]})})}):i.jsx("div",{className:"_7hm0","data-testid":this.props.countId})]})};return c}(i.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavBarMessengerRowCard.react",["ix","cx","fbt","FDSText.react","Image.react","LineClamp.react","Link.react","MessengerState.bs","React","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=i._("Messenger"),d=this.props.isSelected?g("516653"):g("499159");return j.jsx(b("MessengerState.bs").jsComponent,{fbid:this.props.pageID,children:function(e){e=b("MessengerState.bs").unreadCounts(e).inbox?b("MessengerState.bs").unreadCounts(e).inbox.size:b("MessengerState.bs").initialUnreadCounts(e).inbox;a.props.setCountForPlatform("MESSENGER",e);e>20?e=i._("20+"):e===0&&(e=null);return j.jsxs(b("Link.react"),{className:"_6ie2 _6w26"+(a.props.isSelected?"":" _6idd")+(a.props.isSelected?" _6jio":""),"data-testid":a.props.rowPlatformId,onClick:a.props.onClick,children:[j.jsx(b("Tooltip.react"),{position:"right",tooltip:a.props.isCollapsed?c:null,children:j.jsxs("div",{className:"_6ph7",children:[e!==null&&a.props.isCollapsed?j.jsx("div",{className:(a.props.isSelected?"":"_6uw-")+(a.props.isSelected?" _6idk":"")+(a.props.isSelected?"":" _6idg")+" _6uw_"+(a.props.hideBadgeCount===!0?" _8nzr":""),children:e}):null,j.jsx(b("Image.react"),{src:d})]})}),j.jsx("div",{className:"_6mif",children:j.jsx(b("FDSText.react"),{color:"secondary",palette:"dark",size:"body2",weight:a.props.isSelected?"bold":"normal",children:j.jsx(b("LineClamp.react"),{lines:1,children:c})})}),e!==null?j.jsx("div",{className:(a.props.isSelected?"_6jir":"")+(a.props.isSelected?"":" _6idg")+" _6idh"+(a.props.hideBadgeCount===!0?" _8nzr":""),"data-testid":"messenger_message_count",children:e}):j.jsx("div",{className:"_7hm0","data-testid":"messenger_message_count"})]})}})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavBarRowCard.react",["cx","fbt","ix","FDSText.react","Image.react","LineClamp.react","Link.react","PagesManagerIGTabUpsell.react","React","Tooltip.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");function k(a){switch(a){case"MESSENGER":return"messenger_message_count";default:return""}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c;switch(this.props.platform){case"ALL":a=this.props.isSelected?i("1185512"):i("591501");c=h._("All messages");break;case"MESSENGER":a=this.props.isSelected?i("516653"):i("499159");c=h._("Messenger");break;case"INSTAGRAM_DIRECT":a=this.props.isSelected?i("764453"):i("764452");c=h._("Instagram Direct");break;case"FACEBOOK":a=this.props.isSelected?i("503923"):i("534917");c=h._("Facebook");break;case"INSTAGRAM":a=this.props.isSelected?i("649799"):i("649798");c=h._("Instagram");break}var d=null;this.props.count!==null&&this.props.count!==void 0&&this.props.count>0&&(d=this.props.count>20?h._("20+"):this.props.count);var e=null;this.props.platform==="INSTAGRAM_DIRECT"&&(e=j.jsx(b("PagesManagerIGTabUpsell.react"),{isSelected:this.props.isSelected}));return j.jsxs(b("Link.react"),{className:"_6ie2 _6w26"+(this.props.isSelected?"":" _6idd")+(this.props.isSelected&&this.props.platform==="ALL"?" _8p-u":"")+(this.props.isSelected&&this.props.platform==="MESSENGER"?" _6jio":"")+(this.props.isSelected&&this.props.platform==="FACEBOOK"?" _6jip":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM"?" _6jiq":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM_DIRECT"?" _6z7o":""),"data-testid":this.props.rowPlatformId,onClick:this.props.onClick,children:[j.jsx(b("Tooltip.react"),{position:"right",tooltip:this.props.isCollapsed?c:null,children:j.jsxs("div",{className:"_6ph7",children:[d!==null&&this.props.isCollapsed?j.jsx("div",{className:(this.props.isSelected?"":"_6uw-")+(this.props.isSelected?" _6idk":"")+(this.props.isSelected?"":" _6idg")+" _6uw_"+(this.props.hideBadgeCount?" _8nzr":""),children:d}):null,j.jsx(b("Image.react"),{src:a}),j.jsx("div",{children:this.props.isCollapsed&&this.props.platform==="INSTAGRAM_DIRECT"?j.jsx("div",{className:"_7kx1",children:e}):null})]})}),j.jsx("div",{className:"_6mif",children:j.jsx(b("FDSText.react"),{color:"secondary",palette:"dark",size:"body2",weight:this.props.isSelected?"bold":"normal",children:j.jsx(b("LineClamp.react"),{lines:1,children:c})})}),d!==null?j.jsx("div",{className:(this.props.isSelected&&this.props.platform==="ALL"?"_8p-v":"")+(this.props.isSelected&&this.props.platform==="MESSENGER"?" _6jir":"")+(this.props.isSelected&&this.props.platform==="FACEBOOK"?" _6jis":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM"?" _6jit":"")+(this.props.isSelected&&this.props.platform==="INSTAGRAM_DIRECT"?" _85r0":"")+(this.props.isSelected?"":" _6idg")+" _6idh"+(this.props.hideBadgeCount===!0?" _8nzr":""),"data-testid":k(this.props.platform),children:d}):j.jsx("div",{className:"_7hm0","data-testid":k(this.props.platform)}),e]})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxRevampIGCommentTabNUX.react",["fbt","PagesManagerInboxNavBarRowCard.react","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","React","ReactDOM","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i="page_inbox_ig_comment_new_experience";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowIGCommentRevampNUX:d.$1()},d.$3=function(){b("PagesManagerInboxNUXAction").dismiss(d.$2()),d.setState({shouldShowIGCommentRevampNUX:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){if(!this.checkDOMContainsRef())return!1;var a=b("PagesManagerInboxStore").shouldShowNUX(i);a&&b("PagesManagerInboxNUXAction").logView(this.$2());return a};d.$2=function(){return b("PagesManagerInboxNUX")[i]};d.checkDOMContainsRef=function(){try{return b("ReactDOM").findDOMNode(this.props.contextRef())!=null}catch(a){return!1}};d.render=function(){if(!this.checkDOMContainsRef())return null;var a=g._("You can now find new Instagram comments and replies to comments more easily.");return h.jsx(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:this.props.contextRef,onCloseButtonClick:this.$3,position:"below",shown:this.state.shouldShowIGCommentRevampNUX,width:"normal",children:a})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavBlock.react",["cx","PagesManagerInboxAccordion.react","PagesManagerInboxNavBarCounter.react","PagesManagerInboxNavBarHeaderRowCard.react","PagesManagerInboxNavBarMessengerRowCard.react","PagesManagerInboxNavBarRowCard.react","PagesManagerInboxRevampIGCommentTabNUX.react","PagesManagerInboxStore","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={counts:c.$1()},c.$2=null,c.$3=null,c.$4=function(a,b){c.setState(function(c){c=c.counts;c[a]=b;return c})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a={};this.props.rows.forEach(function(b){if(!b.shouldShow)return;b.count!==void 0&&(a[b.platform]=b.count)});return a};d.$5=function(){var a=this,b=0;this.props.rows.forEach(function(c){if(!c.shouldShow)return;b+=a.state.counts[c.platform]});return b};d.$6=function(a){var c=b("PagesManagerInboxStore").getBusinessInboxAppConfig();c=c==null?b("PagesManagerInboxStore").getConfig().platformConfigs.INSTAGRAM:c.instagramConfig;if(c.shouldShowIGRevampComments!==!0)return null;var d=this.$3;return a==="INSTAGRAM"&&d!=null?h.jsx(b("PagesManagerInboxRevampIGCommentTabNUX.react"),{contextRef:function(){return d}}):null};d.render=function(){var a=this;if(this.props.shouldShow===!1)return null;var c=!1;this.props.rows.length>0?this.props.rows.forEach(function(b){if(!b.shouldShow)return;a.props.detailViewMode===a.props.selectedNavMode&&!c&&(c=b.platform===a.props.filterSelected)}):c=this.props.selectedNavMode===this.props.detailViewMode;return h.jsx(b("PagesManagerInboxAccordion.react"),{disableCollapse:!c,header:h.jsx(b("PagesManagerInboxNavBarHeaderRowCard.react"),{count:this.$5(),countId:this.props.countID,image:c?this.props.selectedIcon:this.props.unselectedIcon,isCollapsed:this.props.isCollapsed,isSelected:c,rowId:this.props.rowId,rowRef:this.props.rowRef,shouldShowSelectedBlueBar:this.props.shouldShowUnifiedThreadlist===!0,title:this.props.headerTitle}),initialExpanded:this.props.initialExpanded,onClick:function(){c||(a.props.rows.length>0?a.props.formatChange(a.props.rows[0].platform,a.props.detailViewMode):a.props.formatChange(a.props.filterSelected,a.props.detailViewMode))},children:this.props.rows&&this.props.rows.map(function(d,e){return d.shouldShow?d.platform==="MESSENGER"&&a.props.shouldUpdateBadgeCountLocally?h.jsx("div",{className:a.props.shouldShowUnifiedThreadlist===!0?"_8nzr":"",children:h.jsx(b("PagesManagerInboxNavBarMessengerRowCard.react"),{initialCount:d.count,isCollapsed:a.props.isCollapsed,isSelected:a.props.filterSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$4})},d.rowPlatformId):h.jsxs("div",{className:a.props.shouldShowUnifiedThreadlist===!0?"_8nzr":"",children:[h.jsx(b("PagesManagerInboxNavBarCounter.react"),{initialCount:d.count!==null&&d.count!==void 0?d.count:0,pageID:a.props.pageID,platform:d.platform,setCountForPlatform:a.$4,shouldShowNewCommentFlow:!!a.props.shouldShowNewCommentFlow,children:function(e){return h.jsx(b("PagesManagerInboxNavBarRowCard.react"),{count:e,isCollapsed:a.props.isCollapsed,isSelected:a.props.filterSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},platform:d.platform,ref:function(b){d.platform==="FACEBOOK"?a.$2=b:d.platform==="INSTAGRAM"&&(a.$3=b)},rowPlatformId:d.rowPlatformId})}}),a.$6(d.platform)]},d.rowPlatformId):null})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxUnifiedThreadlistNavBlock.react",["cx","PagesManagerInboxAccordion.react","PagesManagerInboxNavBarCounter.react","PagesManagerInboxNavBarHeaderRowCard.react","PagesManagerInboxNavBarMessengerRowCard.react","PagesManagerInboxNavBarRowCard.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={counts:c.$1()},c.$2=function(a,b){c.setState(function(c){c=c.counts;c[a]=b;return c})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.$1=function(){var a={};this.props.rows.forEach(function(b){if(!b.shouldShow)return;b.count!==void 0&&(a[b.platform]=b.count)});return a};d.$3=function(){var a=this,b=0;this.props.rows.forEach(function(c){if(!c.shouldShow)return;b+=a.state.counts[c.platform]});return b};d.render=function(){var a=this,c=this.props.rows.some(function(b){return b.shouldShow&&b.platform===a.props.filterSelected})&&this.props.selectedNavMode===this.props.detailViewMode;return h.jsx(b("PagesManagerInboxAccordion.react"),{disableCollapse:!c,header:h.jsx(b("PagesManagerInboxNavBarHeaderRowCard.react"),{count:this.$3(),countId:this.props.countID,image:c?this.props.selectedIcon:this.props.unselectedIcon,isCollapsed:this.props.isCollapsed,isSelected:c,rowId:this.props.rowId,rowRef:this.props.rowRef,shouldShowSelectedBlueBar:!1,title:this.props.headerTitle}),initialExpanded:this.props.initialExpanded,onClick:function(){c||(a.props.rows.length>0?a.props.formatChange(a.props.rows[0].platform,a.props.detailViewMode):a.props.formatChange(a.props.filterSelected,a.props.detailViewMode))},children:this.props.rows&&this.props.rows.map(function(d,e){if(d.shouldShow)switch(d.platform){case"MESSENGER":if(a.props.shouldUpdateBadgeCountLocally)return h.jsx("div",{className:a.props.shouldShowUnifiedThreadlistSeparatedTab===!1?"_8nzr":"",children:h.jsx(b("PagesManagerInboxNavBarMessengerRowCard.react"),{hideBadgeCount:!0,initialCount:d.count,isCollapsed:a.props.isCollapsed,isSelected:a.props.utlFolderSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},pageID:a.props.pageID,rowPlatformId:d.rowPlatformId,setCountForPlatform:a.$2})},d.rowPlatformId);break;case"ALL":return h.jsx(b("PagesManagerInboxNavBarRowCard.react"),{count:a.$3(),isCollapsed:a.props.isCollapsed,isSelected:a.props.utlFolderSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},platform:d.platform,rowPlatformId:d.rowPlatformId},d.rowPlatformId);default:return h.jsx("div",{className:a.props.shouldShowUnifiedThreadlistSeparatedTab===!1?"_8nzr":"",children:h.jsx(b("PagesManagerInboxNavBarCounter.react"),{initialCount:d.count!==null&&d.count!==void 0?d.count:0,pageID:a.props.pageID,platform:d.platform,setCountForPlatform:a.$2,shouldShowNewCommentFlow:!1,children:function(e){return h.jsx(b("PagesManagerInboxNavBarRowCard.react"),{count:e,hideBadgeCount:!0,isCollapsed:a.props.isCollapsed,isSelected:a.props.utlFolderSelected===d.platform&&c,onClick:function(){a.props.formatChange(d.platform,a.props.detailViewMode)},platform:d.platform,rowPlatformId:d.rowPlatformId})}})},d.rowPlatformId)}return null})})};return c}(h.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavBar.react",["ix","cssVar","cx","fbt","BizEmailMarketingNux.react","BIZInboxClientLogger","PagesManagerInboxLogger","PagesManagerInboxNavBarSavedResponsesNUX.react","PagesManagerInboxNavBlock.react","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistNavBlock.react","PagesManagerInboxUtils","React","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("PagesManagerInboxUtils").changeInboxTab,l=b("PagesManagerInboxUtils").changeSelectedUTLFolder,m=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isCollapsed:window.innerWidth<=parseInt("1279px",10)},c.$5=function(){var a=window.innerWidth<=parseInt("1279px",10);c.setState({isCollapsed:a})},c.$6=function(a,b){k(a,b,c.props.filterSelected,c.props.selectedNavMode,c.props.pageID),c.$7(a,b)},c.$8=function(a,b){l(a,b,c.props.utlFolderSelected,c.props.selectedNavMode,c.props.pageID),c.$7(a,b)},c.$9=function(a){c.$1=a},c.$10=function(a){c.$2=a},c.$11=function(a){c.$3=a},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$4(),window.addEventListener("resize",this.$5)};d.$4=function(){b("PagesManagerInboxLogger").logAutomatedResponsesRendered()};d.$7=function(a,c){b("BIZInboxClientLogger").logPlatformClick(this.props.pageID,this.props.filterSelected,a,this.props.selectedNavMode,c)};d.render=function(){var a=this;return m.jsxs("div",{className:"_6idi","data-testid":void 0,style:{height:this.props.height},children:[this.props.shouldShowUnifiedThreadlistSeparatedTab===!0&&this.props.shouldShowUnifiedThreadlist===!0?m.jsx(b("PagesManagerInboxUnifiedThreadlistNavBlock.react"),{countID:"message_count",detailViewMode:"messages",filterSelected:this.props.filterSelected,formatChange:this.$8,headerTitle:j._("Messages"),initialExpanded:!0,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"messages_header_row_card",rowRef:this.$9,rows:[{shouldShow:!0,platform:"ALL",rowPlatformId:"all_messages_row_card",count:0},{shouldShow:!0,platform:"MESSENGER",rowPlatformId:"messenger_row_card",count:this.props.badgeCountMap.MESSENGER},{shouldShow:this.props.showIGDirect,platform:"INSTAGRAM_DIRECT",rowPlatformId:"ig_direct_row_card",count:this.props.badgeCountMap.INSTAGRAM_DIRECT}],selectedIcon:g("609713"),selectedNavMode:this.props.selectedNavMode,shouldUpdateBadgeCountLocally:!0,unselectedIcon:g("649812"),utlFolderSelected:this.props.utlFolderSelected}):m.jsx(b("PagesManagerInboxNavBlock.react"),{countID:"message_count",detailViewMode:"messages",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Messages"),initialExpanded:!0,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"messages_header_row_card",rowRef:this.$9,rows:[{shouldShow:!0,platform:"MESSENGER",rowPlatformId:"messenger_row_card",count:this.props.badgeCountMap.MESSENGER},{shouldShow:this.props.showWEC,platform:"WEC",count:this.props.badgeCountMap.WEC,rowPlatformId:"wec_row_card"},{shouldShow:this.props.showIGDirect,platform:"INSTAGRAM_DIRECT",rowPlatformId:"ig_direct_row_card",count:this.props.badgeCountMap.INSTAGRAM_DIRECT}],selectedIcon:g("609713"),selectedNavMode:this.props.selectedNavMode,shouldShowUnifiedThreadlist:this.props.shouldShowUnifiedThreadlist,shouldUpdateBadgeCountLocally:!0,unselectedIcon:g("649812")}),m.jsx(b("PagesManagerInboxNavBlock.react"),{countID:"comment_count",detailViewMode:"messages",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Comments and more"),initialExpanded:!(this.props.shouldShowUnifiedThreadlist&&!this.props.shouldShowUnifiedThreadlistSeparatedTab)||this.props.filterSelected==="FACEBOOK"||this.props.filterSelected==="INSTAGRAM",isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"comments_header_row_card",rows:[{shouldShow:!0,platform:"FACEBOOK",count:this.props.badgeCountMap.FACEBOOK,rowPlatformId:"facebook_row_card"},{shouldShow:!0,platform:"INSTAGRAM",count:this.props.badgeCountMap.INSTAGRAM,rowPlatformId:"ig_row_card"}],selectedIcon:g("649809"),selectedNavMode:this.props.selectedNavMode,shouldShowNewCommentFlow:this.props.shouldShowNewCommentFlow,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("510901")}),m.jsx(b("PagesManagerInboxNavBlock.react"),{detailViewMode:"automated_responses",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Automated responses"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"automation_card",rowRef:this.$10,rows:[],selectedIcon:g("653900"),selectedNavMode:this.props.selectedNavMode,shouldShow:!0,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("653903")}),m.jsx(b("PagesManagerInboxNavBarSavedResponsesNUX.react"),{contextRef:function(){return a.$2}}),m.jsx(b("PagesManagerInboxNavBlock.react"),{detailViewMode:"commerce_email",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Emails"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"commerce_email",rows:[],selectedIcon:g("480901"),selectedNavMode:this.props.selectedNavMode,shouldShow:this.props.showCommerceEmail,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("506663")}),m.jsx(b("PagesManagerInboxNavBlock.react"),{detailViewMode:"email_campaign",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Marketing emails"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"email_card",rowRef:this.$11,rows:[],selectedIcon:g("480901"),selectedNavMode:this.props.selectedNavMode,shouldShow:this.props.showEmailCampaign,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("506663")}),m.jsx(b("BizEmailMarketingNux.react"),{contextRef:function(){return a.$3}}),m.jsx(b("PagesManagerInboxNavBlock.react"),{detailViewMode:"contacts",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Contacts"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"contact_card",rows:[],selectedIcon:g("709450"),selectedNavMode:this.props.selectedNavMode,shouldShow:this.props.showEmailCampaign,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("514164")}),m.jsx(b("PagesManagerInboxNavBlock.react"),{detailViewMode:"lead_email",filterSelected:this.props.filterSelected,formatChange:this.$6,headerTitle:j._("Email"),initialExpanded:!1,isCollapsed:this.state.isCollapsed,pageID:this.props.pageID,rowId:"lead_email",rows:[],selectedIcon:g("480901"),selectedNavMode:this.props.selectedNavMode,shouldShow:this.props.showLeadEmail,shouldUpdateBadgeCountLocally:!1,unselectedIcon:g("506663")})]})};return c}(m.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxNavContainer.react",["FluxContainer","PageCommItemFolder","PageCommItemStatusUtil","PagesManagerInboxFilterStore","PagesManagerInboxNavBar.react","PagesManagerInboxStore","PagesManagerInboxUnifiedThreadlistUtil","PagesManagerStore","React"],(function(a,b,c,d,e,f){"use strict";var g=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlist,h=b("PagesManagerInboxUnifiedThreadlistUtil").shouldShowUnifiedThreadlistSeparatedTab,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxFilterStore"),b("PagesManagerInboxStore")]};c.calculateState=function(a){a=b("PagesManagerInboxFilterStore").getActiveFolder();var c=b("PagesManagerInboxFilterStore").getActiveType(),d=b("PagesManagerInboxFilterStore").getActiveUTLFolder(),e=b("PagesManagerInboxStore").getBusinessInboxAppConfig(),f=e?e.validPlatformTypes:b("PagesManagerInboxStore").getConfig().validPlatformTypes;a!==b("PageCommItemFolder").TODO&&(f=f.filter(function(a){return a!=="WEC"}));a=e?e.showCommerceEmail:b("PagesManagerInboxStore").getConfig().showCommerceEmail;var g=e?e.showEmailCampaign:b("PagesManagerInboxStore").getConfig().showCommerceEmail;e=e?e.showLeadEmail:b("PagesManagerInboxStore").getConfig().showLeadEmail;return{filterType:c,utlFolderType:d,layoutHeight:b("PagesManagerStore").getLayoutHeight(),validPlatformTypes:f,showCommerceEmail:a,showEmailCampaign:g,navMode:b("PagesManagerInboxStore").getCurrentNavMode(),badgeCountMap:b("PagesManagerInboxStore").getBadgeCounts(),showLeadEmail:e}};var d=c.prototype;d.render=function(){return i.jsx(b("PagesManagerInboxNavBar.react"),{badgeCountMap:this.state.badgeCountMap,filterSelected:this.state.filterType,height:this.state.layoutHeight,pageID:this.props.pageID,selectedNavMode:this.state.navMode,shouldShowNewCommentFlow:!1,shouldShowUnifiedThreadlist:g(),shouldShowUnifiedThreadlistSeparatedTab:h(),showCommerceEmail:this.state.showCommerceEmail,showEmailCampaign:this.state.showEmailCampaign,showIGDirect:this.state.validPlatformTypes.includes("INSTAGRAM_DIRECT"),showLeadEmail:this.state.showLeadEmail,showWEC:this.state.validPlatformTypes.includes("WEC"),utlFolderSelected:this.state.utlFolderType})};return c}(i.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxWelcomeDialogNUX.react",["cx","fbt","ix","Image.react","Link.react","React","XUIButton.react","XUIDialog.react","XUIDialogBody.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a?c.props.onDialogShow():c.props.onDialogHide()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.onDialogShow()};d.componentWillUnmount=function(){this.props.onDialogHide()};d.$2=function(){var a=j.jsx(b("XUIButton.react"),{className:"_2d82",label:h._("OK"),onClick:this.props.onDialogHide,use:"confirm"});return!this.props.onSwitchOldInbox?a:j.jsxs("div",{children:[j.jsx(b("XUIButton.react"),{className:"_457i",label:h._("Use Previous Version"),onClick:this.props.onSwitchOldInbox}),a]})};d.render=function(){return j.jsx(b("XUIDialog.react"),{onToggle:this.$1,shown:!0,width:480,children:j.jsxs(b("XUIDialogBody.react"),{className:"_2d7q",children:[j.jsxs("div",{className:"_2d7r",children:[j.jsx("div",{className:"_2d7s",children:h._("Welcome to Inbox")}),j.jsx("div",{className:"_2d7-",children:h._("Manage conversations with customers from Messenger, Instagram and your Page in one place.")})]}),j.jsx(b("Link.react"),{className:"_2d7_",onClick:this.props.onDialogHide,children:j.jsx("div",{className:"_21_d"})}),j.jsx(b("Image.react"),{className:"_2d80",src:i("94977")}),j.jsx("div",{className:"_2d81",children:this.$2()})]})})};return c}(j.PureComponent);e.exports=a}),null);
__d("PagesManagerInboxWelcomeDialogNUXContainer.react",["FluxContainer","PagesManagerInboxNUX","PagesManagerInboxNUXAction","PagesManagerInboxStore","PagesManagerInboxWelcomeDialogNUX.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h="pages_inbox_welcome_dialog";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesManagerInboxStore")]};c.calculateState=function(){return{shouldShowNUX:b("PagesManagerInboxStore").shouldShowNUX(h)}};var d=c.prototype;d.$1=function(){b("PagesManagerInboxNUXAction").logView(b("PagesManagerInboxNUX")[h])};d.$2=function(){b("PagesManagerInboxNUXAction").dismiss(b("PagesManagerInboxNUX")[h])};d.render=function(){return!this.state.shouldShowNUX?null:g.jsx(b("PagesManagerInboxWelcomeDialogNUX.react"),{onDialogHide:this.$2,onDialogShow:this.$1})};return c}(g.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxAppContainer.react",["cx","CustomLabelUtils","FluxContainer","JSResource","PagesManagerCustomLabelsActions","PagesManagerInboxCometHeaderView.react","PagesManagerInboxCometNavContainer.react","PagesManagerInboxCometUtil","PagesManagerInboxDetailContainer.react","PagesManagerInboxFilterStore","PagesManagerInboxHeaderContainer.react","PagesManagerInboxHeaderView.react","PagesManagerInboxListSpinner.react","PagesManagerInboxListView.react","PagesManagerInboxNavContainer.react","PagesManagerInboxStore","PagesManagerInboxWelcomeDialogNUXContainer.react","PagesManagerListDetailLayout.react","PagesManagerStore","React","RelayFBEnvironment","RelayModern","immutable","joinClasses","lazyLoadComponent","promiseDone","PagesManagerInboxAppContainerLabelsQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("CustomLabelUtils").mergeContactAndCustomerLabels,j=b("PagesManagerCustomLabelsActions").PagesManagerCustomLabelsActions,k=b("PagesManagerInboxCometUtil").shouldShowCometNewDesign,l=b("React"),m=b("RelayModern").fetchQuery;b("RelayModern").graphql;var n=b("lazyLoadComponent")(b("JSResource")("CRMContextCardContainer.react").__setRef("PagesManagerInboxAppContainer.react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={navMode:"messages",selectedThreads:null,isMessaging:!0},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("PagesManagerStore"),b("PagesManagerInboxStore"),b("PagesManagerInboxFilterStore")]};c.calculateState=function(a){var c=b("PagesManagerInboxStore").getCurrentNavMode(),d=c==="messages"&&(b("PagesManagerInboxFilterStore").getActiveType()==="MESSENGER"||b("PagesManagerInboxFilterStore").getActiveType()==="INSTAGRAM_DIRECT"||b("PagesManagerInboxFilterStore").getActiveType()==="ALL");return babelHelpers["extends"]({},a,{navMode:c,selectedThreads:b("PagesManagerStore").getSelectedThreads(),isMessaging:d})};var d=c.prototype;d.componentDidMount=function(){b("promiseDone")(m(b("RelayFBEnvironment"),h!==void 0?h:h=b("PagesManagerInboxAppContainerLabelsQuery.graphql"),{pageID:this.props.pageID}),function(a){var c;c=((c=a.page.custom_tags)==null?void 0:c.edges)||[];a=((a=a.page.custom_labels)==null?void 0:a.edges)||[];a=i(a,c);c=a.map(function(a){var b,c,d,e;b=(b=a.node)==null?void 0:b.id;c=(c=a.node)==null?void 0:c.name;d=((d=a.node)==null?void 0:d.label_color)||((d=a.node)==null?void 0:d.color);a=((e=a.node)==null?void 0:e.contact_count)||((e=a.node)==null?void 0:e.thread_count)||0;if(c!=null&&b!=null&&d!=null)return[c,{name:c,id:b,color:d,thread_count:a}]});a=b("immutable").Map(c.filter(Boolean)||[]);j.initStore(a)})};d.$1=function(){return l.jsx(b("PagesManagerInboxHeaderContainer.react"),{ChildClass:k()?b("PagesManagerInboxCometHeaderView.react"):b("PagesManagerInboxHeaderView.react"),navMode:this.state.navMode})};d.$2=function(){return l.jsx(b("PagesManagerInboxDetailContainer.react"),{navMode:this.state.navMode,paddingBottom:this.props.detailPaddingBottom,pageName:this.props.pageName,pageProfilePicURI:this.props.pageProfilePicURI})};d.$3=function(){return l.jsx(b("PagesManagerInboxListView.react"),{config:this.props.config,navMode:this.state.navMode,paddingBottom:this.props.listPaddingBottom,pageID:this.props.pageID,pageName:this.props.pageName})};d.$4=function(){return l.jsx(b("PagesManagerInboxNavContainer.react"),{paddingBottom:this.props.listPaddingBottom,pageID:this.props.pageID,pageName:this.props.pageName})};d.$5=function(){return l.jsx(b("PagesManagerInboxCometNavContainer.react"),{paddingBottom:this.props.listPaddingBottom,pageID:this.props.pageID,pageName:this.props.pageName,pageProfilePicURI:this.props.pageProfilePicURI})};d.$6=function(){return l.jsx(l.Suspense,{fallback:l.jsx("div",{className:"_6pe-",children:l.jsx(b("PagesManagerInboxListSpinner.react"),{})}),children:l.jsx(n,{paddingBottom:this.props.detailPaddingBottom,pageID:this.props.pageID})})};d.render=function(){var a=this.state.selectedThreads?this.state.selectedThreads.count():0,c=b("joinClasses")("_10uf","_1-9p"),d=k()?this.$5():this.$4(),e=this.$3();(this.state.navMode==="email_campaign"||this.state.navMode==="contacts")&&(e=null);return l.jsxs("div",{className:"_5o79","data-testid":void 0,children:[l.jsx(b("PagesManagerListDetailLayout.react"),{contextCardClassName:"_2evq",contextCardSection:this.$6(),detailClassName:"_2evr",detailSection:this.$2(),fullScreen:!0,headerClassName:"_2evs",headerSection:this.$1(),isMessaging:this.state.isMessaging,listClassName:k()&&this.state.navMode==="messages"?"_1-9p":c,listSection:e,navigationSection:d,navigationSectionClassName:k()?"_8dau":"_6idi",selectedThreads:a}),l.jsx(b("PagesManagerInboxWelcomeDialogNUXContainer.react"),{})]})};return c}(l.PureComponent);e.exports=b("FluxContainer").create(a)}),null);
__d("PagesManagerInboxLoggerStore",["FluxStore","PagesManagerDispatcher","PagesManagerInboxLogger"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("PagesManagerDispatcher"))||this}var d=c.prototype;d.__onDispatch=function(a){a=a.type;if(a===void 0)return;b("PagesManagerInboxLogger").create(a).log()};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesManagerPageCommItemDeleteSubscriptionHandler",[],(function(a,b,c,d,e,f){"use strict";var g=new Map(),h=0,i={_generateToken:function(){return"page_comm_item_delete_subscription_"+h++},addCallback:function(a){var b=i._generateToken();g.set(b,a);return b},removeCallback:function(a){g["delete"](a)},trigger:function(a){g.forEach(function(b){return b(a)})}};e.exports=i}),null);
__d("PagesManagerPageCommItemDeleteSubscription",["PageCommItemStatusUtil","PagesManagerAction","PagesManagerInboxFilterStore","PagesManagerPageCommItemDeleteSubscriptionHandler","RelayFBEnvironment","RelayModern","RelayRTIGraphQLSubscriptionTopicProvider","RelayRuntime","relay-runtime","PagesManagerPageCommItemDeleteSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription;c=b("relay-runtime").getRequest;var j=g!==void 0?g:g=b("PagesManagerPageCommItemDeleteSubscription.graphql");d=c(j);f=d.params.id;f!==null&&b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(f,function(a){return"gqls/page_comm_item_delete_subscribe/page_id_"+a.page_id});function a(a,c){var d=function(c){var d=c.get(a.page_id);if(!d)return;c=c.getRootField("page_comm_item_delete_subscribe");if(!c)return;c=String(c.getValue("page_comm_item_id"));if(!c)return;d=h.getConnection(d,"PagesManagerInboxListRelayContainer_page_comm_items",{with_comm_status:b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder()),with_comm_platform:b("PagesManagerInboxFilterStore").getActiveType(),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});d&&(b("PagesManagerAction").clearViewListItem(),h.deleteNode(d,c))},e=function(a){b("PagesManagerPageCommItemDeleteSubscriptionHandler").trigger(a),c&&c.onNext&&c.onNext(a)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:e})}e.exports={subscribe:a}}),null);
__d("PagesManagerPageCommItemEditSubscription",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","PagesManagerInboxStore","PagesManagerPageCommItemEditSubscriptionHandler","RelayFBEnvironment","RelayModern","RelayRTIGraphQLSubscriptionTopicProvider","RelayRuntime","relay-runtime","PagesManagerPageCommItemEditSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler;c=b("relay-runtime").getRequest;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("PagesManagerPageCommItemEditSubscription.graphql");function k(a,b){a=a.getLinkedRecords("edges");if(!a)return null;var c=null;a.forEach(function(a){var d=a&&a.getLinkedRecord("node");d&&d.getValue("id")===b&&(c=a)});return c}d=c(j);f=d.params.id;f!==null&&b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(f,function(a){return"gqls/page_comm_item_edit_subscribe/page_id_"+a.page_id});function a(a,c){var d=function(c){var d=c.get(a.page_id);if(!d)return;var e=c.getRootField("page_comm_item_edit_subscribe");if(!e)return;e=e.getLinkedRecord("page_comm_item");if(!e)return;var f=String(e.getValue("id"));if(!f)return;var g=e.getValue("comm_status"),i=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder()),j=b("PagesManagerInboxStore").getConfig().platformConfigs,l=b("PagesManagerInboxFilterStore").getActiveType(),m=e.getLinkedRecord("comm_item_owners");m=m&&m.getLinkedRecords("nodes");m=m&&m[0]&&m[0].getLinkedRecord("admin");m=m&&m.getValue("id");var n=b("PagesManagerInboxFilterStore").getActiveOwner().id;d=h.getConnection(d,"PagesManagerInboxListRelayContainer_business_comm_items",{with_comm_status:i,with_comm_platform:e.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});if(d){var o=k(d,f);if(i!==g||n&&n!==m)h.deleteNode(d,f);else if(!o&&!j[l].selectedCommentView==="TOP_LEVEL_COMMENT"){i=h.createEdge(c,d,e,"PageBusinessCommItemsEdge");i&&h.insertEdgeBefore(d,i)}}},e=function(a){b("PagesManagerPageCommItemEditSubscriptionHandler").trigger(a),c&&c.onNext&&c.onNext(a)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:e})}e.exports={subscribe:a}}),null);
__d("PagesManagerPageCommItemPartDeleteSubscription",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerPageCommItemPartDeleteSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("PagesManagerPageCommItemPartDeleteSubscription.graphql");function a(a,c){var d=function(c){var d=c.get(a.page_id);if(!d)return;c=c.getRootField("page_comm_item_part_delete_subscribe");if(!c)return;c=String(c.getValue("page_comm_item_part_id"));if(!c)return;d=h.getConnection(d,"PagesManagerInboxListRelayContainer_business_comm_items",{with_comm_status:b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder()),with_comm_platform:b("PagesManagerInboxFilterStore").getActiveType(),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});d&&h.deleteNode(d,c)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError})}e.exports={subscribe:a}}),null);
__d("PagesManagerPageCommItemPartEditSubscriptionHandler",[],(function(a,b,c,d,e,f){"use strict";var g=new Map(),h=0,i={_generateToken:function(){return"page_comm_item_part_edit_subscription_"+h++},addCallback:function(a){var b=i._generateToken();g.set(b,a);return b},removeCallback:function(a){g["delete"](a)},trigger:function(a){g.forEach(function(b){return b(a)})}};e.exports=i}),null);
__d("PagesManagerPageCommItemPartEditSubscription",["PageCommItemStatusUtil","PagesManagerInboxFilterStore","PagesManagerPageCommItemPartEditSubscriptionHandler","RelayFBEnvironment","RelayModern","RelayRuntime","PagesManagerPageCommItemPartEditSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayRuntime").ConnectionHandler;b("RelayModern").graphql;var i=b("RelayModern").requestSubscription,j=g!==void 0?g:g=b("PagesManagerPageCommItemPartEditSubscription.graphql");function k(a,b){a=a.getLinkedRecords("edges");if(!a)return null;var c=null;a.forEach(function(a){var d=a&&a.getLinkedRecord("node");d&&d.getValue("id")===b&&(c=a)});return c}function a(a,c){var d=function(c){var d=c.get(a.page_id);if(!d)return;var e=c.getRootField("page_comm_item_part_edit_subscribe");if(!e)return;e=e.getLinkedRecord("page_comm_item_part");if(!e)return;var f=String(e.getValue("id"));if(!f)return;var g=e.getValue("is_important"),i=e.getValue("is_read"),j=b("PageCommItemStatusUtil").getFolderStatus(b("PagesManagerInboxFilterStore").getActiveFolder());if(b("PagesManagerInboxFilterStore").getCommentsTab()==="highlighted"&&!g)return;if(b("PagesManagerInboxFilterStore").getCommentsTab()==="unread"&&i)return;g=h.getConnection(d,"PagesManagerInboxListRelayContainer_business_comm_items",{with_comm_status:j,with_comm_platform:e.getValue("comm_platform"),with_owner_admin_id:b("PagesManagerInboxFilterStore").getActiveOwner().id});if(g){i=k(g,f);if(!i){d=h.createEdge(c,g,e,"PageBusinessCommItemsEdge");d&&h.insertEdgeBefore(g,d)}}},e=function(a){b("PagesManagerPageCommItemPartEditSubscriptionHandler").trigger(a),c&&c.onNext&&c.onNext(a)};return i(b("RelayFBEnvironment"),{subscription:j,variables:{input:a},updater:d,onCompleted:c&&c.onCompleted,onError:c&&c.onError,onNext:e})}e.exports={subscribe:a}}),null);
__d("BusinessInboxApp.react",["PagesManagerInboxLoggerStore","Arbiter","Bootloader","ChannelManager","IGMessageDataDispatcher","MercuryServerPayloadPreprocessor","MercurySyncPageEnvironment","PagesManagerAction","PagesManagerInboxAction","PagesManagerInboxAppContainer.react","PagesManagerInboxFilterAction","PagesManagerInboxLogger","PagesManagerPageCommItemDeleteSubscription","PagesManagerPageCommItemEditSubscription","PagesManagerPageCommItemPartDeleteSubscription","PagesManagerPageCommItemPartEditSubscription","PagesMarketingAutomationActions","PagesMarketingAutomationDispatcher","PagesMarketingAutomationStore","PagesMessagingInboxActionLogger","QE2Logger","React","RelayAPIConfig","Timezone","getFBAlphaConsoleSize","getFBDockSize","RulesTimezoneTransitionProvider","TimezoneRulesFrom2009","TimezoneNamesData"],(function(a,b,c,d,e,f){"use strict";b("PagesManagerInboxLoggerStore");var g=b("React");b("Timezone").registerRulesModule(b("RulesTimezoneTransitionProvider"),b("TimezoneRulesFrom2009"));b("Timezone").registerNamesModule(b("TimezoneNamesData"));b("ChannelManager").startChannelManager();a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$7=function(){d.setState(d.$5())};b("PagesManagerInboxLogger").init(c.pageID);b("PagesMessagingInboxActionLogger").init(c.pageID);b("RelayAPIConfig").DO_NOT_USE_setActorID(c.pageID);b("PagesMarketingAutomationDispatcher").explicitlyRegisterStores([b("PagesMarketingAutomationStore")]);d.state=d.$5();return d}var d=c.prototype;d.componentDidMount=function(){this.$6();b("Arbiter").subscribeOnce("pagelet_dock_displayed",this.$7,"new");var a=b("MercuryServerPayloadPreprocessor").getForFBID(this.props.pageID);a.handleUpdate(this.props.config.jewelInitData)};d.componentWillUnmount=function(){var a=this;this.$1&&this.$1.dispose();this.$2&&this.$2.dispose();this.$3&&this.$3.dispose();this.$4&&this.$4.dispose();var c={};this.props.config.validPlatformTypes.map(function(d){d=a.props.config.platformConfigs[d];if(c[d.mailboxID])return;c[d.mailboxID]=!0;b("MercurySyncPageEnvironment").tearDown(d.mailboxID)})};d.UNSAFE_componentWillMount=function(){var a=this,c=babelHelpers["extends"]({},this.props.config);if(c.validPlatformTypes.includes("INSTAGRAM_DIRECT")){var d=c.platformConfigs.INSTAGRAM_DIRECT;d.mailboxID!==null&&d.mailboxID!==void 0&&(b("Bootloader").loadModules(["IGMessageInboxStore"],function(a){b("IGMessageDataDispatcher").explicitlyRegisterStore(a),a.setInboxIGID(d.igAccountIGID),a.setInboxProfilePic(d.igProfilePicURI)},"BusinessInboxApp.react"),b("Bootloader").loadModules(["IGMessageConnectionStatusStore"],function(a){b("IGMessageDataDispatcher").explicitlyRegisterStore(a)},"BusinessInboxApp.react"))}b("PagesManagerInboxAction").initialConfig(this.props.pageID,c,this.props.businessInboxConfig,this.props.selectedItem);this.props.selectedItem&&this.props.selectedItem.platform&&b("PagesManagerInboxFilterAction").changeType(this.props.pageID,this.props.selectedItem.platform);b("PagesManagerInboxAction").setIsInBizKit(this.props.isInBizKit===!0);if(this.props.isInBizKit===!0)if(this.props.selectedItem==null)b("PagesManagerAction").clearViewListItem(),b("PagesManagerInboxFilterAction").changeActiveUTLFolder("ALL");else{c=(c=(c=this.props.selectedItem)==null?void 0:c.platform)!=null?c:"ALL";b("PagesManagerAction").setInitialViewItem(this.props.selectedItem.id);b("PagesManagerInboxFilterAction").changeActiveUTLFolder(c)}b("PagesManagerInboxAction").setNavMode(this.props.section);b("PagesMarketingAutomationActions").updateAutomationType(this.props.automation);this.props.useIntakeFormSetupExperience===!0&&this.props.automation==="organic_intake_form"&&b("PagesMarketingAutomationActions").setupIntakeFormSetupExperience();b("PagesMarketingAutomationActions").initialServicesReferrerConfig(this.props.servicesReferrerConfig);this.$1=b("PagesManagerPageCommItemDeleteSubscription").subscribe({page_id:this.props.pageID});this.$2=b("PagesManagerPageCommItemEditSubscription").subscribe({page_id:this.props.pageID});this.props.config.platformConfigs.FACEBOOK.selectedCommentView==="TOP_LEVEL_COMMENT"&&(this.$3=b("PagesManagerPageCommItemPartEditSubscription").subscribe({page_id:this.props.pageID}),this.$4=b("PagesManagerPageCommItemPartDeleteSubscription").subscribe({page_id:this.props.pageID}));var e={};this.props.config.validPlatformTypes.map(function(c){c=a.props.config.platformConfigs[c];if(!c.mailboxID)return;if(e[c.mailboxID])return;e[c.mailboxID]=!0;b("MercurySyncPageEnvironment").setUp(c.mailboxID,c.initSyncSequenceID)})};d.$5=function(){var a=b("getFBAlphaConsoleSize")().height;if(a)return{detailPaddingBottom:a,listPaddingBottom:a};a=b("getFBDockSize")().height;return{detailPaddingBottom:a,listPaddingBottom:0}};d.$8=function(a,c){return b("QE2Logger").logExposureForPage(a,c)};d.$6=function(){this.$8("unified_inbox_ig_direct_integration",this.props.pageID),this.$8("unified_inbox_ig_direct_global_launch",this.props.pageID),this.$8("unified_inbox_wec_integration",this.props.pageID),this.$8("page_inbox_saved_reply_new_ui",this.props.pageID),this.$8("biz_inbox_auto_response_restructure",this.props.pageID)};d.render=function(){var a;return g.jsx(b("PagesManagerInboxAppContainer.react"),{config:this.props.config,detailPaddingBottom:this.state.detailPaddingBottom,listPaddingBottom:this.state.listPaddingBottom,pageID:this.props.pageID,pageName:this.props.pageName,pageProfilePicURI:this.props.pageProfilePicURI,platform:(a=this.props.selectedItem)==null?void 0:a.platform})};return c}(g.PureComponent);e.exports=a}),null);